{"version":3,"sources":["./src/$_lazy_route_resource lazy namespace object","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/components/ammo-capacities/ammo-capacities.component.ts","./src/app/components/ammo-capacities/ammo-capacities.component.html","./src/app/components/armor-list/armor-list.component.ts","./src/app/components/armor-list/armor-list.component.html","./src/app/components/augmentation-slot/augmentation-slot.component.ts","./src/app/components/augmentation-slot/augmentation-slot.component.html","./src/app/components/augmentations-list/augmentations-list.component.ts","./src/app/components/augmentations-list/augmentations-list.component.html","./src/app/components/awakening-slot/awakening-slot.component.ts","./src/app/components/awakening-slot/awakening-slot.component.html","./src/app/components/calc-details/calc-details.component.ts","./src/app/components/calc-details/calc-details.component.html","./src/app/components/charm-list/charm-list.component.ts","./src/app/components/charm-list/charm-list.component.html","./src/app/components/common-details/common-details.component.ts","./src/app/components/common-details/common-details.component.html","./src/app/components/common/common.module.ts","./src/app/components/common/dropdown/dropdown.component.ts","./src/app/components/common/dropdown/dropdown.component.html","./src/app/components/common/modal/modal.component.ts","./src/app/components/common/modal/modal.component.html","./src/app/components/decoration-details/decoration-details.component.ts","./src/app/components/decoration-details/decoration-details.component.html","./src/app/components/decoration-list/decoration-list.component.ts","./src/app/components/decoration-list/decoration-list.component.html","./src/app/components/decoration-slot/decoration-slot.component.ts","./src/app/components/decoration-slot/decoration-slot.component.html","./src/app/components/equipped-buffs/equipped-buffs.component.ts","./src/app/components/equipped-buffs/equipped-buffs.component.html","./src/app/components/equipped-skills/equipped-skills.component.ts","./src/app/components/equipped-skills/equipped-skills.component.html","./src/app/components/equipped-stats/equipped-stats.component.ts","./src/app/components/equipped-stats/equipped-stats.component.html","./src/app/components/item-details/item-details.component.ts","./src/app/components/item-details/item-details.component.html","./src/app/components/item-slot/item-slot.component.ts","./src/app/components/item-slot/item-slot.component.html","./src/app/components/kinsect-details/kinsect-details.component.ts","./src/app/components/kinsect-details/kinsect-details.component.html","./src/app/components/kinsect-list/kinsect-list.component.ts","./src/app/components/kinsect-list/kinsect-list.component.html","./src/app/components/kinsect-slot/kinsect-slot.component.ts","./src/app/components/kinsect-slot/kinsect-slot.component.html","./src/app/components/melodies/melodies.component.ts","./src/app/components/melodies/melodies.component.html","./src/app/components/modification-slot/modification-slot.component.ts","./src/app/components/modification-slot/modification-slot.component.html","./src/app/components/modifications-list/modifications-list.component.ts","./src/app/components/modifications-list/modifications-list.component.html","./src/app/components/set-bonus-details/set-bonus-details.component.ts","./src/app/components/set-bonus-details/set-bonus-details.component.html","./src/app/components/set-list/set-list.component.ts","./src/app/components/set-list/set-list.component.html","./src/app/components/setbonus-list/setbonus-list.component.ts","./src/app/components/setbonus-list/setbonus-list.component.html","./src/app/components/sharpness-bar/sharpness-bar.component.ts","./src/app/components/sharpness-bar/sharpness-bar.component.html","./src/app/components/skill-details/skill-details.component.ts","./src/app/components/skill-details/skill-details.component.html","./src/app/components/tool-list/tool-list.component.ts","./src/app/components/tool-list/tool-list.component.html","./src/app/components/tooltip/tooltip.component.ts","./src/app/components/tooltip/tooltip.component.html","./src/app/components/upagrade-slot/upgrade-slot.component.ts","./src/app/components/upagrade-slot/upgrade-slot.component.html","./src/app/components/upgrade-details/upgrade-details.component.ts","./src/app/components/upgrade-details/upgrade-details.component.html","./src/app/components/upgrades-list/upgrades-list.component.ts","./src/app/components/upgrades-list/upgrades-list.component.html","./src/app/components/weapon-list/weapon-list.component.ts","./src/app/components/weapon-list/weapon-list.component.html","./src/app/data/data.module.ts","./src/app/data/loaders/ammo-capacities.loader.ts","./src/app/data/loaders/armor.loader.ts","./src/app/data/loaders/augmentations.loader.ts","./src/app/data/loaders/awakenings.loader.ts","./src/app/data/loaders/charms.loader.ts","./src/app/data/loaders/data.loader.ts","./src/app/data/loaders/decorations.loader.ts","./src/app/data/loaders/kinsects.loader.ts","./src/app/data/loaders/melodies.loader.ts","./src/app/data/loaders/melodyEffect.loader.ts","./src/app/data/loaders/modifications.loader.ts","./src/app/data/loaders/set-bonuses.loader.ts","./src/app/data/loaders/sharpness-modifiers.loader.ts","./src/app/data/loaders/skills.loader.ts","./src/app/data/loaders/tools.loader.ts","./src/app/data/loaders/upgrades.loader.ts","./src/app/data/loaders/weapon-modifiers.loader.ts","./src/app/data/loaders/weapons.loader.ts","./src/app/data/parsers/data-parser.ts","./src/app/data/parsers/melodies-effect.parser.ts","./src/app/data/parsers/melodies.parser.ts","./src/app/data/parsers/other-data.parser.ts","./src/app/data/parsers/skill-references.parser.ts","./src/app/data/parsers/slots.parser.ts","./src/app/data/parsers/tags.parser.ts","./src/app/data/parsers/values.parser.ts","./src/app/models/ammo-capacities.model.ts","./src/app/models/app-data.model.ts","./src/app/models/augmentation.model.ts","./src/app/models/awakening-level.model.ts","./src/app/models/buffs.model.ts","./src/app/models/build.model.ts","./src/app/models/common.model.ts","./src/app/models/decoration.model.ts","./src/app/models/equipped-set-bonus.model.ts","./src/app/models/equipped-skill.model.ts","./src/app/models/extra-data.model.ts","./src/app/models/item.model.ts","./src/app/models/kinsect.model.ts","./src/app/models/melodies.model.ts","./src/app/models/modification.model.ts","./src/app/models/sharpness-bar.model.ts","./src/app/models/skill.model.ts","./src/app/models/stat-detail.model.ts","./src/app/models/stats.model.ts","./src/app/models/upgrade-container.model.ts","./src/app/models/upgrade.model.ts","./src/app/pipes/numberArr.pipe.ts","./src/app/providers/app-data.provider.ts","./src/app/services/build.service.ts","./src/app/services/calculation.service.ts","./src/app/services/data.service.ts","./src/app/services/equipment.service.ts","./src/app/services/set.service.ts","./src/app/services/skill.service.ts","./src/app/services/slot.service.ts","./src/app/services/stat.service.ts","./src/app/services/tooltip.service.ts","./src/app/types/ailment.type.ts","./src/app/types/ammo.type.ts","./src/app/types/attack.type.ts","./src/app/types/awakening.type.ts","./src/app/types/damage.type.ts","./src/app/types/deviation.type.ts","./src/app/types/elderseal.type.ts","./src/app/types/element.type.ts","./src/app/types/equipment-category.type.ts","./src/app/types/item.type.ts","./src/app/types/mode.type.ts","./src/app/types/pointer.type.ts","./src/app/types/weapon.type.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { Location } from '@angular/common';\nimport { AfterViewInit, ChangeDetectorRef, Component, HostListener, OnInit, ViewChild } from '@angular/core';\nimport { AugmentationSlotComponent } from './components/augmentation-slot/augmentation-slot.component';\nimport { ModalComponent } from './components/common/modal/modal.component';\nimport { DecorationSlotComponent } from './components/decoration-slot/decoration-slot.component';\nimport { EquippedSkillsComponent } from './components/equipped-skills/equipped-skills.component';\nimport { EquippedStatsComponent } from './components/equipped-stats/equipped-stats.component';\nimport { ItemSlotComponent } from './components/item-slot/item-slot.component';\nimport { TooltipComponent } from './components/tooltip/tooltip.component';\nimport { BuildService } from './services/build.service';\nimport { DataService } from './services/data.service';\nimport { SlotService } from './services/slot.service';\nimport { EquipmentCategoryType } from './types/equipment-category.type';\nimport { ItemType } from './types/item.type';\nimport { PointerType } from './types/pointer.type';\nimport html2canvas from 'html2canvas';\n\n@Component({\n\tselector: 'mhw-builder-root',\n\ttemplateUrl: './app.component.html',\n\tstyleUrls: ['./app.component.scss']\n})\n\nexport class AppComponent implements OnInit, AfterViewInit {\n\tpublic equipmentCategoryTypes = EquipmentCategoryType;\n\tpublic itemTypes = ItemType;\n\n\t@ViewChild(EquippedStatsComponent, { static: true }) equippedStatsComponent: EquippedStatsComponent;\n\t@ViewChild(EquippedSkillsComponent, { static: true }) equippedSkillsComponent: EquippedSkillsComponent;\n\t@ViewChild(TooltipComponent, { static: true }) tooltipComponent: TooltipComponent;\n\t@ViewChild('weaponSlot', { static: true }) weaponSlot: ItemSlotComponent;\n\t@ViewChild('headSlot', { static: true }) headSlot: ItemSlotComponent;\n\t@ViewChild('chestSlot', { static: true }) chestSlot: ItemSlotComponent;\n\t@ViewChild('armsSlot', { static: true }) armsSlot: ItemSlotComponent;\n\t@ViewChild('waistSlot', { static: true }) waistSlot: ItemSlotComponent;\n\t@ViewChild('legsSlot', { static: true }) legsSlot: ItemSlotComponent;\n\t@ViewChild('charmSlot', { static: true }) charmSlot: ItemSlotComponent;\n\t@ViewChild('tool1Slot', { static: true }) tool1Slot: ItemSlotComponent;\n\t@ViewChild('tool2Slot', { static: true }) tool2Slot: ItemSlotComponent;\n\n\t@ViewChild('itemListModal', { static: true }) itemListModal: ModalComponent;\n\t@ViewChild('changeLogModal', { static: true }) changeLogModal: ModalComponent;\n\t@ViewChild('setListModal', { static: true }) setListModal: ModalComponent;\n\t@ViewChild('contributorsModal', { static: true }) contributorsModal: ModalComponent;\n\n\tequipmentVisible = true;\n\tstatsVisible = true;\n\n\ttabsVisible = false;\n\tattackDefenseVisible = true;\n\tskillsVisible = true;\n\tbuffsVisible = true;\n\tdetailsVisible = true;\n\n\tmodalTitle: string;\n\n\tselectedEquipmentSlot: ItemSlotComponent;\n\tselectedDecorationSlot: DecorationSlotComponent;\n\tselectedAugmentationSlot: AugmentationSlotComponent;\n\n\t@HostListener('window:resize')\n\tonResize() {\n\t\tthis.respondToResize();\n\t}\n\n\tconstructor(\n\t\tpublic slotService: SlotService,\n\t\tpublic dataService: DataService,\n\t\tprivate buildService: BuildService,\n\t\tprivate changeDetector: ChangeDetectorRef,\n\t\tprivate location: Location\n\t) { }\n\n\tngOnInit(): void {\n\t\tthis.slotService.initialize(\n\t\t\tthis.weaponSlot,\n\t\t\tthis.headSlot,\n\t\t\tthis.chestSlot,\n\t\t\tthis.armsSlot,\n\t\t\tthis.waistSlot,\n\t\t\tthis.legsSlot,\n\t\t\tthis.charmSlot,\n\t\t\tthis.tool1Slot,\n\t\t\tthis.tool2Slot,\n\t\t\tthis.changeDetector\n\t\t);\n\n\t\tthis.respondToResize();\n\n\t\tthis.buildService.initialize(this.changeDetector);\n\n\t\tthis.buildService.buildIdUpdated$.subscribe(buildId => {\n\t\t\tthis.location.replaceState(this.location.path(false), '#' + buildId);\n\t\t});\n\n\t\tthis.slotService.anySlotSelected$.subscribe(slot => {\n\t\t\tif (this.itemListModal) {\n\t\t\t\tthis.itemListModal.title = `Select ${slot.slotName}`;\n\t\t\t\tthis.itemListModal.isOpen = slot != null;\n\t\t\t}\n\t\t});\n\n\t\tthis.slotService.itemSelected$.subscribe(item => {\n\t\t\tif (this.itemListModal) {\n\t\t\t\tthis.itemListModal.isOpen = !item;\n\t\t\t}\n\t\t});\n\n\t\tthis.slotService.decorationSelected$.subscribe(decoration => {\n\t\t\tif (this.itemListModal) {\n\t\t\t\tthis.itemListModal.isOpen = !decoration;\n\t\t\t}\n\t\t});\n\n\t\tthis.slotService.augmentationSelected$.subscribe(augmentation => {\n\t\t\tif (this.itemListModal) {\n\t\t\t\tthis.itemListModal.isOpen = !augmentation;\n\t\t\t}\n\t\t});\n\n\t\tthis.slotService.upgradeSelected$.subscribe(upgrade => {\n\t\t\tif (this.itemListModal) {\n\t\t\t\tthis.itemListModal.isOpen = !upgrade;\n\t\t\t}\n\t\t});\n\n\t\tthis.slotService.setbonusSelected$.subscribe(setBonus => {\n\t\t\tif (this.itemListModal) {\n\t\t\t\tthis.itemListModal.isOpen = !setBonus;\n\t\t\t}\n\t\t});\n\n\t\tthis.slotService.modificationSelected$.subscribe(modification => {\n\t\t\tif (this.itemListModal) {\n\t\t\t\tthis.itemListModal.isOpen = !modification;\n\t\t\t}\n\t\t});\n\n\t\tthis.slotService.kinsectSelected$.subscribe(kinsect => {\n\t\t\tif (this.itemListModal) {\n\t\t\t\tthis.itemListModal.isOpen = !kinsect;\n\t\t\t}\n\t\t});\n\t}\n\n\tngAfterViewInit() {\n\t\tif (location.hash) {\n\t\t\tthis.buildService.loadBuild(location.hash);\n\t\t}\n\t}\n\n\trespondToResize() {\n\t\tif (window.innerWidth <= 768) {\n\t\t\tif (!this.equipmentVisible && this.statsVisible) {\n\t\t\t\tthis.equipmentVisible = false;\n\t\t\t\tthis.statsVisible = true;\n\t\t\t\tthis.attackDefenseVisible = true;\n\t\t\t\tthis.skillsVisible = false;\n\t\t\t\tthis.buffsVisible = true;\n\t\t\t} else {\n\t\t\t\tthis.equipmentVisible = true;\n\t\t\t\tthis.statsVisible = false;\n\t\t\t\tthis.attackDefenseVisible = false;\n\t\t\t\tthis.skillsVisible = false;\n\t\t\t\tthis.buffsVisible = false;\n\t\t\t}\n\t\t\tthis.tabsVisible = true;\n\t\t} else {\n\t\t\tthis.equipmentVisible = true;\n\t\t\tthis.statsVisible = true;\n\t\t\tthis.attackDefenseVisible = true;\n\t\t\tthis.skillsVisible = true;\n\t\t\tthis.buffsVisible = true;\n\t\t\tthis.tabsVisible = false;\n\t\t}\n\t}\n\n\tequipmentSelected() {\n\t\tthis.equipmentVisible = true;\n\t\tthis.statsVisible = false;\n\t}\n\n\tstatsSelected() {\n\t\tthis.equipmentVisible = false;\n\t\tthis.statsVisible = true;\n\t\tthis.attackDefenseVisible = true;\n\t\tthis.skillsVisible = false;\n\t\tthis.detailsVisible = true;\n\t\tthis.buffsVisible = true;\n\t}\n\tskillsSelected() {\n\t\tthis.equipmentVisible = false;\n\t\tthis.statsVisible = true;\n\t\tthis.attackDefenseVisible = false;\n\t\tthis.skillsVisible = true;\n\t\tthis.detailsVisible = false;\n\t\tthis.buffsVisible = false;\n\t}\n\n\t@HostListener('document:keydown', ['$event']) onKeydownHandler(event: KeyboardEvent) {\n\t\tif (event.key === 'Enter') {\n\t\t\tdocument.getElementById('dummy').focus();\n\t\t}\n\t}\n\n\tmoveTooltip(event: PointerEvent) {\n\t\tif (event.pointerType == PointerType.Mouse) {\n\t\t\tthis.tooltipComponent.move(event.clientX, event.clientY);\n\t\t}\n\t}\n\n\topenItemListModal() {\n\t\tif (this.itemListModal.isOpen) {\n\t\t\tthis.itemListModal.close();\n\t\t} else {\n\t\t\tthis.itemListModal.open();\n\t\t}\n\t}\n\n\topenChangeLog() {\n\t\tthis.changeLogModal.open();\n\t}\n\n\topenSaveModal() {\n\t\tthis.setListModal.open();\n\t}\n\n\tclearAllItems() {\n\t\tif (confirm('Are you sure you want to clear all items?')) {\n\t\t\tthis.buildService.loadBuild('#v3iiiiiiiii');\n\t\t} else {\n\t\t}\n\t}\n\n\tscreenshot() {\n\t\thtml2canvas(document.body).then(function(canvas) {\n\t\t\tvar a = document.createElement('a');\n\t\t\ta.setAttribute('download', new Date().toISOString()+'.MHW-Builder.png');\n\t\t\ta.setAttribute('href', canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\"));\n\t\t\ta.click();\n\t\t});\n\t}\n\n\topenContributors() {\n\t\tthis.contributorsModal.open();\n\t}\n}\n","<div class=\"container\" (pointermove)=\"moveTooltip($event)\">\n\t<div class=\"tab-container\">\n\t\t<div class=\"tab\" (click)=\"equipmentSelected()\" [class.selected]=\"equipmentVisible\">Equipment</div>\n\t\t<div class=\"tab\" (click)=\"statsSelected()\" [class.selected]=\"attackDefenseVisible && statsVisible\">Stats</div>\n\t\t<div class=\"tab\" (click)=\"skillsSelected()\" [class.selected]=\"skillsVisible && statsVisible\">Skills</div>\n\t\t<div class=\"tab\" (click)=\"openSaveModal()\">\n\t\t\t<i class=\"fas fa-save fa-lg\"></i>\n\t\t</div>\n\t</div>\n\n\t<div class=\"equipment-container\" [hidden]=\"!equipmentVisible\">\n\t\t<div class=\"equipment-slots-container\">\n\t\t\t<mhw-builder-item-slot #weaponSlot slotName=\"Weapon\"></mhw-builder-item-slot>\n\t\t\t<mhw-builder-item-slot #headSlot slotName=\"Head\"></mhw-builder-item-slot>\n\t\t\t<mhw-builder-item-slot #chestSlot slotName=\"Chest\"></mhw-builder-item-slot>\n\t\t\t<mhw-builder-item-slot #armsSlot slotName=\"Arms\"></mhw-builder-item-slot>\n\t\t\t<mhw-builder-item-slot #waistSlot slotName=\"Waist\"></mhw-builder-item-slot>\n\t\t\t<mhw-builder-item-slot #legsSlot slotName=\"Legs\"></mhw-builder-item-slot>\n\t\t\t<mhw-builder-item-slot #charmSlot slotName=\"Charm\"></mhw-builder-item-slot>\n\t\t\t<mhw-builder-item-slot #tool1Slot slotName=\"Tool1\"></mhw-builder-item-slot>\n\t\t\t<mhw-builder-item-slot #tool2Slot slotName=\"Tool2\"></mhw-builder-item-slot>\n\t\t</div>\n\t</div>\n\t<div class=\"stats-container\" [hidden]=\"!statsVisible\">\n\t\t<div class=\"control-buttons\">\n\t\t\t<button type=\"button\" (click)=\"screenshot()\" title=\"Screenshot\">\n\t\t\t\t<i class=\"fas fa-camera fa-lg\"></i>\n\t\t\t</button>\n\t\t\t<button type=\"button\" (click)=\"clearAllItems()\" title=\"Clear\">\n\t\t\t\t<i class=\"fas fa-eraser fa-lg\"></i>\n\t\t\t</button>\n\t\t\t<button type=\"button\" (click)=\"openSaveModal()\" title=\"Save\">\n\t\t\t\t<i class=\"fas fa-save fa-lg\"></i>\n\t\t\t</button>\n\t\t</div>\n\t\t<mhw-builder-equipped-stats [hidden]=\"!attackDefenseVisible\"></mhw-builder-equipped-stats>\n\t\t<mhw-builder-equipped-skills [hidden]=\"!skillsVisible\"></mhw-builder-equipped-skills>\n\t\t<ng-container *ngIf=\"weaponSlot?.item?.melodies && attackDefenseVisible\">\n\t\t\t<br />\n\t\t\t<h4>\n\t\t\t\tMelodies\n\t\t\t\t<span [hidden]=\"!detailsVisible\" (click)=\"detailsVisible = !detailsVisible\"><i\n\t\t\t\t\t\tclass=\"fas fa-minus-circle number\"></i></span>\n\t\t\t\t<span [hidden]=\"detailsVisible\" (click)=\"detailsVisible = !detailsVisible\"><i\n\t\t\t\t\t\tclass=\"fas fa-plus-circle number\"></i></span>\n\t\t\t</h4>\n\t\t\t<div [hidden]=\"!detailsVisible\">\n\t\t\t\t<hr>\n\t\t\t\t<mhw-builder-melodies [weaponMelodies]=\"weaponSlot.item.melodies\"></mhw-builder-melodies>\n\t\t\t</div>\n\t\t</ng-container>\n\t\t<mhw-builder-equipped-buffs [hidden]=\"!buffsVisible\">\n\n\t\t</mhw-builder-equipped-buffs>\n\t</div>\n\n\t<mhw-builder-tooltip></mhw-builder-tooltip>\n\n\t<div class=\"signature\">\n\t\tBy TurkeyTickle & Neftalimich -\n\t\t<button type=\"button\" (click)=\"openContributors()\">Info</button>\n\t\t<a href=\"https://github.com/neftalimich/mhw-builder\" target=\"_blank\" rel=\"noreferrer\" title=\"github\">\n\t\t\t<i class=\"fab fa-github\"></i>\n\t\t</a>\n\t\t<a href=\"https://discord.gg/4s7yqFg\" target=\"_blank\" rel=\"noreferrer\" title=\"discord\">\n\t\t\t<i class=\"fab fa-discord\"></i>\n\t\t</a>\n\t\t<a href=\"https://twitter.com/mhw_builder\" target=\"_blank\" rel=\"noreferrer\" title=\"twitter\">\n\t\t\t<i class=\"fab fa-twitter\"></i>\n\t\t</a>\n\t</div>\n\n\t<div class=\"version-info\">\n\t\t<button type=\"button\" id=\"dummy\" aria-label=\"dummy\"></button>\n\t\t<button type=\"button\" (click)=\"openChangeLog()\">ChangeLog</button>\n\t</div>\n\n\t<mhw-builder-modal #setListModal title=\"Saved Sets List\">\n\t\t<mhw-builder-set-list></mhw-builder-set-list>\n\t</mhw-builder-modal>\n\n\t<mhw-builder-modal #contributorsModal title=\"Information\">\n\t\t<div style=\"padding:16px;\">\n\t\t\t<h3>\n\t\t\t\t<a href=\"https://github.com/TurkeyTickle/mhw-builder\" target=\"_blank\" rel=\"noreferrer\">TurkeyTickle\n\t\t\t\t\tGithub (v1.0)</a>\n\t\t\t</h3>\n\t\t\t<h3>\n\t\t\t\t<a href=\"https://www.github.com/neftalimich/mhw-builder\" target=\"_blank\" rel=\"noreferrer\">Neftal\n\t\t\t\t\tMichelet Github (v2.0)</a>\n\t\t\t</h3>\n\t\t\t<p>\n\t\t\t\t<a href=\"https://twitter.com/mhw_builder\" target=\"_blank\" rel=\"noreferrer\">MHW Builder Twitter</a>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<a href=\"https://paypal.me/neftalimich\" target=\"_blank\" rel=\"noreferrer\">Donations </a>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<a href=\"http://honeyhunterworld.com/mhwbi/\" target=\"_blank\" rel=\"noreferrer\">Honey Hunter World</a>\n\t\t\t</p>\n\t\t</div>\n\t</mhw-builder-modal>\n\n\t<mhw-builder-modal #itemListModal>\n\t\t<mhw-builder-weapon-list\n\t\t\t*ngIf=\"slotService.selectedItemSlot && dataService.getEquipmentCategory(slotService.selectedItemSlot.slotName) == equipmentCategoryTypes.Weapon\"\n\t\t\t[itemType]=\"slotService.selectedItemSlot?.slotName\" [onlyIceborne]=\"slotService.onlyIceborne\">\n\t\t</mhw-builder-weapon-list>\n\n\t\t<mhw-builder-armor-list\n\t\t\t*ngIf=\"slotService.selectedItemSlot && dataService.getEquipmentCategory(slotService.selectedItemSlot.slotName) == equipmentCategoryTypes.Armor\"\n\t\t\t[itemTypeFilters]=\"[slotService.selectedItemSlot?.slotName]\" [onlyIceborne]=\"slotService.onlyIceborne\">\n\t\t</mhw-builder-armor-list>\n\n\t\t<mhw-builder-charm-list\n\t\t\t*ngIf=\"slotService.selectedItemSlot && dataService.getEquipmentCategory(slotService.selectedItemSlot.slotName) == equipmentCategoryTypes.Charm\"\n\t\t\t[itemType]=\"slotService.selectedItemSlot?.slotName\"></mhw-builder-charm-list>\n\n\t\t<mhw-builder-tool-list\n\t\t\t*ngIf=\"slotService.selectedItemSlot && dataService.getEquipmentCategory(slotService.selectedItemSlot.slotName) == equipmentCategoryTypes.Tool\"\n\t\t\t[itemType]=\"slotService.selectedItemSlot?.slotName\"></mhw-builder-tool-list>\n\n\t\t<mhw-builder-decoration-list *ngIf=\"slotService.selectedDecorationSlot\"\n\t\t\t[decorationLevel]=\"slotService.selectedDecorationSlot?.level\"></mhw-builder-decoration-list>\n\t\t<mhw-builder-augmentations-list *ngIf=\"slotService.selectedAugmentationSlot\"></mhw-builder-augmentations-list>\n\t\t<mhw-builder-upgrades-list *ngIf=\"slotService.selectedUpgradeSlot\"\n\t\t\t[upgradeContainer]=\"slotService.selectedUpgradeSlot?.upgradeContainer\"></mhw-builder-upgrades-list>\n\t\t<mhw-builder-setbonus-list *ngIf=\"slotService.selectedSetbonusSlot\"></mhw-builder-setbonus-list>\n\t\t<mhw-builder-modifications-list *ngIf=\"slotService.selectedModificationSlot\"></mhw-builder-modifications-list>\n\t\t<mhw-builder-kinsect-list *ngIf=\"slotService.selectedKinsectSlot\"></mhw-builder-kinsect-list>\n\t</mhw-builder-modal>\n\n\t<mhw-builder-modal #changeLogModal title=\"Change Log\">\n\t\t<div style=\"padding:16px;\">\n\t\t\t<h3>2020-07-12 Alatreon (Version 3.1.8)</h3>\n\t\t\t<ul>\n\t\t\t\t<li>Alatreon.</li>\n\t\t\t\t<li>Buffs Alpha</li>\n\t\t\t</ul>\n\t\t\t<h3>2020-01-01 ICEBORNE (Version 3.0.0)</h3>\n\t\t\t<ul>\n\t\t\t\t<li>Safi'Jiiva Weapons and Awakenings.</li>\n\t\t\t</ul>\n\t\t\t<h3>2019-10-14 ICEBORNE (Version 2.7.5)</h3>\n\t\t\t<ul>\n\t\t\t\t<li>Now you can select multiple distinct armor pieces using the filter.</li>\n\t\t\t\t<li>Bug fixes.</li>\n\t\t\t</ul>\n\t\t\t<h3>2019-10-10 ICEBORNE (Version 2.7.0)</h3>\n\t\t\t<ul>\n\t\t\t\t<li>New Rajang Weapons/Armor added.</li>\n\t\t\t\t<li>New Custom upgrades updated.</li>\n\t\t\t</ul>\n\t\t\t<h3>2019-09-22 ICEBORNE (Version 2.6.0)</h3>\n\t\t\t<ul>\n\t\t\t\t<li>New Weapons Augment System added.</li>\n\t\t\t\t<li>New Weapons Custom Upgrade System added.</li>\n\t\t\t</ul>\n\t\t\t<h3>2019-09-22 ICEBORNE (Version 2.5.0)</h3>\n\t\t\t<ul>\n\t\t\t\t<li>Tools Slots Added.</li>\n\t\t\t\t<li>Active/Inactive Tools Slot.</li>\n\t\t\t\t<li>Equipped Skills Desing Improvement.</li>\n\t\t\t\t<li>Iceborne Armor Pack 1.</li>\n\t\t\t\t<li>Iceborne Weapon Pack 1. (Thanks HoneyTear)</li>\n\t\t\t\t<li>New Charms.</li>\n\t\t\t\t<li>New & Updated Skills Pack 1.</li>\n\t\t\t\t<li>Etc.</li>\n\t\t\t</ul>\n\t\t\t<h3>2019-03-20 (Version 2.3)</h3>\n\t\t\t<ul>\n\t\t\t\t<li>Download Set List HTML + AngularJS.</li>\n\t\t\t\t<li>Filters</li>\n\t\t\t\t<li>Bug Fixes</li>\n\t\t\t</ul>\n\t\t\t<h3>2019-03-19 (Version 2.2.5)</h3>\n\t\t\t<ul>\n\t\t\t\t<li>Kinsect Slot.</li>\n\t\t\t</ul>\n\t\t\t<h3>2019-03-15 (Version 2.2.0)</h3>\n\t\t\t<ul>\n\t\t\t\t<li>HBG/LBG Modifications Slot Added.</li>\n\t\t\t</ul>\n\t\t\t<h3>2019-01-11 (Version 2.1.0)</h3>\n\t\t\t<ul>\n\t\t\t\t<li>Save sets list.</li>\n\t\t\t</ul>\n\t\t\t<h3>2019-01-01 (Version 2.0.0)</h3>\n\t\t\t<ul>\n\t\t\t\t<li>Tons of improvements.</li>\n\t\t\t</ul>\n\t\t</div>\n\t</mhw-builder-modal>\n</div>","import { Location, LocationStrategy, PathLocationStrategy } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { APP_INITIALIZER, NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { VirtualScrollerModule } from 'ngx-virtual-scroller';\nimport { AppComponent } from './app.component';\nimport { AmmoCapacitiesComponent } from './components/ammo-capacities/ammo-capacities.component';\nimport { ArmorListComponent } from './components/armor-list/armor-list.component';\nimport { AugmentationSlotComponent } from './components/augmentation-slot/augmentation-slot.component';\nimport { AugmentationsListComponent } from './components/augmentations-list/augmentations-list.component';\nimport { AwakeningSlotComponent } from './components/awakening-slot/awakening-slot.component';\nimport { CalcDetailsComponent } from './components/calc-details/calc-details.component';\nimport { CharmListComponent } from './components/charm-list/charm-list.component';\nimport { CommonDetailsComponent } from './components/common-details/common-details.component';\nimport { CommonModule } from './components/common/common.module';\nimport { DecorationDetailsComponent } from './components/decoration-details/decoration-details.component';\nimport { DecorationListComponent } from './components/decoration-list/decoration-list.component';\nimport { DecorationSlotComponent } from './components/decoration-slot/decoration-slot.component';\nimport { EquippedSkillsComponent } from './components/equipped-skills/equipped-skills.component';\nimport { EquippedStatsComponent } from './components/equipped-stats/equipped-stats.component';\nimport { EquippedBuffsComponent } from './components/equipped-buffs/equipped-buffs.component';\nimport { ItemDetailsComponent } from './components/item-details/item-details.component';\nimport { ItemSlotComponent } from './components/item-slot/item-slot.component';\nimport { KinsectDetailsComponent } from './components/kinsect-details/kinsect-details.component';\nimport { KinsectListComponent } from './components/kinsect-list/kinsect-list.component';\nimport { KinsectSlotComponent } from './components/kinsect-slot/kinsect-slot.component';\nimport { MelodiesComponent } from './components/melodies/melodies.component';\nimport { ModificationSlotComponent } from './components/modification-slot/modification-slot.component';\nimport { ModificationsListComponent } from './components/modifications-list/modifications-list.component';\nimport { SetBonusDetailsComponent } from './components/set-bonus-details/set-bonus-details.component';\nimport { SetListComponent } from './components/set-list/set-list.component';\nimport { SetbonusListComponent } from './components/setbonus-list/setbonus-list.component';\nimport { SharpnessBarComponent } from './components/sharpness-bar/sharpness-bar.component';\nimport { SkillDetailsComponent } from './components/skill-details/skill-details.component';\nimport { ToolListComponent } from './components/tool-list/tool-list.component';\nimport { TooltipComponent } from './components/tooltip/tooltip.component';\nimport { UpgradeSlotComponent } from './components/upagrade-slot/upgrade-slot.component';\nimport { UpgradeDetailsComponent } from './components/upgrade-details/upgrade-details.component';\nimport { UpgradesListComponent } from './components/upgrades-list/upgrades-list.component';\nimport { WeaponListComponent } from './components/weapon-list/weapon-list.component';\nimport { DataModule } from './data/data.module';\nimport { NumbersArrPipe } from './pipes/numberArr.pipe';\nimport { AppDataProvider } from './providers/app-data.provider';\nimport { BuildService } from './services/build.service';\nimport { CalculationService } from './services/calculation.service';\nimport { DataService } from './services/data.service';\nimport { EquipmentService } from './services/equipment.service';\nimport { SetService } from './services/set.service';\nimport { SkillService } from './services/skill.service';\nimport { SlotService } from './services/slot.service';\nimport { StatService } from './services/stat.service';\nimport { TooltipService } from './services/tooltip.service';\n\n@NgModule({\n\tdeclarations: [\n\t\tAppComponent,\n\t\tArmorListComponent,\n\t\tWeaponListComponent,\n\t\tAugmentationsListComponent,\n\t\tUpgradesListComponent,\n\t\tModificationsListComponent,\n\t\tKinsectListComponent,\n\t\tAmmoCapacitiesComponent,\n\t\tMelodiesComponent,\n\t\tDecorationListComponent,\n\t\tCharmListComponent,\n\t\tToolListComponent,\n\t\tSetbonusListComponent,\n\t\tItemDetailsComponent,\n\t\tCommonDetailsComponent,\n\t\tUpgradeDetailsComponent,\n\t\tDecorationDetailsComponent,\n\t\tKinsectDetailsComponent,\n\t\tItemSlotComponent,\n\t\tAugmentationSlotComponent,\n\t\tUpgradeSlotComponent,\n\t\tAwakeningSlotComponent,\n\t\tModificationSlotComponent,\n\t\tKinsectSlotComponent,\n\t\tDecorationSlotComponent,\n\t\tEquippedStatsComponent,\n\t\tEquippedSkillsComponent,\n\t\tEquippedBuffsComponent,\n\t\tCalcDetailsComponent,\n\t\tSkillDetailsComponent,\n\t\tSetBonusDetailsComponent,\n\t\tTooltipComponent,\n\t\tSharpnessBarComponent,\n\t\tSetListComponent,\n\t\tNumbersArrPipe,\n\t],\n\timports: [\n\t\tBrowserModule,\n\t\tHttpClientModule,\n\t\tVirtualScrollerModule,\n\t\tDataModule,\n\t\tCommonModule\n\t],\n\tproviders: [\n\t\tLocation,\n\t\t{ provide: LocationStrategy, useClass: PathLocationStrategy },\n\t\tDataService,\n\t\tSkillService,\n\t\tTooltipService,\n\t\tEquipmentService,\n\t\tSlotService,\n\t\tStatService,\n\t\tCalculationService,\n\t\tBuildService,\n\t\tSetService,\n\t\tAppDataProvider,\n\t\t{ provide: APP_INITIALIZER, useFactory: appDataProviderFactory, deps: [AppDataProvider], multi: true }\n\t],\n\tbootstrap: [AppComponent]\n})\nexport class AppModule { }\n\nexport function appDataProviderFactory(provider: AppDataProvider) {\n\treturn () => provider.load().toPromise();\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { StatService } from 'src/app/services/stat.service';\nimport { AmmoCapacitiesModel, AmmoLevelModel } from '../../models/ammo-capacities.model';\nimport { DeviationType, RecoilType, ReloadType } from '../../types/deviation.type';\n\n@Component({\n\tselector: 'mhw-builder-ammo-capacities',\n\ttemplateUrl: './ammo-capacities.component.html',\n\tstyleUrls: ['./ammo-capacities.component.scss']\n})\nexport class AmmoCapacitiesComponent implements OnInit {\n\n\t@Input() ammoCapacities: AmmoCapacitiesModel;\n\n\trecoilSuppresorMod = 0;\n\treloadAssistMod = 0;\n\tdeviationSuppresorMod = 0;\n\tcloseRangeUpMod = 0;\n\trangeAttackUpMod = 0;\n\tshieldMod = 0;\n\n\tshowAmmoModsInfo = false;\n\n\tdeviationTypes = DeviationType;\n\trecoilType = RecoilType;\n\treloadType = ReloadType;\n\n\tconstructor(private statService: StatService) {\n\t\tthis.statService.statsUpdated$.subscribe(stats => {\n\t\t\tthis.recoilSuppresorMod = 0;\n\t\t\tthis.reloadAssistMod = 0;\n\t\t\tthis.deviationSuppresorMod = 0;\n\t\t\tthis.setRecoil(Math.abs(stats.recoil));\n\t\t\tthis.setReload(Math.abs(stats.reload));\n\t\t\tthis.setDeviation(Math.abs(stats.deviation));\n\t\t});\n\t}\n\n\tngOnInit() {\n\t}\n\n\tallZero(levels: AmmoLevelModel[]) {\n\t\treturn levels.every(v => v.capacity == 0);\n\t}\n\n\tsetRecoil(val: number) {\n\t\tif (this.recoilSuppresorMod == val) {\n\t\t\tthis.recoilSuppresorMod = Math.max(this.recoilSuppresorMod - 1, 0);\n\t\t} else {\n\t\t\tthis.recoilSuppresorMod = val;\n\t\t}\n\t}\n\tsetReload(val: number) {\n\t\tif (this.reloadAssistMod == val) {\n\t\t\tthis.reloadAssistMod = Math.max(this.reloadAssistMod - 1, 0);\n\t\t} else {\n\t\t\tthis.reloadAssistMod = val;\n\t\t}\n\t}\n\tsetDeviation(val: number) {\n\t\tif (this.deviationSuppresorMod == val) {\n\t\t\tthis.deviationSuppresorMod = Math.max(this.deviationSuppresorMod - 1, 0);\n\t\t} else {\n\t\t\tthis.deviationSuppresorMod = val;\n\t\t}\n\t}\n}\n","<div class=\"container\">\n\t<div *ngIf=\"showAmmoModsInfo\" class=\"\">\n\t\t<button type=\"button\" (click)=\"setRecoil(1)\" [ngClass]=\"{'recoil':recoilSuppresorMod > 0}\">\n\t\t\t<i class=\"fas fa-sign-out-alt fa-rotate-90\"></i> 1\n\t\t</button>\n\t\t<button type=\"button\" (click)=\"setRecoil(2)\" [ngClass]=\"{'recoil':recoilSuppresorMod > 1}\">\n\t\t\t<i class=\"fas fa-sign-out-alt fa-rotate-90\"></i> 2\n\t\t</button>\n\t\t<button type=\"button\" (click)=\"setRecoil(3)\" [ngClass]=\"{'recoil':recoilSuppresorMod > 2}\">\n\t\t\t<i class=\"fas fa-sign-out-alt fa-rotate-90\"></i> 3\n\t\t</button>\n\t\t<button type=\"button\" (click)=\"setRecoil(4)\" [ngClass]=\"{'recoil':recoilSuppresorMod > 3}\">\n\t\t\t<i class=\"fas fa-sign-out-alt fa-rotate-90\"></i> 4\n\t\t</button>\n\t\t<button type=\"button\" (click)=\"setReload(1)\" [ngClass]=\"{'reload':reloadAssistMod > 0}\">\n\t\t\t<i class=\"fas fa-angle-double-up\"></i> 1\n\t\t</button>\n\t\t<button type=\"button\" (click)=\"setReload(2)\" [ngClass]=\"{'reload':reloadAssistMod > 1}\">\n\t\t\t<i class=\"fas fa-angle-double-up\"></i> 2\n\t\t</button>\n\t\t<button type=\"button\" (click)=\"setReload(3)\" [ngClass]=\"{'reload':reloadAssistMod > 2}\">\n\t\t\t<i class=\"fas fa-angle-double-up\"></i> 3\n\t\t</button>\n\t\t<button type=\"button\" (click)=\"setReload(4)\" [ngClass]=\"{'reload':reloadAssistMod > 3}\">\n\t\t\t<i class=\"fas fa-angle-double-up\"></i> 4\n\t\t</button>\n\t\t<button type=\"button\" (click)=\"setDeviation(1)\" [ngClass]=\"{'deviation':deviationSuppresorMod > 0}\">\n\t\t\t<i class=\"fas fa-compress-arrows-alt\"></i> 1\n\t\t</button>\n\t\t<button type=\"button\" (click)=\"setDeviation(2)\" [ngClass]=\"{'deviation':deviationSuppresorMod > 1}\">\n\t\t\t<i class=\"fas fa-compress-arrows-alt\"></i> 2\n\t\t</button>\n\t\t<button type=\"button\" (click)=\"setDeviation(3)\" [ngClass]=\"{'deviation':deviationSuppresorMod > 2}\">\n\t\t\t<i class=\"fas fa-compress-arrows-alt\"></i> 3\n\t\t</button>\n\t\t<button type=\"button\" (click)=\"setDeviation(4)\" [ngClass]=\"{'deviation':deviationSuppresorMod > 3}\">\n\t\t\t<i class=\"fas fa-compress-arrows-alt\"></i> 4\n\t\t</button>\n\t</div>\n\t<table *ngIf=\"ammoCapacities?.deviation\">\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th style=\"text-align:left;\">\n\t\t\t\t\tDeviation {{ammoCapacities.deviation[deviationSuppresorMod]}}\n\t\t\t\t\t<span *ngIf=\"deviationSuppresorMod >= ammoCapacities.deviation.length\">\n\t\t\t\t\t\t{{ammoCapacities.deviation[ ammoCapacities.deviation.length-1]}}\n\t\t\t\t\t</span>\n\t\t\t\t\t<br />\n\t\t\t\t\t{{ammoCapacities.specialAmmo}}\n\t\t\t\t\t<button>\n\t\t\t\t\t\t<i class=\"fas fa-cog\" [ngClass]=\"{'sharp-2': showAmmoModsInfo}\" (click)=\"showAmmoModsInfo =! showAmmoModsInfo\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</th>\n\t\t\t\t<th class=\"text-right\">Lv 1</th>\n\t\t\t\t<th class=\"text-right\">Lv 2</th>\n\t\t\t\t<th class=\"text-right\">Lv 3</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t<ng-container *ngFor=\"let ammo of ammoCapacities.ammo\">\n\t\t\t\t<tr *ngIf=\"!allZero(ammo.levels)\">\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<img [src]=\"'assets/images/ammo/ammo-'+ammo.name+'-icon.png'\" alt=\"Bullet\" /> {{ammo.name|titlecase}}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td *ngFor=\"let level of ammo.levels\" class=\"text-right\">\n\t\t\t\t\t\t<div *ngIf=\"!showAmmoModsInfo\" class=\"\">\n\t\t\t\t\t\t\t<span style=\"font-weight:bold;\">\n\t\t\t\t\t\t\t\t<i class=\"fas fa-sign-out-alt fa-rotate-90 recoil\" *ngIf=\"level.type == 1\"></i>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-angle-double-up sharp-2\" *ngIf=\"level.type == 2\"></i>\n\t\t\t\t\t\t\t\t{{level.capacity}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div *ngIf=\"showAmmoModsInfo && level.capacity > 0\" class=\"\">\n\t\t\t\t\t\t\t<span *ngIf=\"recoilSuppresorMod<level.recoil.length\" class=\"recoil\">\n\t\t\t\t\t\t\t\t<!--{{level.recoil[recoilSuppresorMod]}}-->\n\t\t\t\t\t\t\t\t{{recoilType[level.recoil[recoilSuppresorMod]]}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span *ngIf=\"recoilSuppresorMod>=level.recoil.length\" class=\"recoil\">\n\t\t\t\t\t\t\t\t{{recoilType[level.recoil[level.recoil.length-1]]}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span *ngIf=\"reloadAssistMod<level.reload.length\" class=\"reload\">\n\t\t\t\t\t\t\t\t<!--{{level.reload[reloadAssistMod]}}-->\n\t\t\t\t\t\t\t\t{{reloadType[level.reload[reloadAssistMod]]}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span *ngIf=\"reloadAssistMod>=level.reload.length\" class=\"reload\">\n\n\t\t\t\t\t\t\t\t<!--{{level.reload[level.reload.length-1]}}-->\n\t\t\t\t\t\t\t\t{{reloadType[level.reload[level.reload.length-1]]}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td *ngIf=\"(ammo.levels).length < 3\">\n\t\t\t\t\t\t-\n\t\t\t\t\t</td>\n\t\t\t\t\t<td *ngIf=\"(ammo.levels).length < 2\">\n\t\t\t\t\t\t-\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</ng-container>\n\t\t</tbody>\n\t</table>\n\t<div class=\"no-data-warning\" *ngIf=\"ammoCapacities?.missingData && showAmmoModsInfo\">\n\t\tAmmo capacity data is missing!\n\t</div>\n\t<div class=\"no-data-warning\" *ngIf=\"ammoCapacities?.missingMods && showAmmoModsInfo\">\n\t\tAmmo mods data is missing!\n\t</div>\n</div>\n","import { Component, ElementRef, HostListener, Input, OnInit, ViewChild } from '@angular/core';\nimport { VirtualScrollerComponent } from 'ngx-virtual-scroller';\nimport { ItemModel } from '../../models/item.model';\nimport { SkillModel } from '../../models/skill.model';\nimport { DataService } from '../../services/data.service';\nimport { SlotService } from '../../services/slot.service';\nimport { EquipmentCategoryType } from '../../types/equipment-category.type';\nimport { ItemType } from '../../types/item.type';\n\n@Component({\n\tselector: 'mhw-builder-armor-list',\n\ttemplateUrl: './armor-list.component.html',\n\tstyleUrls: ['./armor-list.component.scss']\n})\nexport class ArmorListComponent implements OnInit {\n\tpublic equipmentCategoryType = EquipmentCategoryType;\n\tprivate _itemTypeFilters: ItemType[];\n\tprivate _onlyIceborne: boolean;\n\tprivate searchLength = 0;\n\n\t@Input()\n\tset itemTypeFilters(itemTypeFilters: ItemType[]) {\n\t\tthis._itemTypeFilters = itemTypeFilters;\n\t\tthis.loadItems();\n\t\tthis.search({ key: 'Filter' }, this.searchBox.nativeElement.value);\n\t}\n\tget itemTypeFilters(): ItemType[] { return this._itemTypeFilters; }\n\n\t@Input()\n\tset onlyIceborne(onlyIceborne: boolean) {\n\t\tthis._onlyIceborne = onlyIceborne;\n\t\tthis.search({ key: 'Filter' }, this.searchBox.nativeElement.value);\n\t\tthis.armorTypeSort = '';\n\t}\n\tget onlyIceborne(): boolean { return this._onlyIceborne; }\n\n\t@ViewChild('searchBox', { static: true }) searchBox: ElementRef;\n\t@ViewChild('itemList') itemList: VirtualScrollerComponent;\n\n\titemsAll: ItemModel[];\n\titemsWorld: ItemModel[];\n\titemsIceborne: ItemModel[];\n\tfilteredItems: ItemModel[];\n\tvirtualItems: ItemModel[];\n\tarmorTypeSort: string;\n\n\theadId = 0;\n\tbodyId = 0;\n\tarmsId = 0;\n\twaistId = 0;\n\tlegsId = 0;\n\n\tshowFilterContainer = true;\n\tshowSortContainer = true;\n\n\t@HostListener('window:resize')\n\tonResize() {\n\t\tthis.refreshList();\n\t}\n\n\tconstructor(\n\t\tprivate slotService: SlotService,\n\t\tpublic dataService: DataService\n\t) {\n\t\tthis.itemsAll = this.dataService.getArmors();\n\t\tthis.itemsAll.sort((a, b) => {\n\t\t\treturn (this.getItemTypeIndex(a.itemType) > this.getItemTypeIndex(b.itemType)) ?\n\t\t\t\t1 : ((this.getItemTypeIndex(b.itemType) > this.getItemTypeIndex(a.itemType)) ?\n\t\t\t\t\t-1 : 0);\n\t\t});\n\n\t\tthis.slotService.itemSelected$.subscribe(item => {\n\t\t\tthis.getArmorIds();\n\t\t});\n\t\tthis.slotService.itemSelectedNew$.subscribe(item => {\n\t\t\tthis.getArmorIds();\n\t\t});\n\t}\n\n\tngOnInit(): void {\n\t\tthis.slotService.armorSlotSelected$.subscribe(slot => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.searchBox.nativeElement.focus();\n\t\t\t\tthis.searchBox.nativeElement.select();\n\t\t\t}, 250);\n\t\t});\n\t\tthis.getArmorIds();\n\t}\n\n\trefreshList() {\n\t\tif (this.itemList) {\n\t\t\tthis.itemList.refresh();\n\t\t}\n\t}\n\n\tonItemListUpdate(items: ItemModel[]) {\n\t\tthis.virtualItems = items;\n\t}\n\n\tloadItems() {\n\t\tthis.itemsWorld = this.itemsAll.filter(f => f.id < 1000);\n\t\tthis.itemsIceborne = this.itemsAll.filter(f => f.id >= 1000);\n\n\t\tthis.applyIceborneFilter();\n\t\tthis.applyItemFilter();\n\t\tsetTimeout(() => this.searchBox.nativeElement.focus(), 250);\n\t}\n\n\tsearch(event, query: string) {\n\t\tif (query.length < this.searchLength || (event && (event.key === 'FilterHard' || event.key === 'Backspace' || event.key === 'Delete'))) {\n\t\t\tthis.applyIceborneFilter();\n\t\t}\n\n\t\tif (query) {\n\t\t\tif (query.length > 2) {\n\t\t\t\tquery = query.toLowerCase().trim();\n\n\t\t\t\tconst alphaIndex = query.indexOf('alpha');\n\t\t\t\tif (alphaIndex > -1) {\n\t\t\t\t\tquery = query.replace('alpha', '');\n\t\t\t\t}\n\t\t\t\tconst betaIndex = query.indexOf('beta');\n\t\t\t\tif (betaIndex > -1) {\n\t\t\t\t\tquery = query.replace('beta', '');\n\t\t\t\t}\n\t\t\t\tconst gammaIndex = query.indexOf('gamma');\n\t\t\t\tif (gammaIndex > -1) {\n\t\t\t\t\tquery = query.replace('gamma', '');\n\t\t\t\t}\n\t\t\t\tquery = query.trim();\n\n\t\t\t\tconst queryParts = query.split(' ');\n\n\t\t\t\tif ((query.length !== this.searchLength || event && event.key === 'FilterSoft') && (alphaIndex > -1 || betaIndex > -1 || gammaIndex > -1)) {\n\t\t\t\t\tthis.applyIceborneFilter();\n\t\t\t\t}\n\n\t\t\t\tif (this.filteredItems) {\n\t\t\t\t\tfor (const item of this.filteredItems) {\n\t\t\t\t\t\tconst itemName = item.name.toLowerCase();\n\t\t\t\t\t\tconst skills = this.dataService.getSkills(item.skills);\n\n\t\t\t\t\t\tconst nameMatch = itemName.includes(query);\n\t\t\t\t\t\tconst skillMatch = skills.some(skill => skill.name.toLowerCase().includes(query));\n\n\t\t\t\t\t\tconst tagMatch = queryParts.some(queryPart => {\n\t\t\t\t\t\t\treturn item.tags.some(tag => tag.toLowerCase().includes(queryPart));\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (!nameMatch && !skillMatch && !tagMatch) {\n\t\t\t\t\t\t\tthis.filteredItems = this.filteredItems.filter(i => i.name != item.name);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (alphaIndex > -1 || betaIndex > -1 || gammaIndex > -1) {\n\t\t\t\t\t\t\tconst abgQuery = [];\n\n\t\t\t\t\t\t\tif (alphaIndex > -1) {\n\t\t\t\t\t\t\t\tabgQuery.push('');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (betaIndex > -1) {\n\t\t\t\t\t\t\t\tabgQuery.push('');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (gammaIndex > -1) {\n\t\t\t\t\t\t\t\tabgQuery.push('');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst query2Match = abgQuery.some(queryPart => {\n\t\t\t\t\t\t\t\treturn itemName.includes(queryPart);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (!query2Match) {\n\t\t\t\t\t\t\t\tthis.filteredItems = this.filteredItems.filter(i => i.name != item.name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.applyItemFilter();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.resetSearchResults();\n\t\t}\n\t\tthis.searchLength = query.length;\n\t}\n\n\tresetSearchResults() {\n\t\tthis.searchBox.nativeElement.value = null;\n\t\tthis.applyIceborneFilter();\n\t\tthis.applyItemFilter();\n\t\tthis.armorTypeSort = '';\n\t}\n\n\tapplyItemFilter() {\n\t\tif (this.filteredItems && this.itemTypeFilters) {\n\t\t\tthis.filteredItems = this.filteredItems.filter(item => {\n\t\t\t\tfor (const itemType of this.itemTypeFilters) {\n\t\t\t\t\tif (item.itemType == itemType) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t}\n\n\tapplyIceborneFilter() {\n\t\tif (this.onlyIceborne) {\n\t\t\tthis.filteredItems = this.itemsIceborne;\n\t\t} else {\n\t\t\tthis.filteredItems = this.itemsIceborne.concat(this.itemsWorld);\n\t\t}\n\t}\n\n\tselectItem(item: ItemModel) {\n\t\tconst newItem = Object.assign({}, item);\n\t\tif (this.itemTypeFilters.length == 1) {\n\t\t\tthis.slotService.selectArmorItemByType(newItem, true);\n\t\t} else {\n\t\t\tthis.slotService.selectArmorItemByType(newItem);\n\t\t}\n\t}\n\n\taddItemTypeFilter(itemTypeFilter: ItemType) {\n\t\tconst existFilter = this.itemTypeFilters.filter(f => f == itemTypeFilter);\n\t\tif (existFilter.length > 0) {\n\t\t\tconst index = this.itemTypeFilters.indexOf(existFilter[0], 0);\n\t\t\tif (index > -1) {\n\t\t\t\tthis.itemTypeFilters.splice(index, 1);\n\t\t\t}\n\t\t\tthis.search({ key: 'FilterSoft' }, this.searchBox.nativeElement.value);\n\t\t} else {\n\t\t\tthis.itemTypeFilters.push(itemTypeFilter);\n\t\t\tthis.search({ key: 'FilterHard' }, this.searchBox.nativeElement.value);\n\t\t}\n\t}\n\n\tgetSkillCount(item: ItemModel, skill: SkillModel): string {\n\t\tconst itemSkill = item.skills.find(s => s.id == skill.id);\n\t\tconst result = `${itemSkill.level}/${skill.levels.length}`;\n\t\treturn result;\n\t}\n\n\titemTypeIsSelected(itemType: ItemType) {\n\t\tif (this.itemTypeFilters.filter(f => f == itemType).length > 0) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\titemIsSelected(id: number, itemType: ItemType) {\n\t\tlet itemId = 0;\n\n\t\tswitch (itemType) {\n\t\t\tcase ItemType.Head:\n\t\t\t\titemId = this.headId;\n\t\t\t\tbreak;\n\t\t\tcase ItemType.Chest:\n\t\t\t\titemId = this.bodyId;\n\t\t\t\tbreak;\n\t\t\tcase ItemType.Arms:\n\t\t\t\titemId = this.armsId;\n\t\t\t\tbreak;\n\t\t\tcase ItemType.Waist:\n\t\t\t\titemId = this.waistId;\n\t\t\t\tbreak;\n\t\t\tcase ItemType.Legs:\n\t\t\t\titemId = this.legsId;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn id == itemId;\n\t}\n\n\tgetArmorIds() {\n\t\tif (this.slotService.headSlot.item) {\n\t\t\tthis.headId = this.slotService.headSlot.item.id;\n\t\t} else {\n\t\t\tthis.headId = 0;\n\t\t}\n\t\tif (this.slotService.chestSlot.item) {\n\t\t\tthis.bodyId = this.slotService.chestSlot.item.id;\n\t\t} else {\n\t\t\tthis.bodyId = 0;\n\t\t}\n\t\tif (this.slotService.handsSlot.item) {\n\t\t\tthis.armsId = this.slotService.handsSlot.item.id;\n\t\t} else {\n\t\t\tthis.armsId = 0;\n\t\t}\n\t\tif (this.slotService.legsSlot.item) {\n\t\t\tthis.waistId = this.slotService.legsSlot.item.id;\n\t\t} else {\n\t\t\tthis.waistId = 0;\n\t\t}\n\t\tif (this.slotService.feetSlot.item) {\n\t\t\tthis.legsId = this.slotService.feetSlot.item.id;\n\t\t} else {\n\t\t\tthis.legsId = 0;\n\t\t}\n\t}\n\n\tgetItemTypeIndex(type: ItemType): number {\n\t\tif (type == ItemType.Head) {\n\t\t\treturn 1;\n\t\t} else if (type == ItemType.Chest) {\n\t\t\treturn 2;\n\t\t} else if (type == ItemType.Arms) {\n\t\t\treturn 3;\n\t\t} else if (type == ItemType.Waist) {\n\t\t\treturn 4;\n\t\t} else if (type == ItemType.Legs) {\n\t\t\treturn 5;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tsortByDefense() {\n\t\tthis.armorTypeSort = 'DEF';\n\t\tthis.filteredItems.sort(function (item1, item2) {\n\t\t\tif (item1.defense[2] > item2.defense[2]) {\n\t\t\t\treturn -1;\n\t\t\t} else if (item1.defense[2] < item2.defense[2]) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tthis.virtualItems = this.filteredItems;\n\t}\n\n\tsortByResistance(type: string) {\n\t\tthis.armorTypeSort = type;\n\t\tthis.filteredItems.sort(function (item1, item2) {\n\t\t\tlet resistance1 = 0;\n\t\t\tlet resistance2 = 0;\n\t\t\tif (type == 'FIR') {\n\t\t\t\tresistance1 = item1.fireResist;\n\t\t\t\tresistance2 = item2.fireResist;\n\t\t\t} else if (type == 'WAT') {\n\t\t\t\tresistance1 = item1.waterResist;\n\t\t\t\tresistance2 = item2.waterResist;\n\t\t\t} else if (type == 'THU') {\n\t\t\t\tresistance1 = item1.thunderResist;\n\t\t\t\tresistance2 = item2.thunderResist;\n\t\t\t} else if (type == 'ICE') {\n\t\t\t\tresistance1 = item1.iceResist;\n\t\t\t\tresistance2 = item2.iceResist;\n\t\t\t} else if (type == 'DRA') {\n\t\t\t\tresistance1 = item1.dragonResist;\n\t\t\t\tresistance2 = item2.dragonResist;\n\t\t\t}\n\t\t\tif (resistance1 > resistance2) {\n\t\t\t\treturn -1;\n\t\t\t} else if (resistance1 < resistance2) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tthis.virtualItems = this.filteredItems;\n\t}\n\n\tsortBySlots() {\n\t\tthis.armorTypeSort = 'SLOT';\n\t\tthis.filteredItems.sort(function (item1, item2) {\n\t\t\tlet slotValue1 = 0;\n\t\t\tlet slotValue2 = 0;\n\n\t\t\tif (item1.slots.length > 0) {\n\t\t\t\tslotValue1 += item1.slots[0].level * 100;\n\t\t\t}\n\t\t\tif (item1.slots.length > 1) {\n\t\t\t\tslotValue1 += item1.slots[1].level * 10;\n\t\t\t}\n\t\t\tif (item1.slots.length > 2) {\n\t\t\t\tslotValue1 += item1.slots[2].level;\n\t\t\t}\n\t\t\tif (item2.slots.length > 0) {\n\t\t\t\tslotValue2 += item2.slots[0].level * 100;\n\t\t\t}\n\t\t\tif (item2.slots.length > 1) {\n\t\t\t\tslotValue2 += item2.slots[1].level * 10;\n\t\t\t}\n\t\t\tif (item2.slots.length > 2) {\n\t\t\t\tslotValue2 += item2.slots[2].level;\n\t\t\t}\n\n\t\t\tif (slotValue1 > slotValue2) {\n\t\t\t\treturn -1;\n\t\t\t} else if (slotValue1 < slotValue2) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tthis.virtualItems = this.filteredItems;\n\t}\n}\n","<div class=\"container\">\n\t<div class=\"search-container\">\n\t\t<input #searchBox (keyup)=\"search($event, searchBox.value)\" placeholder=\"Search names, skills, monster\" />\n\t\t<button type=\"button\" class=\"iceborne-button\" (click)=\"onlyIceborne = !onlyIceborne\" title=\"Only Iceborne\">\n\t\t\t<i class=\"fas fa-toggle-on\" [hidden]=\"!onlyIceborne\"></i>\n\t\t\t<i class=\"fas fa-toggle-off\" [hidden]=\"onlyIceborne\"></i>\n\t\t</button>\n\t\t<button type=\"button\" class=\"sort-button\" (click)=\"showSortContainer=!showSortContainer\">\n\t\t\t<i class=\"fas fa-sort-amount-up\"></i>\n\t\t</button>\n\t\t<button type=\"button\" class=\"filter-button\" (click)=\"showFilterContainer=!showFilterContainer\">\n\t\t\t<i class=\"fas fa-filter\"></i>\n\t\t</button>\n\t\t<button type=\"button\" class=\"clear-button\" (click)=\"resetSearchResults()\">\n\t\t\t<i class=\"fas fa-times\"></i>\n\t\t</button>\n\t</div>\n\n\t<div class=\"filter-container\" *ngIf=\"showFilterContainer\">\n\t\t<button type=\"button\" class=\"armor-filter\" [class.selected]=\"itemTypeIsSelected('Head')\"\n\t\t\t(click)=\"addItemTypeFilter('Head')\" title=\"Head\">\n\t\t\t<img src=\"assets/images/armor/head-icon.png\" [hidden]=\"headId == 0\" alt=\"Head\">\n\t\t\t<img src=\"assets/images/armor/head-icon.png\" [hidden]=\"headId != 0\" class=\"armor-icon info-opaque\"\n\t\t\t\talt=\"head\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"armor-filter\" [class.selected]=\"itemTypeIsSelected('Chest')\"\n\t\t\t(click)=\"addItemTypeFilter('Chest')\" title=\"Chest\">\n\t\t\t<img src=\"assets/images/armor/chest-icon.png\" [hidden]=\"bodyId == 0\" alt=\"Chest\">\n\t\t\t<img src=\"assets/images/armor/chest-icon.png\" [hidden]=\"bodyId != 0\" class=\"armor-icon info-opaque\"\n\t\t\t\talt=\"Chest\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"armor-filter\" [class.selected]=\"itemTypeIsSelected('Arms')\"\n\t\t\t(click)=\"addItemTypeFilter('Arms')\" title=\"Arms\">\n\t\t\t<img src=\"assets/images/armor/arms-icon.png\" [hidden]=\"armsId == 0\" alt=\"Arms\">\n\t\t\t<img src=\"assets/images/armor/arms-icon.png\" [hidden]=\"armsId != 0\" class=\"armor-icon info-opaque\"\n\t\t\t\talt=\"Arms\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"armor-filter\" [class.selected]=\"itemTypeIsSelected('Waist')\"\n\t\t\t(click)=\"addItemTypeFilter('Waist')\" title=\"Waist\">\n\t\t\t<img src=\"assets/images/armor/waist-icon.png\" [hidden]=\"waistId == 0\" alt=\"Waist\">\n\t\t\t<img src=\"assets/images/armor/waist-icon.png\" [hidden]=\"waistId != 0\" class=\"armor-icon info-opaque\"\n\t\t\t\talt=\"Waist\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"armor-filter\" [class.selected]=\"itemTypeIsSelected('Legs')\"\n\t\t\t(click)=\"addItemTypeFilter('Legs')\" title=\"Legs\">\n\t\t\t<img src=\"assets/images/armor/legs-icon.png\" [hidden]=\"legsId == 0\" alt=\"Legs\">\n\t\t\t<img src=\"assets/images/armor/legs-icon.png\" [hidden]=\"legsId != 0\" class=\"armor-icon info-opaque\"\n\t\t\t\talt=\"Legs\">\n\t\t</button>\n\t</div>\n\n\t<div class=\"sort-container\" *ngIf=\"showSortContainer\">\n\t\t<button type=\"button\" class=\"item-sort\" [class.selected]=\"armorTypeSort == 'DEF'\" (click)=\"sortByDefense()\">\n\t\t\t<span>DEF</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"item-sort\" [class.selected]=\"armorTypeSort == 'FIR'\"\n\t\t\t(click)=\"sortByResistance('FIR')\">\n\t\t\t<span>FIR</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"item-sort\" [class.selected]=\"armorTypeSort == 'WAT'\"\n\t\t\t(click)=\"sortByResistance('WAT')\">\n\t\t\t<span>WAT</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"item-sort\" [class.selected]=\"armorTypeSort == 'THU'\"\n\t\t\t(click)=\"sortByResistance('THU')\">\n\t\t\t<span>THU</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"item-sort\" [class.selected]=\"armorTypeSort == 'ICE'\"\n\t\t\t(click)=\"sortByResistance('ICE')\">\n\t\t\t<span>ICE</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"item-sort\" [class.selected]=\"armorTypeSort == 'DRA'\"\n\t\t\t(click)=\"sortByResistance('DRA')\">\n\t\t\t<span>DRA</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"item-sort\" [class.selected]=\"armorTypeSort == 'SLOT'\" (click)=\"sortBySlots()\">\n\t\t\t<span>SLOT</span>\n\t\t</button>\n\t</div>\n\n\t<virtual-scroller id=\"items-list\" #itemList class=\"scroll-container\" *ngIf=\"itemsAll\" [items]=\"filteredItems\"\n\t\t(vsUpdate)=\"onItemListUpdate($event)\">\n\t\t<div *ngFor=\"let item of virtualItems\" class=\"scroll-item-container\" (click)=\"selectItem(item)\"\n\t\t\t[class.itemSelected]=\"itemIsSelected(item.id, item.itemType)\">\n\t\t\t<div class=\"name-container\">\n\t\t\t\t<div class=\"name\" [ngClass]=\"'vColor-' + item.vColor\">\n\t\t\t\t\t{{item.name}}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"slots\">\n\t\t\t\t\t<div *ngIf=\"item.slots[0]?.level\">\n\t\t\t\t\t\t<img [src]=\"'assets/images/decorations/' + item?.slots[0]?.level + '-0.png'\" alt=\"slot\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div *ngIf=\"item.slots[1]?.level\">\n\t\t\t\t\t\t<img [src]=\"'assets/images/decorations/' + item?.slots[1]?.level + '-0.png'\" alt=\"slot\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div *ngIf=\"item.slots[2]?.level\">\n\t\t\t\t\t\t<img [src]=\"'assets/images/decorations/' + item?.slots[2]?.level + '-0.png'\" alt=\"slot\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"type\">\n\t\t\t\t\t<span class=\"typeName\">{{item.itemType}}</span>\n\t\t\t\t\t<img [src]=\"'assets/images/armor/' + (item.itemType | lowercase) + '-icon.png'\" alt=\"item type\" />\n\t\t\t\t</div>\n\t\t\t\t<div class=\"rarity\" *ngIf=\"item.rarity\" [ngClass]=\"'rarity-'+item?.rarity\">\n\t\t\t\t\t<span class=\"r1\">Rarity </span><span class=\"r2\">R</span>{{item.rarity}}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"stats-container\">\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/defense-icon.png\" alt=\"defense\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">\n\t\t\t\t\t\t<span *ngFor=\"let def of item.defense; let i = index\">\n\t\t\t\t\t\t\t{{def}}\n\t\t\t\t\t\t\t<span *ngIf=\"i < item.defense.length - 2\">\n\t\t\t\t\t\t\t\t|\n\t\t\t\t\t\t\t\t<!---->\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span *ngIf=\"i == item.defense.length -2\">\n\t\t\t\t\t\t\t\t|\n\t\t\t\t\t\t\t\t<!---->\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/fire-icon.png\" alt=\"fire\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{item.fireResist}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/water-icon.png\" alt=\"water\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{item.waterResist}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/ice-icon.png\" alt=\"ice\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{item.iceResist}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/thunder-icon.png\" alt=\"thunder\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{item.thunderResist}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/dragon-icon.png\" alt=\"dragon\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{item.dragonResist}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"skills-container\">\n\t\t\t\t<div class=\"skill-container\" *ngFor=\"let skill of dataService.getSkills(item.skills)\">\n\t\t\t\t\t<div class=\"count\">\n\t\t\t\t\t\t{{getSkillCount(item, skill)}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"name\">\n\t\t\t\t\t\t{{skill.name}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</virtual-scroller>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { AugmentationModel } from '../../models/augmentation.model';\nimport { SlotService } from '../../services/slot.service';\nimport { TooltipService } from '../../services/tooltip.service';\nimport { ItemType } from '../../types/item.type';\nimport { PointerType } from '../../types/pointer.type';\n\n@Component({\n\tselector: 'mhw-builder-augmentation-slot',\n\ttemplateUrl: './augmentation-slot.component.html',\n\tstyleUrls: ['./augmentation-slot.component.scss']\n})\nexport class AugmentationSlotComponent implements OnInit {\n\tslotName = ItemType.Augmentation;\n\n\taugmentation: AugmentationModel;\n\n\tpublic selected: boolean;\n\n\tconstructor(\n\t\tprivate slotService: SlotService,\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit(): void { }\n\n\tclicked() {\n\t\tthis.slotService.selectAugmentationSlot(this);\n\t}\n\n\tclearClicked(event: Event) {\n\t\tevent.stopPropagation();\n\t\tthis.slotService.clearAugmentationSlot(this);\n\t\tthis.clearTooltipAugmentation();\n\t}\n\n\tsetTooltipAugmentation(event: PointerEvent, augmentation: AugmentationModel) {\n\t\tif (event.pointerType == PointerType.Mouse) {\n\t\t\tthis.tooltipService.setAugmentation(augmentation);\n\t\t}\n\t}\n\n\tclearTooltipAugmentation() {\n\t\tthis.tooltipService.setAugmentation(null);\n\t}\n}\n","<div class=\"container\" (click)=\"clicked()\" [class.selected]=\"selected\" (pointerenter)=\"setTooltipAugmentation($event, augmentation)\" (pointerleave)=\"clearTooltipAugmentation()\">\n\t<div class=\"slot-icon\"><img [src]=\"'assets/images/augment-icon.png'\" alt=\"augment\"></div>\n\t<div class=\"selected-augmentation\">\n\t\t<span class=\"hidden-xs\">{{augmentation?.name}}</span>\n\t\t<span class=\"visible-xs\">{{augmentation?.code}}</span>\n\t</div>\n\n\t<button type=\"button\" class=\"clear-button\" (click)=\"clearClicked($event)\">\n\t\t<i class=\"fas fa-times\"></i>\n\t</button>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { AugmentationModel } from '../../models/augmentation.model';\nimport { DataService } from '../../services/data.service';\nimport { SlotService } from '../../services/slot.service';\nimport { TooltipService } from '../../services/tooltip.service';\nimport { PointerType } from '../../types/pointer.type';\n\n@Component({\n\tselector: 'mhw-builder-augmentations-list',\n\ttemplateUrl: './augmentations-list.component.html',\n\tstyleUrls: ['./augmentations-list.component.scss']\n})\nexport class AugmentationsListComponent implements OnInit {\n\taugmentations: AugmentationModel[];\n\n\tconstructor(\n\t\tprivate dataService: DataService,\n\t\tprivate slotService: SlotService,\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit(): void {\n\t\tthis.loadItems();\n\t}\n\n\tloadItems() {\n\t\tthis.augmentations = this.dataService.getAugmentations();\n\t}\n\n\tselectAugmentation(augmentation: AugmentationModel) {\n\t\tconst newAugmentation = Object.assign({}, augmentation);\n\t\tthis.slotService.selectAugmentation(newAugmentation);\n\t}\n\n\tsetTooltipAugmentation(event: PointerEvent, augmentation: AugmentationModel) {\n\t\tif (event.pointerType == PointerType.Mouse) {\n\t\t\tthis.tooltipService.setAugmentation(augmentation);\n\t\t}\n\t}\n\n\tclearTooltipAugmentation() {\n\t\tthis.tooltipService.setAugmentation(null);\n\t}\n}\n","<div class=\"container\">\n\t<div class=\"items-container\">\n\t\t<ul>\n\t\t\t<li *ngFor=\"let aug of augmentations\" (click)=\"selectAugmentation(aug)\" (pointerenter)=\"setTooltipAugmentation($event, aug)\" (pointerleave)=\"clearTooltipAugmentation()\">\n\t\t\t\t<div class=\"info-container\">\n\t\t\t\t\t<div class=\"name-container\">\n\t\t\t\t\t\t{{aug.name}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t\t<div class=\"description-value\">\n\t\t\t\t\t\t\t{{aug.description}}\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<div *ngFor=\"let level of aug.levels\">\n\t\t\t\t\t\t\t\t{{level.description}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>\n","import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { AwakeningModel } from 'src/app/models/awakening.model';\nimport { AwakeningLevelModel } from '../../models/awakening-level.model';\nimport { KeyValuePair } from '../../models/common/key-value-pair.model';\nimport { SetBonusModel } from '../../models/set-bonus.model';\nimport { DataService } from '../../services/data.service';\nimport { SlotService } from '../../services/slot.service';\nimport { TooltipService } from '../../services/tooltip.service';\nimport { AilmentType } from '../../types/ailment.type';\nimport { AwakeningType } from '../../types/awakening.type';\nimport { ElementType } from '../../types/element.type';\nimport { ItemType } from '../../types/item.type';\nimport { PointerType } from '../../types/pointer.type';\nimport { WeaponType } from '../../types/weapon.type';\nimport { DropdownComponent } from '../common/dropdown/dropdown.component';\n\n@Component({\n\tselector: 'mhw-builder-awakening-slot',\n\ttemplateUrl: './awakening-slot.component.html',\n\tstyleUrls: ['./awakening-slot.component.scss']\n})\nexport class AwakeningSlotComponent implements OnInit {\n\tslotName = ItemType.Awakening;\n\tsetbonus: SetBonusModel;\n\n\tpublic selected: boolean;\n\n\tprivate _awakeningsLevel: AwakeningLevelModel[];\n\tprivate _weaponElement: ElementType;\n\tprivate _weaponAilment: AilmentType;\n\tprivate _weaponType: WeaponType;\n\n\tweaponIndex = 0;\n\telementTypes = ElementType;\n\tailmentTypes = AilmentType;\n\tawakeningTypes = AwakeningType;\n\tweaponTypes = WeaponType;\n\n\telementValues: KeyValuePair<string, string>[];\n\tailmentValues: KeyValuePair<string, string>[];\n\tawakeningValues: AwakeningModel[];\n\n\t@Input()\n\tset awakenings(awakenings: AwakeningLevelModel[]) {\n\t\tthis._awakeningsLevel = awakenings;\n\t}\n\tget awakenings(): AwakeningLevelModel[] {\n\t\treturn this._awakeningsLevel;\n\t}\n\n\t@Input()\n\tset weaponElement(weaponElement: ElementType) {\n\t\tif (!weaponElement) {\n\t\t\tweaponElement = ElementType.None;\n\t\t}\n\t\tthis._weaponElement = weaponElement;\n\t}\n\tget weaponElement(): ElementType {\n\t\treturn this._weaponElement;\n\t}\n\n\t@Input()\n\tset weaponAilment(weaponAilment: AilmentType) {\n\t\tif (!weaponAilment) {\n\t\t\tweaponAilment = AilmentType.None;\n\t\t}\n\t\tthis._weaponAilment = weaponAilment;\n\t}\n\tget weaponAilment(): AilmentType {\n\t\treturn this._weaponAilment;\n\t}\n\n\t@Input()\n\tset weaponType(weaponType: WeaponType) {\n\t\tthis._weaponType = weaponType;\n\n\t\tthis.weaponIndex = 0;\n\t\tfor (const item in WeaponType) {\n\t\t\tif (isNaN(Number(item))) {\n\t\t\t\tif (item == weaponType) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tthis.weaponIndex += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.initAwakeningValues();\n\t\tif (weaponType != WeaponType.HuntingHorn) {\n\t\t\tthis.awakeningValues.splice(12, 5);\n\t\t}\n\t\tif (weaponType != WeaponType.LightBowgun && weaponType != WeaponType.HeavyBowgun) {\n\t\t\tthis.awakeningValues.splice(8, 4);\n\t\t}\n\t\tif (weaponType == WeaponType.Bow || weaponType == WeaponType.LightBowgun || weaponType == WeaponType.HeavyBowgun) {\n\t\t\tthis.awakeningValues.splice(7, 1);\n\t\t}\n\t}\n\tget weaponType(): WeaponType {\n\t\treturn this._weaponType;\n\t}\n\n\t@ViewChild(DropdownComponent, { static: true }) elementDropdown: DropdownComponent;\n\n\tconstructor(\n\t\tprivate slotService: SlotService,\n\t\tprivate dataService: DataService,\n\t\tprivate tooltipService: TooltipService\n\t) {\n\t}\n\n\tngOnInit(): void {\n\t\tthis.elementValues = [];\n\t\tObject.keys(ElementType).map(key => {\n\t\t\tthis.elementValues.push({ key: key, value: key });\n\t\t});\n\t\tthis.ailmentValues = [];\n\t\tObject.keys(AilmentType).map(key => {\n\t\t\tthis.ailmentValues.push({ key: key, value: key });\n\t\t});\n\t\tthis.ailmentValues.pop();\n\t}\n\n\tinitAwakeningValues() {\n\t\tthis.awakeningValues = JSON.parse(JSON.stringify(this.dataService.getAwakenings()));\n\t}\n\n\tclicked() {\n\t\tthis.slotService.selectSetbonusSlot(this);\n\t}\n\n\tclearAwakeninsClicked(even: Event) { }\n\n\tclearSkillClicked(event: Event) {\n\t\tthis.setbonus = null;\n\t\tevent.stopPropagation();\n\t\tthis.slotService.clearSkillSlot(this);\n\t}\n\n\tsetTooltipAwakening(event: PointerEvent, awakenins: AwakeningLevelModel[]) {\n\t\tif (event.pointerType == PointerType.Mouse) {\n\t\t}\n\t}\n\n\tclearTooltipAwakening() {\n\t}\n\n\tselectElement(selectedElement: ElementType) {\n\t\tthis.weaponElement = selectedElement;\n\t\tconst elementAttack = this.dataService.getSafiElementAttack(this.weaponIndex);\n\t\tthis.changeWeaponName();\n\t\tthis.slotService.selectWeaponElement(selectedElement, elementAttack);\n\t}\n\tselectAilment(selectedAilment: AilmentType) {\n\t\tthis.weaponAilment = selectedAilment;\n\t\tlet ailmentType = 0;\n\t\tif (selectedAilment == AilmentType.Poison || selectedAilment == AilmentType.Blast) {\n\t\t\tailmentType = 1;\n\t\t}\n\t\tconst ailmentAttack = this.dataService.getSafiAilmentAttack(this.weaponIndex, ailmentType);\n\t\tthis.changeWeaponName();\n\t\tthis.slotService.selectWeaponAilment(selectedAilment, ailmentAttack);\n\t}\n\n\tprivate changeWeaponName() {\n\t\tthis.slotService.changeWeaponName(this.dataService.getSafiWeaponName(this.weaponType, this.weaponElement, this.weaponAilment));\n\t}\n\n\tselectAwakeningType(selectedAwakening: AwakeningModel, awakeningLevel: AwakeningLevelModel, index: number) {\n\t\tawakeningLevel.id = selectedAwakening.id;\n\t\tawakeningLevel.type = selectedAwakening.type;\n\t\tawakeningLevel.name = selectedAwakening.name;\n\t\tawakeningLevel.short = selectedAwakening.short;\n\t\tif (index == 0) {\n\t\t\tawakeningLevel.maxLevel = Math.min(selectedAwakening.maxLevel, 6);\n\t\t} else {\n\t\t\tawakeningLevel.maxLevel = Math.min(selectedAwakening.maxLevel, 5);\n\t\t}\n\t\tawakeningLevel.minLevel = selectedAwakening.minLevel;\n\n\t\tif (awakeningLevel.level == 0) {\n\t\t\tawakeningLevel.level = awakeningLevel.maxLevel;\n\t\t} else {\n\t\t\tawakeningLevel.level = Math.min(Math.max(awakeningLevel.level, awakeningLevel.minLevel), awakeningLevel.maxLevel);\n\t\t}\n\n\t\tthis.slotService.selectAwakenings(this.awakenings);\n\t}\n\n\tselectAwakeningLevel(level: number, awakeningLevel: AwakeningLevelModel) {\n\t\tif (awakeningLevel.type != AwakeningType.None) {\n\t\t\tif (awakeningLevel.level == level && awakeningLevel.minLevel < level) {\n\t\t\t\tawakeningLevel.level -= 1;\n\t\t\t} else {\n\t\t\t\tawakeningLevel.level = level;\n\t\t\t}\n\t\t}\n\t\tthis.slotService.selectAwakenings(this.awakenings);\n\t}\n\n\tgetMin(a: number, b: number): number {\n\t\treturn Math.min(a, b);\n\t}\n\n\tgetElementIcon(element: ElementType): string {\n\t\tlet assetPath;\n\t\tif (element && element != ElementType.None) {\n\t\t\tassetPath = `${element.toLowerCase()}-icon`;\n\t\t}\n\t\treturn `assets/images/${assetPath}.png`;\n\t}\n\n\tgetAilmentIcon(ailment: AilmentType): string {\n\t\tlet assetPath;\n\t\tif (ailment && ailment != AilmentType.None) {\n\t\t\tassetPath = `${ailment.toLowerCase()}-icon`;\n\t\t}\n\t\treturn `assets/images/${assetPath}.png`;\n\t}\n}\n","<div class=\"container\">\n\t<div class=\"elementAilment\" *ngIf=\"weaponType != weaponTypes.LightBowgun && weaponType != weaponTypes.HeavyBowgun\">\n\t\t<div class=\"element-slot\" (click)=\"elementDropdown.toggle($event)\">\n\t\t\t<div class=\"element selected-element\">\n\t\t\t\t<div *ngIf=\"weaponElement && weaponElement != elementTypes.None\" class=\"image-container\">\n\t\t\t\t\t<img *ngIf=\"weaponElement\" [src]=\"getElementIcon(weaponElement)\">\n\t\t\t\t</div>\n\t\t\t\t<span *ngIf=\"weaponElement && weaponElement != elementTypes.None\">\n\t\t\t\t\t{{weaponElement}}\n\t\t\t\t</span>\n\t\t\t\t<span *ngIf=\"!weaponElement || weaponElement == elementTypes.None\">\n\t\t\t\t\tElement Type\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<mhw-builder-dropdown #elementDropdown>\n\t\t\t\t<div class=\"element\" *ngFor=\"let e of elementValues\" (click)=\"selectElement(e.value)\">\n\t\t\t\t\t<div class=\"image-container\">\n\t\t\t\t\t\t<img *ngIf=\"e.value != elementTypes.None\" [src]=\"getElementIcon(e.value)\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<span>{{e.value}}</span>\n\t\t\t\t</div>\n\t\t\t</mhw-builder-dropdown>\n\t\t</div>\n\t\t<div class=\"ailment-slot\" (click)=\"ailmentDropdown.toggle($event)\">\n\t\t\t<div class=\"ailment selected-ailment\">\n\t\t\t\t<div *ngIf=\"weaponAilment && weaponAilment != ailmentTypes.None\" class=\"image-container\">\n\t\t\t\t\t<img *ngIf=\"weaponAilment\" [src]=\"getElementIcon(weaponAilment)\">\n\t\t\t\t</div>\n\t\t\t\t<span *ngIf=\"weaponAilment && weaponAilment != ailmentTypes.None\">\n\t\t\t\t\t{{weaponAilment}}\n\t\t\t\t</span>\n\t\t\t\t<span *ngIf=\"!weaponAilment || weaponAilment == ailmentTypes.None\">\n\t\t\t\t\tAilment Type\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<mhw-builder-dropdown #ailmentDropdown>\n\t\t\t\t<div class=\"ailment\" *ngFor=\"let e of ailmentValues\" (click)=\"selectAilment(e.value)\">\n\t\t\t\t\t<div class=\"image-container\">\n\t\t\t\t\t\t<img *ngIf=\"e.value != ailmentTypes.None\" [src]=\"getAilmentIcon(e.value)\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<span>{{e.value}}</span>\n\t\t\t\t</div>\n\t\t\t</mhw-builder-dropdown>\n\t\t</div>\n\t</div>\n\t<div class=\"awakenings\">\n\t\t<div class=\"awakening-slot\">\n\t\t\t<div class=\"awakening-type\">\n\t\t\t\t<div class=\"awakening selected-awakening\" (click)=\"clicked()\">\n\t\t\t\t\t<span *ngIf=\"setbonus\">\n\t\t\t\t\t\t{{setbonus?.name}}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span *ngIf=\"!setbonus\">\n\t\t\t\t\t\tAbility\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"awakening-level\">\n\t\t\t\t\t<span *ngIf=\"setbonus?.level\">\n\t\t\t\t\t\t{{setbonus?.level}} <i class=\"fas fa-star star-icon\"></i>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"awakening-clear\">\n\t\t\t\t\t<button type=\"button\" class=\"clear-button\" (click)=\"clearSkillClicked($event)\">\n\t\t\t\t\t\t<i class=\"fas fa-times fa-sm\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"awakening-slot\" *ngFor=\"let awakening of awakenings; let i = index\">\n\t\t\t<div class=\"awakening-type\" (click)=\"awakeningDropdown.toggle($event)\">\n\t\t\t\t<div class=\"awakening selected-awakening\">\n\t\t\t\t\t<span *ngIf=\"awakening.type != awakeningTypes.None\">\n\t\t\t\t\t\t<span class=\"name1\">{{awakening.name}}</span>\n\t\t\t\t\t\t<span class=\"name2\" style=\"display: none;\">{{awakening.short ? awakening.short : awakening.name}}</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span *ngIf=\"awakening.type == awakeningTypes.None\">\n\t\t\t\t\t\tAwakening\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<mhw-builder-dropdown #awakeningDropdown>\n\t\t\t\t\t<div class=\"awakening\" *ngFor=\"let e of awakeningValues\"\n\t\t\t\t\t\t(click)=\"selectAwakeningType(e, awakening, i)\">\n\t\t\t\t\t\t<span class=\"name1\">{{e.name}}</span>\n\t\t\t\t\t\t<span class=\"name2\" style=\"display: none;\">{{e.short ? e.short : e.name}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</mhw-builder-dropdown>\n\t\t\t</div>\n\t\t\t<div class=\"awakening-level\">\n\t\t\t\t<div *ngIf=\"awakening.type != awakeningTypes.None\">\n\t\t\t\t\t<span *ngFor=\"let key of awakening.minLevel - 1 | numbersArr\">\n\t\t\t\t\t\t<i class=\"far fa-star fa-sm c-pointer\" [ngClass]=\"awakening.type\"></i>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span *ngFor=\"let key of (awakening.level - awakening.minLevel + 1) | numbersArr\">\n\t\t\t\t\t\t<i class=\"fas fa-star fa-sm c-pointer\" [ngClass]=\"awakening.type\"\n\t\t\t\t\t\t\t(click)=\"selectAwakeningLevel(key + 1 + awakening.minLevel - 1, awakening)\">\n\t\t\t\t\t\t</i>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span *ngFor=\"let key of (getMin(i == 0 ? 6 : 5, awakening.maxLevel) - awakening.level) | numbersArr\">\n\t\t\t\t\t\t<i class=\"far fa-star fa-sm c-pointer\" [ngClass]=\"awakening.type\"\n\t\t\t\t\t\t\t(click)=\"selectAwakeningLevel(key + 1 + awakening.level, awakening)\"></i>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span *ngFor=\"let key of (6 - getMin(awakening.maxLevel, i == 0 ? 6 : 5)) | numbersArr\">\n\t\t\t\t\t\t<i class=\"far fa-star fa-sm c-pointer\" style=\"color:#525252\"></i>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { StatDetailModel } from '../../models/stat-detail.model';\nimport { TooltipService } from '../../services/tooltip.service';\n\n@Component({\n\tselector: 'mhw-builder-calc-details',\n\ttemplateUrl: './calc-details.component.html',\n\tstyleUrls: ['./calc-details.component.scss'],\n})\nexport class CalcDetailsComponent implements OnInit {\n\n\tprivate _calc: StatDetailModel;\n\t@Input()\n\tpublic set calc(calc: StatDetailModel) {\n\t\tthis._calc = calc;\n\t\tthis.generateTemplate();\n\t}\n\tpublic get calc() { return this._calc; }\n\n\tdetailTemplate: string;\n\n\tconstructor(\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit(): void {\n\t}\n\n\tclearCalc() {\n\t\tthis.tooltipService.setCalc(null);\n\t}\n\n\tgenerateTemplate() {\n\t\tthis.detailTemplate = null;\n\n\t\tif (this.calc.calculationTemplate) {\n\t\t\tlet template = this.calc.calculationTemplate;\n\t\t\tfor (const item of this.calc.calculationVariables) {\n\t\t\t\ttemplate = template.split(`{${item.name}}`).join(`<span class=\"${item.colorClass}\">${item.value}</span>`);\n\t\t\t}\n\n\t\t\tthis.detailTemplate = template;\n\t\t}\n\t}\n}\n","<div class=\"container\" (click)=\"clearCalc()\">\n\t<h3>{{calc.name}}<span class=\"close-btn-sm\" style=\"visibility:hidden\"><i class=\"fa fa-times\"></i></span></h3>\n\t<hr>\n\t<div class=\"template\" [innerHTML]=\"detailTemplate\"></div>\n\t<ul class=\"info\" *ngIf=\"calc.info\">\n\t\t<li *ngFor=\"let info of calc.info\">{{info}}</li>\n\t</ul>\n\t<ul class=\"striped-light\">\n\t\t<li *ngFor=\"let item of calc.calculationVariables\">\n\t\t\t<span class=\"name\">{{item.displayName}}</span>\n\t\t\t<span class=\"value\" [ngClass]=\"item.colorClass\">{{item.value}}</span>\n\t\t</li>\n\t</ul>\n</div>\n","import { Component, ElementRef, HostListener, Input, OnInit, ViewChild } from '@angular/core';\nimport * as _ from 'lodash';\nimport { VirtualScrollerComponent } from 'ngx-virtual-scroller';\nimport { ItemModel } from '../../models/item.model';\nimport { SkillModel } from '../../models/skill.model';\nimport { DataService } from '../../services/data.service';\nimport { SlotService } from '../../services/slot.service';\nimport { EquipmentCategoryType } from '../../types/equipment-category.type';\nimport { ItemType } from '../../types/item.type';\n\n@Component({\n\tselector: 'mhw-builder-charm-list',\n\ttemplateUrl: './charm-list.component.html',\n\tstyleUrls: ['./charm-list.component.scss']\n})\nexport class CharmListComponent implements OnInit {\n\tpublic equipmentCategoryType = EquipmentCategoryType;\n\n\tprivate _itemType: ItemType;\n\n\t@Input()\n\tset itemType(itemType: ItemType) {\n\t\tthis._itemType = itemType;\n\t\tthis.loadItems();\n\t}\n\tget itemType(): ItemType { return this._itemType; }\n\n\t@ViewChild('searchBox', { static: true }) searchBox: ElementRef;\n\t@ViewChild('itemList') itemList: VirtualScrollerComponent;\n\n\titems: ItemModel[];\n\tfilteredItems: ItemModel[];\n\tvirtualItems: ItemModel[];\n\n\t@HostListener('window:resize')\n\tonResize() {\n\t\tthis.refreshList();\n\t}\n\n\tconstructor(\n\t\tprivate slotService: SlotService,\n\t\tpublic dataService: DataService\n\t) { }\n\n\tngOnInit(): void { }\n\n\trefreshList() {\n\t\tif (this.itemList) {\n\t\t\tthis.itemList.refresh();\n\t\t}\n\t}\n\n\tloadItems() {\n\t\tthis.items = this.dataService.getCharms();\n\t\tthis.resetSearchResults();\n\t\tsetTimeout(() => this.searchBox.nativeElement.focus(), 250);\n\t}\n\n\tsearch(query: string) {\n\t\tthis.filteredItems = this.items;\n\n\t\tif (query) {\n\t\t\tquery = query.toLowerCase().trim();\n\t\t\tconst queryParts = query.split(' ');\n\n\t\t\tif (this.items) {\n\t\t\t\tfor (const item of this.items) {\n\t\t\t\t\tconst itemName = item.name.toLowerCase();\n\t\t\t\t\tconst skills = this.dataService.getSkills(item.skills);\n\n\t\t\t\t\tconst nameMatch = itemName.includes(query);\n\t\t\t\t\tconst skillMatch = _.some(skills, skill => skill.name.toLowerCase().includes(query));\n\n\t\t\t\t\tconst tagMatch = _.some(queryParts, queryPart => {\n\t\t\t\t\t\treturn _.some(item.tags, tag => tag.toLowerCase().includes(queryPart));\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!nameMatch && !skillMatch && !tagMatch) {\n\t\t\t\t\t\tthis.filteredItems = _.reject(this.filteredItems, i => i.name === item.name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.resetSearchResults();\n\t\t}\n\t}\n\n\tresetSearchResults() {\n\t\tthis.searchBox.nativeElement.value = null;\n\t\tthis.filteredItems = this.items;\n\t}\n\n\tonItemListUpdate(items: ItemModel[]) {\n\t\tthis.virtualItems = items;\n\t}\n\n\tselectItem(item: ItemModel) {\n\t\tconst newItem = Object.assign({}, item);\n\t\tthis.slotService.selectItem(newItem);\n\t}\n\n\tgetSkillCount(item: ItemModel, skill: SkillModel): string {\n\t\tconst itemSkill = _.find(item.skills, s => s.id == skill.id);\n\t\tconst result = `${itemSkill.level}/${skill.levels.length}`;\n\t\treturn result;\n\t}\n}\n","<div class=\"container\">\n\t<div class=\"search-container\">\n\t\t<input #searchBox (keyup)=\"search(searchBox.value)\" placeholder=\"Search names, skills, monster\" />\n\n\t\t<button type=\"button\" class=\"clear-button\" (click)=\"resetSearchResults()\">\n\t\t\t<i class=\"fas fa-times\"></i>\n\t\t</button>\n\t</div>\n\n\t<virtual-scroller id=\"items-list\" #itemList class=\"scroll-container\" *ngIf=\"items\" [items]=\"filteredItems\" (vsUpdate)=\"onItemListUpdate($event)\">\n\t\t<div *ngFor=\"let item of virtualItems\" class=\"scroll-item-container\" (click)=\"selectItem(item)\">\n\t\t\t<div class=\"name-container\">\n\t\t\t\t<div class=\"name\">\n\t\t\t\t\t{{item.name}}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"rarity\" *ngIf=\"item.rarity\">\n\t\t\t\t\t<span class=\"r1\">Rarity </span><span class=\"r2\">R</span>{{item.rarity}}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"levels\">\n\t\t\t\t\t{{item.levels}} {{item.levels > 1 ? 'levels' : 'level'}}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"skills-container\" *ngIf=\"item.skills.length == 1\">\n\t\t\t\t<div class=\"skill-container\" *ngFor=\"let skill of dataService.getSkills(item.skills)\">\n\t\t\t\t\t<div class=\"count\">\n\t\t\t\t\t\t{{getSkillCount(item, skill)}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"name\">\n\t\t\t\t\t\t{{skill.name}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"skills-container-2\" *ngIf=\"item.skills.length > 1\">\n\t\t\t\t<div class=\"skill-container\" *ngFor=\"let skill of dataService.getSkills(item.skills)\">\n\t\t\t\t\t<div class=\"count\">\n\t\t\t\t\t\t{{getSkillCount(item, skill)}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"name\">\n\t\t\t\t\t\t{{skill.name}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</virtual-scroller>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { CommonModel } from '../../models/common.model';\n\n@Component({\n\tselector: 'mhw-builder-common-details',\n\ttemplateUrl: './common-details.component.html',\n\tstyleUrls: ['./common-details.component.scss']\n})\nexport class CommonDetailsComponent implements OnInit {\n\t@Input() common: CommonModel;\n\n\tconstructor(\n\t) { }\n\n\tngOnInit(): void { }\n}\n","<div class=\"container\">\n\t<h3>{{common?.name}}</h3>\n\t<hr>\n\t<div>{{common?.description}}</div>\n\t<br />\n\t<ul>\n\t\t<li *ngFor=\"let level of common?.levels; let i = index\">\n\t\t\t<div class=\"level\">Lv {{i + 1}}</div>\n\t\t\t<div class=\"level-description\">{{level.description}}</div>\n\t\t</li>\n\t</ul>\n</div>\n","import { NgModule } from '@angular/core';\nimport { DropdownComponent } from './dropdown/dropdown.component';\nimport { ModalComponent } from './modal/modal.component';\n\n@NgModule({\n\tdeclarations: [\n\t\tDropdownComponent,\n\t\tModalComponent\n\t],\n\texports: [\n\t\tDropdownComponent,\n\t\tModalComponent\n\t]\n})\nexport class CommonModule { }\n","import { Component, ContentChildren, ElementRef, OnInit, QueryList, ViewChild } from '@angular/core';\n\n@Component({\n\tselector: 'mhw-builder-dropdown',\n\ttemplateUrl: './dropdown.component.html',\n\tstyleUrls: ['./dropdown.component.scss']\n})\nexport class DropdownComponent implements OnInit {\n\tisOpen = false;\n\n\t@ViewChild('container', { static: true }) container: ElementRef;\n\t@ContentChildren(ElementRef, { descendants: true }) items: QueryList<ElementRef>;\n\n\tconstructor() { }\n\n\tngOnInit() {\n\t}\n\n\tpublic toggle(event: Event) {\n\t\tevent.stopPropagation();\n\t\tthis.isOpen = !this.isOpen;\n\t}\n\n\tpublic open() {\n\t\tthis.isOpen = true;\n\t}\n\n\tpublic close() {\n\t\tthis.isOpen = false;\n\t}\n}\n","<div #container class=\"container\" [hidden]=\"!isOpen\">\n\t<ng-content></ng-content>\n</div>\n","import { Component, HostBinding, HostListener, Input, OnInit } from '@angular/core';\n\n@Component({\n\tselector: 'mhw-builder-modal',\n\ttemplateUrl: './modal.component.html',\n\tstyleUrls: ['./modal.component.scss']\n})\nexport class ModalComponent implements OnInit {\n\n\t@Input() title: string;\n\n\t@HostBinding('class.open') isOpen: boolean;\n\n\t@HostListener('document:keyup', ['$event'])\n\tonKeyUp(event: KeyboardEvent) {\n\t\tif (event.key === 'Escape') {\n\t\t\tthis.close();\n\t\t}\n\t}\n\n\tconstructor() { }\n\n\tngOnInit(): void {\n\n\t}\n\n\topen() {\n\t\tthis.isOpen = true;\n\t}\n\n\tclose() {\n\t\tthis.isOpen = false;\n\t}\n}\n","<div class=\"container\">\n\t<div class=\"header-container\">\n\t\t<div class=\"title-container\">\n\t\t\t<span>{{title}}</span>\n\t\t</div>\n\n\t\t<button class=\"close-button\" (click)=\"close()\">\n\t\t\t<i class=\"fas fa-times\"></i>\n\t\t</button>\n\t</div>\n\n\t<div class=\"content-container\">\n\t\t<ng-content></ng-content>\n\t</div>\n\n\t<div class=\"background\" (click)=\"close()\"></div>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport * as _ from 'lodash';\nimport { DecorationModel } from '../../models/decoration.model';\nimport { SkillModel } from '../../models/skill.model';\nimport { DataService } from '../../services/data.service';\nimport { TooltipService } from '../../services/tooltip.service';\n\n@Component({\n\tselector: 'mhw-builder-decoration-details',\n\ttemplateUrl: './decoration-details.component.html',\n\tstyleUrls: ['./decoration-details.component.scss']\n})\nexport class DecorationDetailsComponent implements OnInit {\n\tprivate _decoration: DecorationModel;\n\n\t@Input()\n\tset decoration(decoration: DecorationModel) {\n\t\tthis._decoration = decoration;\n\t\tif (decoration) {\n\t\t\tthis.loadSkills();\n\t\t} else {\n\t\t\tthis.skills = new Array<SkillModel>();\n\t\t}\n\t}\n\tget decoration(): DecorationModel {\n\t\treturn this._decoration;\n\t}\n\n\tskills: SkillModel[];\n\n\tconstructor(\n\t\tprivate dataService: DataService,\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit() { }\n\n\tloadSkills() {\n\t\tthis.skills = this.dataService.getSkills(this.decoration.skills);\n\t}\n\n\tgetSkillCount(skill: SkillModel): string {\n\t\tconst itemSkill = _.find(this.decoration.skills, s => s.id == skill.id);\n\t\tconst result = `${itemSkill.level}/${skill.levels.length}`;\n\t\treturn result;\n\t}\n\n\tclearTooltipItem() {\n\t\tthis.tooltipService.setDecoration(null);\n\t}\n}\n","<div class=\"container\" (click)=\"clearTooltipItem()\">\n\t<h3>{{decoration?.name}}<span class=\"close-btn-sm\" style=\"visibility:hidden;\"><i class=\"fa fa-times\"></i></span></h3>\n\t<hr>\n\t<ul class=\"striped-light\">\n\t\t<li>\n\t\t\t<span class=\"name\">Rarity</span>\n\t\t\t<span class=\"value\">{{decoration?.rarity}}</span>\n\t\t</li>\n\t</ul>\n\t<div *ngIf=\"skills?.length\" class=\"skills-container\">\n\t\t<ul>\n\t\t\t<ng-container *ngFor=\"let skill of skills\">\n\t\t\t\t<li *ngIf=\"skill.levels\">\n\t\t\t\t\t<div class=\"skill-header\">\n\t\t\t\t\t\t<h4 class=\"skill-name\">{{skill.name}}</h4>\n\t\t\t\t\t\t<h4 class=\"skill-level\">{{getSkillCount(skill)}}</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<hr>\n\t\t\t\t\t<span>{{skill.description}}</span>\n\t\t\t\t</li>\n\t\t\t</ng-container>\n\t\t</ul>\n\t</div>\n</div>\n","import { Component, ElementRef, EventEmitter, HostListener, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport * as _ from 'lodash';\nimport { VirtualScrollerComponent } from 'ngx-virtual-scroller';\nimport { DecorationModel } from '../../models/decoration.model';\nimport { SkillModel } from '../../models/skill.model';\nimport { DataService } from '../../services/data.service';\nimport { SlotService } from '../../services/slot.service';\nimport { TooltipService } from '../../services/tooltip.service';\n\n@Component({\n\tselector: 'mhw-builder-decoration-list',\n\ttemplateUrl: './decoration-list.component.html',\n\tstyleUrls: ['./decoration-list.component.scss']\n})\nexport class DecorationListComponent implements OnInit {\n\tprivate _decorationLevel: number;\n\n\t@Input()\n\tset decorationLevel(decorationLevel: number) {\n\t\tthis._decorationLevel = decorationLevel;\n\t\tthis.loadItems();\n\t}\n\tget decorationLevel(): number { return this._decorationLevel; }\n\n\t@Output() decorationSelected = new EventEmitter<DecorationModel>();\n\n\t@ViewChild('searchBox', { static: true }) searchBox: ElementRef;\n\t@ViewChild('decorationList') decorationList: VirtualScrollerComponent;\n\n\tdecorations: DecorationModel[];\n\tfilteredDecorations: DecorationModel[];\n\tvirtualDecorations: DecorationModel[];\n\n\t@HostListener('window:resize')\n\tonResize() {\n\t\tthis.refreshList();\n\t}\n\n\tconstructor(\n\t\tpublic dataService: DataService,\n\t\tprivate slotService: SlotService,\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit(): void { }\n\n\trefreshList() {\n\t\tif (this.decorationList) {\n\t\t\tthis.decorationList.refresh();\n\t\t}\n\t}\n\n\tonDecorationListUpdate(decorations: DecorationModel[]) {\n\t\tthis.virtualDecorations = decorations;\n\t}\n\n\tloadItems() {\n\t\tthis.decorations = this.dataService.getDecorations(this.decorationLevel);\n\t\tthis.decorations = this.decorations.sort((a, b) => {\n\t\t\tif (a.priority < b.priority) {\n\t\t\t\treturn 1;\n\t\t\t} else if (a.priority > b.priority) {\n\t\t\t\treturn -1;\n\t\t\t} else if (a.level < b.level) {\n\t\t\t\treturn 1;\n\t\t\t} else if (a.level > b.level) {\n\t\t\t\treturn -1;\n\t\t\t} else {\n\t\t\t\tif (a.skills.length < b.skills.length) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else if (a.skills.length > b.skills.length) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.filteredDecorations = this.decorations;\n\t\tthis.search(this.searchBox.nativeElement.value);\n\t\tsetTimeout(() => this.searchBox.nativeElement.focus(), 250);\n\t}\n\n\tsearch(query: string) {\n\t\tthis.filteredDecorations = this.decorations;\n\n\t\tif (query) {\n\t\t\tquery = query.toLowerCase().trim();\n\t\t\tconst queryParts = query.split(' ');\n\n\t\t\tif (this.decorations) {\n\t\t\t\tfor (const decoration of this.decorations) {\n\t\t\t\t\tconst itemName = decoration.name.toLowerCase();\n\t\t\t\t\tconst skills = this.dataService.getSkills(decoration.skills);\n\n\t\t\t\t\tconst nameMatch = itemName.includes(query);\n\n\t\t\t\t\tlet skillMatch = true;\n\t\t\t\t\tfor (const queryPart of queryParts) {\n\t\t\t\t\t\tskillMatch = _.some(skills, skill => skill.name.toLowerCase().includes(queryPart));\n\t\t\t\t\t\tif (!skillMatch) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!nameMatch && !skillMatch) {\n\t\t\t\t\t\tthis.filteredDecorations = _.reject(this.filteredDecorations, d => d.name === decoration.name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.resetSearchResults();\n\t\t}\n\t}\n\n\tresetSearchResults() {\n\t\tthis.searchBox.nativeElement.value = null;\n\t\tthis.filteredDecorations = this.decorations;\n\t}\n\n\tselectDecoration(decoration: DecorationModel) {\n\t\tconst newDecoration = Object.assign({}, decoration);\n\t\tthis.slotService.selectDecoration(newDecoration);\n\t}\n\n\tgetSkills(decoration: DecorationModel): SkillModel[] {\n\t\tconst result: SkillModel[] = [];\n\t\tfor (const skill of decoration.skills) {\n\t\t\tresult.push(this.dataService.getSkill(skill.id));\n\t\t}\n\t\treturn result;\n\t}\n\n\tgetSkillCount(decoration: DecorationModel, skill: SkillModel): string {\n\t\tconst itemSkill = _.find(decoration.skills, s => s.id == skill.id);\n\t\tconst result = `${itemSkill.level}/${skill.levels.length}`;\n\t\treturn result;\n\t}\n}\n","<div class=\"container\">\n\t<div class=\"search-container\">\n\t\t<input #searchBox (keyup)=\"search(searchBox.value)\" placeholder=\"Search names, skills, monster\" />\n\t\t<button type=\"button\" class=\"clear-button\" (click)=\"resetSearchResults()\">\n\t\t\t<i class=\"fas fa-times\"></i>\n\t\t</button>\n\t</div>\n\n\t<virtual-scroller id=\"decorations-list\" #decorationList class=\"scroll-container\" *ngIf=\"decorations\" [items]=\"filteredDecorations\" (vsUpdate)=\"onDecorationListUpdate($event)\">\n\t\t<div *ngFor=\"let decoration of virtualDecorations\" class=\"scroll-item-container\" (click)=\"selectDecoration(decoration)\">\n\t\t\t<div class=\"name-container\">\n\t\t\t\t<div class=\"name\">\n\t\t\t\t\t{{decoration.name}}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"rarity\" *ngIf=\"decoration.rarity\">\n\t\t\t\t\t<span class=\"r1\">Rarity </span><span class=\"r2\">R</span>{{decoration.rarity}}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"skills-container\" *ngIf=\"decoration.skills.length == 1\">\n\t\t\t\t<div class=\"skill-container\" *ngFor=\"let skill of getSkills(decoration)\">\n\t\t\t\t\t<div class=\"count\">\n\t\t\t\t\t\t{{getSkillCount(decoration, skill)}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"name\">\n\t\t\t\t\t\t{{skill.name}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"skills-container-2\" *ngIf=\"decoration.skills.length > 1\">\n\t\t\t\t<div class=\"skill-container\" *ngFor=\"let skill of getSkills(decoration)\">\n\t\t\t\t\t<div class=\"count\">\n\t\t\t\t\t\t{{getSkillCount(decoration, skill)}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"name\">\n\t\t\t\t\t\t{{skill.name}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</virtual-scroller>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { DecorationModel } from '../../models/decoration.model';\nimport { SlotService } from '../../services/slot.service';\nimport { TooltipService } from '../../services/tooltip.service';\nimport { ItemType } from '../../types/item.type';\nimport { PointerType } from '../../types/pointer.type';\n\n@Component({\n\tselector: 'mhw-builder-decoration-slot',\n\ttemplateUrl: './decoration-slot.component.html',\n\tstyleUrls: ['./decoration-slot.component.scss'],\n})\nexport class DecorationSlotComponent implements OnInit {\n\tslotName = ItemType.Decoration;\n\n\t@Input() level: number;\n\t@Input() itemId: number;\n\t@Input() itemType: ItemType;\n\n\tdecoration: DecorationModel;\n\n\tpublic selected: boolean;\n\n\tconstructor(\n\t\tprivate slotService: SlotService,\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit() { }\n\n\tclearClicked(event: Event) {\n\t\tevent.stopPropagation();\n\t\tthis.clearTooltipItem();\n\t\tthis.slotService.clearDecorationSlot(this);\n\t}\n\n\tclicked() {\n\t\tthis.slotService.selectDecorationSlot(this);\n\t}\n\n\tsetTooltipItem(event: PointerEvent) {\n\t\tif (event.pointerType == PointerType.Mouse) {\n\t\t\tthis.tooltipService.setDecoration(this.decoration);\n\t\t}\n\t}\n\n\tshowOnClickTooltipItem() {\n\t\tthis.tooltipService.setDecoration(this.decoration);\n\t}\n\n\tclearTooltipItem() {\n\t\tthis.tooltipService.setDecoration(null);\n\t}\n}\n","<div class=\"container\" [class.selected]=\"selected\">\n\t<div class=\"slot-icon\">\n\t\t<img [src]=\"'assets/images/decorations/' + level + '-' + (decoration?.level ? decoration?.level : 0) + '.png'\" alt=\"slot\">\n\t</div>\n\t<div class=\"selected-decoration\"\n\t\t (click)=\"clicked()\"\n\t\t (pointerenter)=\"setTooltipItem($event)\"\n\t\t (pointerleave)=\"clearTooltipItem()\">\n\t\t{{decoration?.name}}\n\t</div>\n\n\t<button type=\"button\" class=\"info-button\" (click)=\"showOnClickTooltipItem()\" aria-label=\"info\">\n\t\t<i class=\"fas fa-grip-lines-vertical fa-sm icon-xs\" [ngClass]=\"'rarity-'+decoration?.rarity\" style=\"display:none;\"></i>\n\t\t<i class=\"fas fa-grip-lines-vertical icon-md fa-sm\" [ngClass]=\"'rarity-'+decoration?.rarity\"></i>\n\t</button>\n\n\t<button type=\"button\" class=\"clear-button\" (click)=\"clearClicked($event)\">\n\t\t<i class=\"fas fa-times\"></i>\n\t</button>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { EquipmentService } from 'src/app/services/equipment.service';\nimport { TooltipService } from '../../services/tooltip.service';\n\n@Component({\n\tselector: 'mhw-builder-equipped-buffs',\n\ttemplateUrl: './equipped-buffs.component.html',\n\tstyleUrls: ['./equipped-buffs.component.scss']\n})\n\nexport class EquippedBuffsComponent implements OnInit {\n\n\tbuffsVisible = true;\n\telementBuffActive = 0;\n\n\tconstructor(\n\t\tprivate equipementService: EquipmentService,\n\t\tprivate tooltipService: TooltipService,\n\t) { }\n\n\tngOnInit() {\n\t}\n\tbuffElementLarge() {\n\t\tif (this.elementBuffActive != 3) {\n\t\t\tthis.elementBuffActive = 3;\n\t\t} else {\n\t\t\tthis.elementBuffActive = 0;\n\t\t}\n\n\t\tthis.equipementService.updateElementBuff(this.elementBuffActive);\n\t}\n}\n","<div class=\"container\">\n    <br />\n    <h4>\n        Buffs (ALPHA)\n        <span [hidden]=\"!buffsVisible\" (click)=\"buffsVisible = !buffsVisible\"><i\n                class=\"fas fa-minus-circle number\"></i></span>\n        <span [hidden]=\"buffsVisible\" (click)=\"buffsVisible = !buffsVisible\"><i\n                class=\"fas fa-plus-circle number\"></i></span>\n    </h4>\n    <div [hidden]=\"!buffsVisible\">\n        <span class=\"detail-icon cursor-p\" (click)=\"buffElementLarge()\">\n            <img [src]=\"'assets/images/drinks/drink-element-icon.png'\" alt=\"element buff\"> Large Element\n            {{elementBuffActive == 3 ? 'ON': 'OFF'}}\n        </span>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { EquippedSetBonusDetailModel, EquippedSetBonusModel } from '../../models/equipped-set-bonus.model';\nimport { EquippedSkillModel } from '../../models/equipped-skill.model';\nimport { EquipmentService } from '../../services/equipment.service';\nimport { SkillService } from '../../services/skill.service';\nimport { TooltipService } from '../../services/tooltip.service';\nimport { ModeType } from '../../types/mode.type';\nimport { PointerType } from '../../types/pointer.type';\n\n@Component({\n\tselector: 'mhw-builder-equipped-skills',\n\ttemplateUrl: './equipped-skills.component.html',\n\tstyleUrls: ['./equipped-skills.component.scss']\n})\nexport class EquippedSkillsComponent implements OnInit {\n\tskills: EquippedSkillModel[];\n\tskillsBackup: EquippedSkillModel[];\n\tsetBonuses: EquippedSetBonusModel[];\n\n\tskillsVisible = true;\n\n\tconstructor(\n\t\tprivate skillService: SkillService,\n\t\tprivate equipmentService: EquipmentService,\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit() {\n\t\tthis.skillService.skillsUpdated$.subscribe(skills => {\n\t\t\tthis.skills = skills;\n\t\t\tthis.skillsBackup = JSON.parse(JSON.stringify(this.skills));\n\t\t\tthis.skills.sort(function (skill1, skill2) {\n\t\t\t\tif (skill1.isSetBonus && !skill2.isSetBonus) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} if (!skill1.isSetBonus && skill2.isSetBonus) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else if (skill1.equippedCount > skill2.equippedCount) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else if (skill1.equippedCount < skill2.equippedCount) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else if (skill1.totalLevelCount > skill2.totalLevelCount) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else if (skill1.totalLevelCount < skill2.totalLevelCount) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else {\n\t\t\t\t\treturn skill1.name.localeCompare(skill2.name);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tthis.skillService.setBonusesUpdated$.subscribe(setBonuses => {\n\t\t\tthis.setBonuses = setBonuses;\n\t\t});\n\t}\n\n\tgetMinCount(tool1Count: number, tool2Count: number) {\n\t\treturn Math.min(tool1Count, tool2Count);\n\t}\n\n\tgetMaxCount(tool1Count: number, tool2Count: number) {\n\t\treturn Math.max(tool1Count, tool2Count);\n\t}\n\n\tgetSkillCountColor(skill: EquippedSkillModel): string {\n\t\tif (skill.isSetBonus) {\n\t\t\treturn '#F0E68C';\n\t\t} else if (skill.equippedArmorCount > skill.totalLevelCount) {\n\t\t\treturn '#ffa07a';\n\t\t} else if (skill.equippedArmorCount == skill.totalLevelCount) {\n\t\t\treturn '#87cefa';\n\t\t} else if (skill.equippedCount + skill.equippedToolActiveCount >= skill.totalLevelCount) {\n\t\t\treturn '#86ff86';\n\t\t}\n\n\t\treturn 'white';\n\t}\n\n\tgetSetBonusColor(equippedCount: number, requiredCount: number): string {\n\t\tif (equippedCount >= requiredCount) {\n\t\t\treturn '#87cefa';\n\t\t}\n\t\treturn 'rgba(200,200,200,0.5)';\n\t}\n\n\tshowSkillDetails(event: PointerEvent, equippedSkill: EquippedSkillModel) {\n\t\tif (event.pointerType == PointerType.Mouse) {\n\t\t\tthis.tooltipService.setEquippedSkill(equippedSkill);\n\t\t}\n\t}\n\n\tclearSkillDetails() {\n\t\tthis.tooltipService.setEquippedSkill(null);\n\t}\n\n\tshowOnClickSkillDetails(equippedSkill: EquippedSkillModel) {\n\t\tthis.tooltipService.setEquippedSkill(equippedSkill);\n\t}\n\n\tshowSetBonusDetails(event: PointerEvent, equippedSetBonus: EquippedSetBonusModel) {\n\t\tif (event.pointerType == PointerType.Mouse) {\n\t\t\tthis.tooltipService.setEquippedSetBonus(equippedSetBonus);\n\t\t}\n\t}\n\n\tclearSetBonusDetails() {\n\t\tthis.tooltipService.setEquippedSetBonus(null);\n\t}\n\n\tshowOnClickSetBonusDetails(equippedSetBonus: EquippedSetBonusModel) {\n\t\tthis.tooltipService.setEquippedSetBonus(equippedSetBonus);\n\t}\n\n\tskillMode(equippedSkill: EquippedSkillModel) {\n\t\tif (equippedSkill.skill.mode == ModeType.AllSkillActive) {\n\t\t\tequippedSkill.skill.mode = ModeType.Active;\n\t\t} else if (equippedSkill.skill.mode == ModeType.Active) {\n\t\t\tequippedSkill.skill.mode = ModeType.Inactive;\n\t\t} else if (equippedSkill.skill.mode == ModeType.Inactive) {\n\t\t\tif (equippedSkill.hasActiveStats) {\n\t\t\t\tequippedSkill.skill.mode = ModeType.AllSkillActive;\n\t\t\t} else {\n\t\t\t\tequippedSkill.skill.mode = ModeType.Active;\n\t\t\t}\n\t\t}\n\t\tthis.equipmentService.updateSkillMode(this.skills);\n\t}\n\n\tSetbonusSkillMode(detail: EquippedSetBonusDetailModel, equippedCount: number) {\n\t\tif (equippedCount >= detail.requiredCount) {\n\t\t\tif (detail.skill.levels[0].activeSkills) {\n\t\t\t\tif (detail.mode == ModeType.Active) {\n\t\t\t\t\tdetail.mode = ModeType.AllSkillActive;\n\t\t\t\t\tfor (const skillExtra of detail.skill.levels[0].activeSkills) {\n\t\t\t\t\t\tlet equippedSkill = new EquippedSkillModel();\n\t\t\t\t\t\tequippedSkill = this.skills.find(es => es.id == skillExtra.id);\n\t\t\t\t\t\tif (!equippedSkill) {\n\t\t\t\t\t\t\tequippedSkill = this.skillService.createEquippedSkill(skillExtra.id, skillExtra.level);\n\t\t\t\t\t\t\tequippedSkill.isNatureBonus = true;\n\t\t\t\t\t\t\tthis.skills.push(equippedSkill);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (skillExtra.level > equippedSkill.equippedCount) {\n\t\t\t\t\t\t\t\tequippedSkill.equippedCount = skillExtra.level;\n\t\t\t\t\t\t\t\tequippedSkill.equippedArmorCount = skillExtra.level;\n\t\t\t\t\t\t\t\tequippedSkill.isNatureBonus = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.equipmentService.updateSkillMode(this.skills);\n\t\t\t\t} else if (detail.mode == ModeType.AllSkillActive) {\n\t\t\t\t\tdetail.mode = ModeType.Active;\n\t\t\t\t\tfor (const skillExtra of detail.skill.levels[0].activeSkills) {\n\t\t\t\t\t\tlet equippedSkill = new EquippedSkillModel();\n\t\t\t\t\t\tequippedSkill = this.skillsBackup.find(es => es.id == skillExtra.id);\n\t\t\t\t\t\tif (!equippedSkill) {\n\t\t\t\t\t\t\tconst skillIndex = this.skills.findIndex(es => es.id == skillExtra.id);\n\t\t\t\t\t\t\tif (skillIndex > -1) {\n\t\t\t\t\t\t\t\tthis.skills.splice(skillIndex, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst skillIndex = this.skills.findIndex(es => es.id == skillExtra.id);\n\t\t\t\t\t\t\tif (skillIndex > -1) {\n\t\t\t\t\t\t\t\tthis.skills[skillIndex] = equippedSkill;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.equipmentService.updateSkillMode(this.skills);\n\t\t\t\t}\n\t\t\t} else if (detail.skill.hasActiveStats) {\n\t\t\t\tif (detail.mode == ModeType.Active) {\n\t\t\t\t\tdetail.mode = ModeType.AllSkillActive;\n\t\t\t\t} else if (detail.mode == ModeType.AllSkillActive) {\n\t\t\t\t\tdetail.mode = ModeType.Active;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst skill = this.skills.find(x => x.id == detail.skill.id);\n\t\t\tskill.skill.mode = detail.mode;\n\t\t\tthis.equipmentService.updateSkillMode(this.skills);\n\t\t}\n\t}\n\n\tgetModeColor(mode: ModeType) {\n\t\tif (mode == 1) {\n\t\t\treturn '';\n\t\t} else if (mode == 2) {\n\t\t\treturn 'rgba(200,200,200,0.5)';\n\t\t} else if (mode == 3) {\n\t\t\treturn '#0091c2';\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t}\n\n\tgetIconModeClass(mode: ModeType) {\n\t\tif (mode == 1) {\n\t\t\treturn 'fas fa-circle';\n\t\t} else if (mode == 2) {\n\t\t\treturn 'far fa-circle';\n\t\t} else if (mode == 3) {\n\t\t\treturn 'fas fa-circle';\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\n\t}\n}\n","<div class=\"container\">\n\t<br />\n\t<h4>\n\t\tSkills\n\t\t<span [hidden]=\"!skillsVisible\" (click)=\"skillsVisible = !skillsVisible\"><i class=\"fas fa-minus-circle number\"></i></span>\n\t\t<span [hidden]=\"skillsVisible\" (click)=\"skillsVisible = !skillsVisible\"><i class=\"fas fa-plus-circle number\"></i></span>\n\t</h4>\n\n\t<div [hidden]=\"!skillsVisible\">\n\t\t<hr>\n\t\t<ul class=\"striped\">\n\t\t\t<ng-container *ngFor=\"let skill of skills; let i = index\">\n\t\t\t\t<li *ngIf=\"!skill.isSetBonus\" [style.color]=\"getSkillCountColor(skill)\" (pointerenter)=\"showSkillDetails($event, skill)\" (pointerleave)=\"clearSkillDetails()\">\n\t\t\t\t\t<span class=\"detail-icon\" (click)=\"showOnClickSkillDetails(skill)\">\n\t\t\t\t\t\t<i class=\"far fa-question-circle\"></i>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class=\"name\" [style.color]=\"getSkillCountColor(skill)\" (click)=\"showOnClickSkillDetails(skill)\">\n\t\t\t\t\t\t{{skill.name}}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class=\"value\">\n\t\t\t\t\t\t<span (click)=\"skillMode(skill)\" class=\"cursor-p\" style=\"font-size:14px !important;\">\n\t\t\t\t\t\t\t<i [ngClass]=\"getIconModeClass(skill.skill.mode)\" [style.color]=\"getModeColor(skill.skill.mode)\"></i>\n\t\t\t\t\t\t\t[{{skill.equippedCount}}]\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"skill-box\" style=\"display:inline-block;position:relative;\">\n\t\t\t\t\t\t\t<span *ngFor=\"let key of getMinCount(skill.equippedArmorCount, skill.totalLevelCount - skill.secretLevelCount) | numbersArr\">\n\t\t\t\t\t\t\t\t<span *ngIf=\"!skill.isNatureBonus\">\n\t\t\t\t\t\t\t\t\t<span class=\"skill-square skill-bg-active\" *ngIf=\"skill.skill.mode == 1\">\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span class=\"skill-square skill-bg-mode2\" *ngIf=\"skill.skill.mode == 2\">\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span class=\"skill-square skill-bg-mode3\" *ngIf=\"skill.skill.mode == 3\">\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class=\"skill-square skill-bg-nature\" *ngIf=\"skill.isNatureBonus\">\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span *ngFor=\"let key of (getMinCount(skill.equippedArmorCount, skill.totalLevelCount) - (skill.totalLevelCount - skill.secretLevelCount)) | numbersArr\">\n\t\t\t\t\t\t\t\t<span class=\"skill-square skill-bg-secret\" *ngIf=\"!skill.isNatureBonus\">\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span *ngFor=\"let key of getMinCount(skill.equippedToolActiveCount, skill.totalLevelCount - skill.equippedArmorCount) | numbersArr\">\n\t\t\t\t\t\t\t\t<span class=\"skill-square skill-bg-tool\">\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span *ngFor=\"let key of (skill.totalLevelCount - skill.equippedArmorCount - skill.equippedToolActiveCount) | numbersArr\">\n\t\t\t\t\t\t\t\t<span class=\"skill-square skill-bg-empty\">\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span *ngFor=\"let key of (7 - skill.totalLevelCount) | numbersArr\">\n\t\t\t\t\t\t\t\t<span class=\"skill-square skill-bg-transparent\">\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t</ng-container>\n\t\t</ul>\n\n\t\t<div *ngIf=\"setBonuses?.length\">\n\t\t\t<br />\n\t\t\t<h4>Set Bonuses</h4>\n\t\t\t<hr>\n\t\t\t<ul class=\"\">\n\t\t\t\t<ng-container *ngFor=\"let setBonus of setBonuses\">\n\t\t\t\t\t<li class=\"setBonus-header\" (pointerenter)=\"showSetBonusDetails($event, setBonus)\" (pointerleave)=\"clearSetBonusDetails()\" (click)=\"showOnClickSetBonusDetails(setBonus)\">\n\t\t\t\t\t\t<span class=\"detail-icon\">\n\t\t\t\t\t\t\t<i class=\"far fa-question-circle\"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"name\">\n\t\t\t\t\t\t\t{{setBonus.name}}\n\t\t\t\t\t\t\t<span [style.color]=\"getSetBonusColor(setBonus.equippedCount, setBonus.details[setBonus.details.length-1].requiredCount)\">\n\t\t\t\t\t\t\t\t[{{setBonus.equippedCount}}]\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<div class=\"value\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li *ngFor=\"let level of setBonus.details; let i=index\" [style.color]=\"getSetBonusColor(setBonus.equippedCount, level.requiredCount)\" (pointerenter)=\"showSkillDetails($event, level)\" (pointerleave)=\"clearSkillDetails()\">\n\t\t\t\t\t\t<span class=\"detail-icon\">\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"name\" (click)=\"showOnClickSkillDetails(level)\">\n\t\t\t\t\t\t\t<i class=\"far fa-question-circle\"></i>&nbsp;{{level.skill.name}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<div class=\"value\">\n\t\t\t\t\t\t\t<span (click)=\"SetbonusSkillMode(level, setBonus.equippedCount)\" class=\"cursor-p\" style=\"font-size:14px !important;\">\n\t\t\t\t\t\t\t\t<i [ngClass]=\"getIconModeClass(level.mode)\" [style.color]=\"getModeColor(level.mode)\"></i>\n\t\t\t\t\t\t\t\t[{{level.requiredCount}}]\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"skill-box\" style=\"display:inline-block;position:relative;\" (click)=\"showOnClickSkillDetails(level)\">\n\t\t\t\t\t\t\t\t<span *ngFor=\"let key of getMinCount(setBonus.equippedCount, level.requiredCount) | numbersArr\">\n\t\t\t\t\t\t\t\t\t<span class=\"skill-square skill-bg-setbonus\">\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span *ngFor=\"let key of (level.requiredCount - getMinCount(setBonus.equippedCount, level.requiredCount)) | numbersArr\">\n\t\t\t\t\t\t\t\t\t<span class=\"skill-square skill-bg-empty\">\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span *ngFor=\"let key of (5 - level.requiredCount) | numbersArr\">\n\t\t\t\t\t\t\t\t\t<span class=\"skill-square skill-bg-transparent\">\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t</ng-container>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { KinsectModel } from 'src/app/models/kinsect.model';\nimport { AmmoCapacitiesModel } from '../../models/ammo-capacities.model';\nimport { CalculationVariableModel } from '../../models/calculation-variable.model';\nimport { ExtraDataModel } from '../../models/extra-data.model';\nimport { SharpnessBarModel } from '../../models/sharpness-bar.model';\nimport { StatDetailModel } from '../../models/stat-detail.model';\nimport { CalculationService } from '../../services/calculation.service';\nimport { TooltipService } from '../../services/tooltip.service';\nimport { PointerType } from '../../types/pointer.type';\nimport { SharpnessBarComponent } from '../sharpness-bar/sharpness-bar.component';\n\n@Component({\n\tselector: 'mhw-builder-equipped-stats',\n\ttemplateUrl: './equipped-stats.component.html',\n\tstyleUrls: ['./equipped-stats.component.scss']\n})\n\nexport class EquippedStatsComponent implements OnInit {\n\n\tattackCalcs = new Array<StatDetailModel>();\n\tdefenseCalcs = new Array<StatDetailModel>();\n\tammoCapacities: AmmoCapacitiesModel;\n\tkinsect: KinsectModel;\n\tsharpnessBar: SharpnessBarModel;\n\textraData: ExtraDataModel;\n\n\tattackVisible: boolean;\n\tammoVisible: boolean;\n\tkinsectVisible: boolean;\n\tdefenseVisible: boolean;\n\n\t@ViewChild(SharpnessBarComponent) sharpnessBarComponent: SharpnessBarComponent;\n\n\tconstructor(\n\t\tprivate calculationService: CalculationService,\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit() {\n\t\tthis.calculationService.attackCalcsUpdated$.subscribe(calcs => {\n\t\t\tthis.attackCalcs = calcs;\n\t\t});\n\n\t\tthis.calculationService.ammoUpdated$.subscribe(ammo => {\n\t\t\tthis.ammoCapacities = ammo;\n\t\t});\n\n\t\tthis.calculationService.kinsectUpdated$.subscribe(kinsect => {\n\t\t\tthis.kinsect = kinsect;\n\t\t});\n\n\t\tthis.calculationService.sharpnessUpdated$.subscribe(sharp => {\n\t\t\tthis.sharpnessBar = sharp;\n\t\t\tif (this.sharpnessBarComponent) {\n\t\t\t\tthis.sharpnessBarComponent.handicraftLevel = sharp.handicraftLevel;\n\t\t\t}\n\t\t});\n\n\t\tthis.calculationService.extraDataUpdated$.subscribe(extraData => {\n\t\t\tthis.extraData = extraData;\n\t\t});\n\n\t\tthis.calculationService.defenseCalcsUpdated$.subscribe(calcs => {\n\t\t\tthis.defenseCalcs = calcs;\n\t\t});\n\n\t\tthis.attackVisible = true;\n\t\tthis.ammoVisible = true;\n\t\tthis.kinsectVisible = true;\n\t\tthis.defenseVisible = true;\n\t}\n\n\tshowCalcDetails(event: PointerEvent, calc: StatDetailModel) {\n\t\tif (event.pointerType == PointerType.Mouse) {\n\t\t\tif (calc.calculationTemplate || (calc.info && calc.info.length)) {\n\t\t\t\tthis.tooltipService.setCalc(calc);\n\t\t\t}\n\t\t}\n\t}\n\n\tclearCalcDetails() {\n\t\tthis.tooltipService.setCalc(null);\n\t}\n\n\tshowOnClickCalcDetails(calc: StatDetailModel) {\n\t\tif (calc.calculationTemplate || (calc.info && calc.info.length)) {\n\t\t\tthis.tooltipService.setCalc(calc);\n\t\t} else {\n\t\t\tthis.clearCalcDetails();\n\t\t}\n\t}\n\n\tshowSharpDetails(event: PointerEvent) {\n\t\tif (event.pointerType == PointerType.Mouse) {\n\t\t\tthis.setSharpTooltip(this.sharpnessBarComponent.sharpnessBar);\n\t\t}\n\t}\n\n\tshowOnClickSharpDetails() {\n\t\tthis.setSharpTooltip(this.sharpnessBarComponent.sharpnessBar);\n\t}\n\n\tclearSharpDetails() {\n\t\tthis.tooltipService.setCalc(null);\n\t}\n\n\tshowExtraDetails(event: PointerEvent) {\n\t\tif (event.pointerType == PointerType.Mouse) {\n\t\t\tthis.setExtraDatailsTooltip();\n\t\t}\n\t}\n\tshowOnClickExtraDetails(event: PointerEvent) {\n\t\tthis.setExtraDatailsTooltip();\n\t}\n\n\tclearExtraDetails() {\n\t\tthis.tooltipService.setCalc(null);\n\t}\n\n\tprivate setExtraDatailsTooltip() {\n\t\tconst calculationVariables: CalculationVariableModel[] = [];\n\t\tfor (const other of this.extraData.otherData) {\n\t\t\tconst variable: CalculationVariableModel = {\n\t\t\t\tdisplayName: other.value,\n\t\t\t\tname: other.value,\n\t\t\t\tcolorClass: 'white',\n\t\t\t\tvalue: other.data\n\t\t\t};\n\t\t\tcalculationVariables.push(variable);\n\t\t}\n\t\tconst otherDetail: StatDetailModel = {\n\t\t\tname: 'Weapon Info',\n\t\t\tvalue: '',\n\t\t\tcalculationTemplate: '',\n\t\t\tcalculationVariables: calculationVariables,\n\t\t\tinfo: []\n\t\t};\n\n\t\tthis.tooltipService.setCalc(otherDetail);\n\t}\n\n\tprivate setSharpTooltip(sharp: SharpnessBarModel) {\n\t\tif (sharp.levels) {\n\t\t\tconst sharpDetail: StatDetailModel = {\n\t\t\t\tname: 'Sharpness',\n\t\t\t\tvalue: sharp.tooltipTemplate,\n\t\t\t\tcalculationTemplate: sharp.tooltipTemplate,\n\t\t\t\tcalculationVariables: [],\n\t\t\t\tinfo: []\n\t\t\t};\n\t\t\tif (sharp.sharpnessDataNeeded) {\n\t\t\t\tsharpDetail.info.push('Missing data for this weapon! Sharpness values are probably incorrect!');\n\t\t\t}\n\n\t\t\tthis.tooltipService.setCalc(sharpDetail);\n\t\t} else {\n\t\t\tthis.clearSharpDetails();\n\t\t}\n\t}\n}\n","<div class=\"container\">\n\t<h4>\n\t\tAttack\n\t\t<span [hidden]=\"!attackVisible\" (click)=\"attackVisible = !attackVisible\"><i\n\t\t\t\tclass=\"fas fa-minus-circle number\"></i></span>\n\t\t<span [hidden]=\"attackVisible\" (click)=\"attackVisible = !attackVisible\"><i\n\t\t\t\tclass=\"fas fa-plus-circle number\"></i></span>\n\t</h4>\n\t<div [hidden]=\"!attackVisible\">\n\t\t<hr>\n\t\t<ul class=\"attack-stats striped\">\n\t\t\t<li *ngFor=\"let calc of attackCalcs\" (pointerenter)=\"showCalcDetails($event, calc)\"\n\t\t\t\t(pointerleave)=\"clearCalcDetails()\" (click)=\"showOnClickCalcDetails(calc)\">\n\t\t\t\t<span *ngIf=\"(calc.calculationTemplate || calc.info?.length) && !calc.icon\" class=\"detail-icon\"\n\t\t\t\t\t[ngClass]=\"calc.color\">\n\t\t\t\t\t<i class=\"far fa-question-circle\"></i>\n\t\t\t\t</span>\n\t\t\t\t<span *ngIf=\"calc.icon\" class=\"detail-icon\">\n\t\t\t\t\t<img [src]=\"'assets/images/' + calc.icon + '-icon.png'\" alt=\"stat icon\">\n\t\t\t\t</span>\n\t\t\t\t<span class=\"name\">{{calc.name}}</span>\n\t\t\t\t<span class=\"value\">\n\t\t\t\t\t<span [ngClass]=\"calc.valueColor\">{{calc.value}}</span>\n\t\t\t\t\t<span *ngIf=\"calc.extra1 || calc.extra2\"> (</span>\n\t\t\t\t\t<span [ngClass]=\"calc.class1\">{{calc.extra1}}</span>\n\t\t\t\t\t<span *ngIf=\"calc.extra1 && calc.extra2\">/</span>\n\t\t\t\t\t<span [ngClass]=\"calc.class2\">{{calc.extra2}}</span>\n\t\t\t\t\t<span *ngIf=\"calc.extra1 || calc.extra2\">)</span>\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t\t<li *ngIf=\"sharpnessBar && sharpnessBar.levels && sharpnessBar.levels.length\"\n\t\t\t\t(pointerenter)=\"showSharpDetails($event)\" (pointerleave)=\"clearSharpDetails()\"\n\t\t\t\t(click)=\"showOnClickSharpDetails()\">\n\t\t\t\t<span class=\"detail-icon\" [ngClass]=\"sharpnessBar.color\">\n\t\t\t\t\t<img [src]=\"'assets/images/sharpness3-icon.png'\" alt=\"sharpness\">\n\t\t\t\t</span>\n\t\t\t\t<span class=\"name\">\n\t\t\t\t\tSharpness\n\t\t\t\t</span>\n\t\t\t\t<mhw-builder-sharpness-bar class=\"value\" [sharpnessLevels]=\"sharpnessBar.levels\"\n\t\t\t\t\t[handicraftLevel]=\"sharpnessBar.handicraftLevel\" [dataNeeded]=\"sharpnessBar.sharpnessDataNeeded\">\n\t\t\t\t</mhw-builder-sharpness-bar>\n\t\t\t</li>\n\n\t\t\t<li *ngIf=\"extraData && extraData.otherData[0].value\" (pointerenter)=\"showExtraDetails($event)\"\n\t\t\t\t(click)=\"showOnClickExtraDetails(calc)\" (pointerleave)=\"clearExtraDetails()\">\n\t\t\t\t<span class=\"detail-icon text-center\">\n\t\t\t\t\t<img *ngIf=\"extraData.weaponType=='Bow'\" [src]=\"'assets/images/phials/phial-close.png'\"\n\t\t\t\t\t\talt=\"icon\" />\n\t\t\t\t\t<img *ngIf=\"extraData.weaponType=='ChargeBlade' || extraData.weaponType=='SwitchAxe'\"\n\t\t\t\t\t\t[src]=\"'assets/images/phial-icon.png'\" alt=\"icon\" />\n\t\t\t\t\t<img *ngIf=\"extraData.weaponType=='Gunlance'\" [src]=\"'assets/images/special-ammo-icon.png'\"\n\t\t\t\t\t\talt=\"icon\" />\n\t\t\t\t\t<img *ngIf=\"extraData.weaponType=='InsectGlaive'\" [src]=\"'assets/images/dust-effect-icon.png'\"\n\t\t\t\t\t\talt=\"icon\" />\n\t\t\t\t</span>\n\t\t\t\t<span class=\"name\">\n\t\t\t\t\t<span *ngIf=\"extraData.weaponType=='Bow'\">Coatings</span>\n\t\t\t\t\t<span *ngIf=\"extraData.weaponType=='ChargeBlade' || extraData.weaponType=='SwitchAxe'\">Phial\n\t\t\t\t\t\tType</span>\n\t\t\t\t\t<span *ngIf=\"extraData.weaponType=='Gunlance'\">Shell Type</span>\n\t\t\t\t\t<span *ngIf=\"extraData.weaponType=='InsectGlaive'\">Boost Type</span>\n\t\t\t\t</span>\n\t\t\t\t<div class=\"value\">\n\t\t\t\t\t<div *ngFor=\"let other of extraData.otherData; let i = index\"\n\t\t\t\t\t\tstyle=\"display:inline;white-space:nowrap;\">\n\t\t\t\t\t\t<div *ngIf=\"extraData.weaponType=='Bow'\" class=\"other-container\">\n\t\t\t\t\t\t\t<img [src]=\"'assets/images/phials/phial-' + other.value + '.png'\" alt=\"coat\" />\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div *ngIf=\"extraData.weaponType=='ChargeBlade' || extraData.weaponType=='SwitchAxe'\"\n\t\t\t\t\t\t\tclass=\"other-container\">\n\t\t\t\t\t\t\t<img [src]=\"'assets/images/phials/phial-' + other.value + '.png'\" alt=\"phial\" />\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{{other.value}}<span *ngIf=\"other.data && other.data!=0\">-{{other.data}}</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div *ngIf=\"extraData.weaponType=='Gunlance' || extraData.weaponType=='InsectGlaive'\"\n\t\t\t\t\t\t\tclass=\"other-container\">\n\t\t\t\t\t\t\t{{other.value}}<span *ngIf=\"other.data && other.data!=0\">-{{other.data}}</span>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t<br />\n\n\t<div class=\"kinsect-stats\" *ngIf=\"kinsect\">\n\t\t<h4>\n\t\t\tKinsect\n\t\t\t<span [hidden]=\"!kinsectVisible\" (click)=\"kinsectVisible = !kinsectVisible\"><i\n\t\t\t\t\tclass=\"fas fa-minus-circle number\"></i></span>\n\t\t\t<span [hidden]=\"kinsectVisible\" (click)=\"kinsectVisible = !kinsectVisible\"><i\n\t\t\t\t\tclass=\"fas fa-plus-circle number\"></i></span>\n\t\t</h4>\n\t\t<div class=\"\" [hidden]=\"!kinsectVisible\">\n\t\t\t<hr>\n\t\t\t<mhw-builder-kinsect-details [kinsect]=\"kinsect\"></mhw-builder-kinsect-details>\n\t\t</div>\n\t\t<br />\n\t</div>\n\n\t<div *ngIf=\"ammoCapacities\">\n\t\t<h4>\n\t\t\tAmmo\n\t\t\t<span [hidden]=\"!ammoVisible\" (click)=\"ammoVisible = !ammoVisible\"><i\n\t\t\t\t\tclass=\"fas fa-minus-circle number\"></i></span>\n\t\t\t<span [hidden]=\"ammoVisible\" (click)=\"ammoVisible = !ammoVisible\"><i\n\t\t\t\t\tclass=\"fas fa-plus-circle number\"></i></span>\n\t\t</h4>\n\t\t<div class=\"ammo-stats\" [hidden]=\"!ammoVisible\">\n\t\t\t<hr>\n\t\t\t<mhw-builder-ammo-capacities [ammoCapacities]=\"ammoCapacities\"></mhw-builder-ammo-capacities>\n\t\t</div>\n\t\t<br />\n\t</div>\n\n\t<h4>\n\t\tDefense\n\t\t<span [hidden]=\"!defenseVisible\" (click)=\"defenseVisible = !defenseVisible\"><i\n\t\t\t\tclass=\"fas fa-minus-circle number\"></i></span>\n\t\t<span [hidden]=\"defenseVisible\" (click)=\"defenseVisible = !defenseVisible\"><i\n\t\t\t\tclass=\"fas fa-plus-circle number\"></i></span>\n\t</h4>\n\t<div [hidden]=\"!defenseVisible\">\n\t\t<hr>\n\t\t<ul class=\"defense-stats striped\">\n\t\t\t<li *ngFor=\"let calc of defenseCalcs\" (pointerenter)=\"showCalcDetails($event, calc)\"\n\t\t\t\t(pointerleave)=\"clearCalcDetails()\">\n\t\t\t\t<span *ngIf=\"calc.icon\" class=\"detail-icon\">\n\t\t\t\t\t<img [src]=\"'assets/images/' + calc.icon + '-icon.png'\" alt=\"stat icon\">\n\t\t\t\t</span>\n\t\t\t\t<span class=\"name\">{{calc.name}}</span>\n\t\t\t\t<span class=\"value\">{{calc.value}}</span>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport * as _ from 'lodash';\nimport { ItemModel } from '../../models/item.model';\nimport { SkillModel } from '../../models/skill.model';\nimport { StatDetailModel } from '../../models/stat-detail.model';\nimport { DataService } from '../../services/data.service';\nimport { TooltipService } from '../../services/tooltip.service';\nimport { EquipmentCategoryType } from '../../types/equipment-category.type';\nimport { ItemType } from '../../types/item.type';\nimport { WeaponType } from '../../types/weapon.type';\n\n@Component({\n\tselector: 'mhw-builder-item-details',\n\ttemplateUrl: './item-details.component.html',\n\tstyleUrls: ['./item-details.component.scss']\n})\nexport class ItemDetailsComponent implements OnInit {\n\tprivate _item: ItemModel;\n\n\t@Input()\n\tset item(item: ItemModel) {\n\t\tthis._item = item;\n\t\tif (item) {\n\t\t\tthis.setupStats();\n\t\t\tthis.loadSkills();\n\t\t} else {\n\t\t\tthis.skills = new Array<SkillModel>();\n\t\t}\n\t}\n\tget item(): ItemModel {\n\t\treturn this._item;\n\t}\n\n\tskills: SkillModel[];\n\tstats: StatDetailModel[] = [];\n\n\tconstructor(\n\t\tprivate dataService: DataService,\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit() { }\n\n\tsetupStats() {\n\t\tthis.stats = [];\n\n\t\tif (this.item.rarity) {\n\t\t\tthis.stats.push({\n\t\t\t\tname: 'Rarity',\n\t\t\t\tvalue: this.item.rarity\n\t\t\t});\n\t\t}\n\n\t\tif (this.item.itemType == ItemType.Weapon) {\n\t\t\tthis.stats.push({\n\t\t\t\tname: 'Weapon Type',\n\t\t\t\tvalue: this.getWeaponTypeName(this.item.weaponType)\n\t\t\t});\n\n\t\t\tthis.stats.push({\n\t\t\t\tname: 'Attack',\n\t\t\t\tvalue: this.item.baseAttack\n\t\t\t});\n\n\t\t\tthis.stats.push({\n\t\t\t\tname: 'Affinity',\n\t\t\t\tvalue: this.item.baseAffinityPercent\n\t\t\t});\n\n\t\t\tif (this.item.ailment) {\n\t\t\t\tthis.stats.push({\n\t\t\t\t\tname: 'Ailment',\n\t\t\t\t\tvalue: this.item.ailment,\n\t\t\t\t\tcolor: this.item.ailmentHidden ? 'grey' : 'white'\n\t\t\t\t});\n\n\t\t\t\tthis.stats.push({\n\t\t\t\t\tname: 'Ailment Attack',\n\t\t\t\t\tvalue: this.item.ailmentBaseAttack,\n\t\t\t\t\tcolor: this.item.ailmentHidden ? 'grey' : 'white'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.item.element) {\n\t\t\t\tthis.stats.push({\n\t\t\t\t\tname: 'Element',\n\t\t\t\t\tvalue: this.item.element,\n\t\t\t\t\tcolor: this.item.elementHidden ? 'grey' : 'white'\n\t\t\t\t});\n\n\t\t\t\tthis.stats.push({\n\t\t\t\t\tname: 'Element Attack',\n\t\t\t\t\tvalue: this.item.elementBaseAttack,\n\t\t\t\t\tcolor: this.item.elementHidden ? 'grey' : 'white'\n\t\t\t\t});\n\n\t\t\t\tif (this.item.elderseal) {\n\t\t\t\t\tthis.stats.push({\n\t\t\t\t\t\tname: 'Elderseal',\n\t\t\t\t\t\tvalue: this.item.elderseal\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.item.otherData && this.item.otherData[0].value) {\n\t\t\t\tconst auxDetail: StatDetailModel = {\n\t\t\t\t\tname: '',\n\t\t\t\t\tvalue: ''\n\t\t\t\t};\n\t\t\t\tswitch (this.item.weaponType) {\n\t\t\t\t\tcase WeaponType.Bow:\n\t\t\t\t\t\tauxDetail.name = 'Coatings';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase WeaponType.ChargeBlade:\n\t\t\t\t\tcase WeaponType.SwitchAxe:\n\t\t\t\t\t\tauxDetail.name = 'Phial Type';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase WeaponType.Gunlance:\n\t\t\t\t\t\tauxDetail.name = 'Shell Type';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase WeaponType.InsectGlaive:\n\t\t\t\t\t\tauxDetail.name = 'Boost Type';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tauxDetail.name = 'Other Data';\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tfor (const other of this.item.otherData) {\n\t\t\t\t\tauxDetail.value += `${other.value}${other.data ? '-' + other.data : ''}\t`;\n\t\t\t\t\tif (this.item.otherData.length > 1) {\n\t\t\t\t\t\tauxDetail.value += ' | ';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.stats.push(auxDetail);\n\t\t\t}\n\t\t}\n\n\t\tif (this.item.itemType == ItemType.Charm) {\n\t\t\tthis.stats.push({\n\t\t\t\tname: 'Levels',\n\t\t\t\tvalue: this.item.levels\n\t\t\t});\n\t\t}\n\n\t\tif (this.item.itemType == ItemType.Tool1 || this.item.itemType == ItemType.Tool2) {\n\t\t\tthis.stats.push({\n\t\t\t\tname: 'Duration',\n\t\t\t\tvalue: this.item.duration\n\t\t\t});\n\t\t\tthis.stats.push({\n\t\t\t\tname: 'Recharge',\n\t\t\t\tvalue: this.item.recharge\n\t\t\t});\n\t\t}\n\n\t\tif (this.item.defense) {\n\t\t\tlet value = '';\n\t\t\tfor (let i = 0; i < this.item.defense.length; i++) {\n\t\t\t\tvalue += this.item.defense[i];\n\t\t\t\tif (i < this.item.defense.length - 2) {\n\t\t\t\t\tvalue += '  ';\n\t\t\t\t} else if (i < this.item.defense.length - 1) {\n\t\t\t\t\tvalue += '  ';\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.stats.push({\n\t\t\t\tname: 'Defense',\n\t\t\t\tvalue: value\n\t\t\t});\n\t\t}\n\n\t\tif (this.item.equipmentCategory == EquipmentCategoryType.Armor) {\n\t\t\tthis.stats.push({\n\t\t\t\tname: 'Fire Resist',\n\t\t\t\tvalue: this.item.fireResist || 0\n\t\t\t});\n\n\t\t\tthis.stats.push({\n\t\t\t\tname: 'Water Resist',\n\t\t\t\tvalue: this.item.waterResist || 0\n\t\t\t});\n\n\t\t\tthis.stats.push({\n\t\t\t\tname: 'Thunder Resist',\n\t\t\t\tvalue: this.item.thunderResist || 0\n\t\t\t});\n\n\t\t\tthis.stats.push({\n\t\t\t\tname: 'Ice Resist',\n\t\t\t\tvalue: this.item.iceResist || 0\n\t\t\t});\n\n\t\t\tthis.stats.push({\n\t\t\t\tname: 'Dragon Resist',\n\t\t\t\tvalue: this.item.dragonResist || 0\n\t\t\t});\n\t\t}\n\n\t\tif (this.item.monsters) {\n\t\t\tthis.stats.push({\n\t\t\t\tname: 'Monsters',\n\t\t\t\tvalue: this.item.monsters.join(' | ').replace(/-/g, ' ')\n\t\t\t});\n\t\t}\n\t}\n\n\n\tloadSkills() {\n\t\tthis.skills = this.dataService.getSkills(this.item.skills);\n\t}\n\n\tgetSkillCount(skill: SkillModel): string {\n\t\tconst itemSkill = _.find(this.item.skills, s => s.id == skill.id);\n\t\tconst result = `${itemSkill.level}/${skill.levels.length}`;\n\t\treturn result;\n\t}\n\n\tgetWeaponTypeName(weaponType: WeaponType): string {\n\t\treturn this.dataService.getWeaponTypeName(weaponType);\n\t}\n\n\tclearTooltipItem() {\n\t\tthis.tooltipService.setItem(null);\n\t}\n}\n","<div class=\"container\" (click)=\"clearTooltipItem()\">\n\t<h3>{{item?.name}}<span class=\"close-btn-sm\" style=\"visibility:hidden;\"><i class=\"fa fa-times\"></i></span></h3>\n\t<hr>\n\t<ul class=\"striped-light\">\n\t\t<li *ngFor=\"let stat of stats\">\n\t\t\t<span class=\"name\" [ngStyle]=\"{ color: stat.color }\">{{stat.name}}</span>\n\t\t\t<span class=\"value\" [ngStyle]=\"{ color: stat.color }\">{{stat.value}}</span>\n\t\t</li>\n\t\t<li *ngIf=\"item.sharpnessLevelsBar && item.sharpnessLevelsBar.length > 1\">\n\t\t\t<span class=\"name\">Max Sharpness</span>\n\t\t\t<span class=\"value\">\n\t\t\t\t{{item.sharpnessMaxLevel * 10}}\n\t\t\t\t<i class=\"fas fa-circle fa-sm\" [ngClass]=\"['sharp-' + item.sharpnessMaxColorIndex]\"></i>\n\t\t\t</span>\n\t\t</li>\n\t</ul>\n\n\t<div class=\"slots-container\">\n\t\t<ng-template [ngIf]=\"item?.slots\">\n\t\t\t<div *ngIf=\"item?.slots[0]?.level\">\n\t\t\t\t<img [src]=\"'assets/images/decorations/' + item?.slots[0]?.level + '-0.png'\" alt=\"slot\">\n\t\t\t</div>\n\t\t\t<div *ngIf=\"item?.slots[1]?.level\">\n\t\t\t\t<img [src]=\"'assets/images/decorations/' + item?.slots[1]?.level + '-0.png'\" alt=\"slot\">\n\t\t\t</div>\n\t\t\t<div *ngIf=\"item?.slots[2]?.level\">\n\t\t\t\t<img [src]=\"'assets/images/decorations/' + item?.slots[2]?.level + '-0.png'\" alt=\"slot\">\n\t\t\t</div>\n\t\t</ng-template>\n\t</div>\n\n\t<div *ngIf=\"skills?.length\" class=\"skills-container\">\n\t\t<ul>\n\t\t\t<ng-container *ngFor=\"let skill of skills\">\n\t\t\t\t<li *ngIf=\"skill.levels\">\n\t\t\t\t\t<div class=\"skill-header\">\n\t\t\t\t\t\t<h4 class=\"skill-name\">{{skill.name}}</h4>\n\t\t\t\t\t\t<h4 class=\"skill-level\">{{getSkillCount(skill)}}</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<hr>\n\t\t\t\t\t<span>{{skill.description}}</span>\n\t\t\t\t</li>\n\t\t\t</ng-container>\n\t\t</ul>\n\t</div>\n</div>\n","import { Component, Input, OnInit, QueryList, ViewChild, ViewChildren } from '@angular/core';\nimport { KinsectModel } from 'src/app/models/kinsect.model';\nimport { ModificationModel } from 'src/app/models/modification.model';\nimport { AugmentationModel } from '../../models/augmentation.model';\nimport { AwakeningLevelModel } from '../../models/awakening-level.model';\nimport { ItemModel } from '../../models/item.model';\nimport { UpgradeContainerModel } from '../../models/upgrade-container.model';\nimport { DataService } from '../../services/data.service';\nimport { SlotService } from '../../services/slot.service';\nimport { TooltipService } from '../../services/tooltip.service';\nimport { EquipmentCategoryType } from '../../types/equipment-category.type';\nimport { ItemType } from '../../types/item.type';\nimport { PointerType } from '../../types/pointer.type';\nimport { AugmentationSlotComponent } from '../augmentation-slot/augmentation-slot.component';\nimport { AwakeningSlotComponent } from '../awakening-slot/awakening-slot.component';\nimport { DecorationSlotComponent } from '../decoration-slot/decoration-slot.component';\nimport { KinsectSlotComponent } from '../kinsect-slot/kinsect-slot.component';\nimport { ModificationSlotComponent } from '../modification-slot/modification-slot.component';\nimport { UpgradeSlotComponent } from '../upagrade-slot/upgrade-slot.component';\n\n@Component({\n\tselector: 'mhw-builder-item-slot',\n\ttemplateUrl: './item-slot.component.html',\n\tstyleUrls: ['./item-slot.component.scss']\n})\nexport class ItemSlotComponent implements OnInit {\n\t@Input() slotName: ItemType;\n\n\t@ViewChildren(DecorationSlotComponent) decorationSlots: QueryList<DecorationSlotComponent>;\n\t@ViewChildren(AugmentationSlotComponent) augmentationSlots: QueryList<AugmentationSlotComponent>;\n\t@ViewChild(UpgradeSlotComponent) upgradeSlot: UpgradeSlotComponent;\n\t@ViewChild(AwakeningSlotComponent) awakeningSlot: AwakeningSlotComponent;\n\t@ViewChildren(ModificationSlotComponent) modificationSlots: QueryList<ModificationSlotComponent>;\n\t@ViewChild(KinsectSlotComponent) kinsectSlot: KinsectSlotComponent;\n\n\titem: ItemModel;\n\n\tpublic augmentations = new Array<AugmentationModel>();\n\tpublic upgradeContainer: UpgradeContainerModel;\n\tpublic awakenings = new Array<AwakeningLevelModel>();\n\tpublic modifications = new Array<ModificationModel>();\n\tpublic kinsect: KinsectModel;\n\tpublic selected: boolean;\n\n\tconstructor(\n\t\tprivate dataService: DataService,\n\t\tprivate slotService: SlotService,\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit() {\n\t}\n\n\tequipmentSlotClicked() {\n\t\tthis.slotService.selectItemSlot(this);\n\t}\n\n\tlevelDownClicked(event: Event) {\n\t\tevent.stopPropagation();\n\t\tif (this.item.equippedLevel > 1) {\n\t\t\tthis.item.equippedLevel--;\n\t\t\tthis.slotService.updateItemLevel();\n\t\t}\n\t}\n\n\tlevelUpClicked(event: Event) {\n\t\tevent.stopPropagation();\n\t\tif (this.item.equippedLevel < this.item.levels) {\n\t\t\tthis.item.equippedLevel++;\n\t\t\tthis.slotService.updateItemLevel();\n\t\t}\n\t}\n\n\tactiveClicked(event: Event) {\n\t\tevent.stopPropagation();\n\t\tthis.item.active = !this.item.active;\n\t\tthis.slotService.activeItemTool(this.item.itemType, this.item.active);\n\t}\n\n\tgetItemIconName(): string {\n\t\tlet assetPath;\n\t\tswitch (this.dataService.getEquipmentCategory(this.slotName)) {\n\t\t\tcase EquipmentCategoryType.Armor:\n\t\t\t\tassetPath = `armor/${this.slotName.toLowerCase()}-icon`;\n\t\t\t\tbreak;\n\t\t\tcase EquipmentCategoryType.Weapon:\n\t\t\t\tif (this.item) {\n\t\t\t\t\tassetPath = `weapons/${this.item.weaponType.toLowerCase()}-icon`;\n\t\t\t\t} else {\n\t\t\t\t\tassetPath = 'weapons/greatsword-icon';\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase EquipmentCategoryType.Charm:\n\t\t\t\tassetPath = 'armor/charm-icon';\n\t\t\t\tbreak;\n\t\t\tcase EquipmentCategoryType.Tool:\n\t\t\t\tassetPath = 'armor/tool-icon';\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn `assets/images/${assetPath}.png`;\n\t}\n\n\tequipmentClearClicked(event: Event) {\n\t\tevent.stopPropagation();\n\t\tthis.slotService.clearItemSlot(this);\n\t\tthis.clearTooltipItem();\n\t}\n\n\tsetTooltipItem(event: PointerEvent) {\n\t\tif (event.pointerType == PointerType.Mouse) {\n\t\t\tthis.tooltipService.setItem(this.item);\n\t\t}\n\t}\n\n\tshowOnClickTooltipItem() {\n\t\tthis.tooltipService.setItem(this.item);\n\t}\n\n\tclearTooltipItem() {\n\t\tthis.tooltipService.setItem(null);\n\t}\n}\n","<div class=\"container\">\n\t<div class=\"item-container\" [class.selected]=\"selected\">\n\t\t<!--<div class=\"slot-name\">{{slotName}}</div>-->\n\t\t<div class=\"slot-icon\" (click)=\"equipmentSlotClicked()\">\n\t\t\t<img [src]=\"getItemIconName()\" alt=\"slot icon\">\n\t\t</div>\n\t\t<div class=\"selected-item\" (click)=\"equipmentSlotClicked()\"\n\t\t\t (pointerenter)=\"setTooltipItem($event)\"\n\t\t\t (pointerleave)=\"clearTooltipItem()\">\n\t\t\t{{item?.name}}\n\t\t</div>\n\n\t\t<div *ngIf=\"item?.levels\" class=\"levels-container\">\n\t\t\t<button type=\"button\" class=\"level-down-button\" (click)=\"levelDownClicked($event)\">\n\t\t\t\t<i class=\"fas fa-minus\"></i>\n\t\t\t</button>\n\n\t\t\t<div class=\"level\">\n\t\t\t\t{{item.equippedLevel}}\n\t\t\t</div>\n\n\t\t\t<button type=\"button\" class=\"level-up-button\" (click)=\"levelUpClicked($event)\">\n\t\t\t\t<i class=\"fas fa-plus\"></i>\n\t\t\t</button>\n\t\t</div>\n\t\t<div *ngIf=\"item && (slotName=='Tool1' || slotName=='Tool2')\" class=\"active-container\">\n\t\t\t<button type=\"button\" class=\"active-button\" (click)=\"activeClicked($event)\">\n\t\t\t\t<i class=\"fas fa-lg\" [ngClass]=\"{'fa-toggle-on text-white': item?.active, 'fa-toggle-off': !item?.active}\"></i>\n\t\t\t</button>\n\t\t</div>\n\t\t<button type=\"button\" class=\"info-button\" (click)=\"showOnClickTooltipItem()\" aria-label=\"info\">\n\t\t\t<i class=\"fas fa-info-circle icon-xs\" [ngClass]=\"'rarity-'+item?.rarity\" style=\"display:none;\"></i>\n\t\t\t<i class=\"fas fa-grip-lines-vertical icon-md\" [ngClass]=\"'rarity-'+item?.rarity\"></i>\n\t\t</button>\n\t\t<button type=\"button\" class=\"clear-button\" (click)=\"equipmentClearClicked($event)\" aria-label=\"clear\">\n\t\t\t<i class=\"fas fa-times\"></i>\n\t\t</button>\n\t</div>\n\n\t<div class=\"kinsect-container\" *ngIf=\"kinsect\">\n\t\t<mhw-builder-kinsect-slot></mhw-builder-kinsect-slot>\n\t</div>\n\n\t<div class=\"augmentation-container\" *ngIf=\"augmentations && augmentations.length\">\n\t\t<mhw-builder-augmentation-slot *ngFor=\"let aug of augmentations\">\n\t\t</mhw-builder-augmentation-slot>\n\t</div>\n\n\t<div class=\"upgrade-container\" *ngIf=\"upgradeContainer?.slots > 0\">\n\t\t<mhw-builder-upgrade-slot [upgradeContainer]=\"upgradeContainer\">\n\t\t</mhw-builder-upgrade-slot>\n\t</div>\n\n\t<div class=\"modification-container\" *ngIf=\"modifications && modifications.length\">\n\t\t<mhw-builder-modification-slot *ngFor=\"let mod of modifications\">\n\t\t</mhw-builder-modification-slot>\n\t</div>\n\n\t<div class=\"awakening-container\" *ngIf=\"item?.weaponType && item?.upgradeType && item?.upgradeType==2\">\n\t\t<mhw-builder-awakening-slot [awakenings]=\"awakenings\"\n\t\t\t\t\t\t\t\t\t[weaponElement]=\"item?.element\"\n\t\t\t\t\t\t\t\t\t[weaponAilment]=\"item?.ailment\"\n\t\t\t\t\t\t\t\t\t[weaponType]=\"item?.weaponType\">\n\t\t</mhw-builder-awakening-slot>\n\t</div>\n\n\t<div class=\"decoration-container\" *ngIf=\"item?.slots && item?.slots.length\">\n\t\t<mhw-builder-decoration-slot *ngFor=\"let slot of item?.slots\"\n\t\t\t\t\t\t\t\t\t [level]=\"slot.level\"\n\t\t\t\t\t\t\t\t\t [itemId]=\"item.id\"\n\t\t\t\t\t\t\t\t\t [itemType]=\"item.itemType\">\n\t\t</mhw-builder-decoration-slot>\n\t</div>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { StatService } from 'src/app/services/stat.service';\nimport { ElementType } from 'src/app/types/element.type';\nimport { KinsectModel } from '../../models/kinsect.model';\nimport { StatDetailModel } from '../../models/stat-detail.model';\n\n@Component({\n\tselector: 'mhw-builder-kinsect-details',\n\ttemplateUrl: './kinsect-details.component.html',\n\tstyleUrls: ['./kinsect-details.component.scss']\n})\nexport class KinsectDetailsComponent implements OnInit {\n\n\tprivate _kinsect: KinsectModel;\n\n\t@Input()\n\tset kinsect(kinsect: KinsectModel) {\n\t\tthis._kinsect = kinsect;\n\t\tif (kinsect) {\n\t\t\tthis.setupStats();\n\t\t} else {\n\n\t\t}\n\t}\n\tget kinsect(): KinsectModel {\n\t\treturn this._kinsect;\n\t}\n\n\tstats: StatDetailModel[] = [];\n\n\tconstructor(private statService: StatService) {\n\t\tthis.statService.statsUpdated$.subscribe(stats => {\n\t\t\tif (stats.kinsect) {\n\t\t\t\tthis.kinsect = stats.kinsect;\n\t\t\t\tthis.setupStats();\n\t\t\t}\n\t\t});\n\t}\n\n\tngOnInit() {\n\t}\n\n\tsetupStats() {\n\t\tthis.stats = [];\n\n\t\tthis.stats.push({\n\t\t\ticon: 'attack-type',\n\t\t\tname: 'Attack Type',\n\t\t\tvalue: this.kinsect.attackType\n\t\t});\n\n\t\tthis.stats.push({\n\t\t\ticon: 'dust-effect',\n\t\t\tname: 'Dust Effect',\n\t\t\tvalue: this.kinsect.dustEffect,\n\t\t\tclass1: this.kinsect.dustEffect\n\t\t});\n\n\t\tlet power = this.kinsect.power;\n\t\tconst powerDetail: StatDetailModel = {\n\t\t\ticon: 'kinsect/power',\n\t\t\tname: 'Power',\n\t\t\tvalue: 'Lv '\n\t\t};\n\t\tif (this.kinsect.element && this.kinsect.element != ElementType.None) {\n\t\t\tthis.stats.push({\n\t\t\t\ticon: this.kinsect.element.toLowerCase(),\n\t\t\t\tname: 'Element Power',\n\t\t\t\tvalue: `Lv ${this.kinsect.elementPower}`,\n\t\t\t\tclass1: this.kinsect.element\n\t\t\t});\n\t\t\tpower -= 1;\n\t\t\tpowerDetail.color = 'yellow';\n\t\t}\n\t\tpowerDetail.value += `${power}`;\n\t\tthis.stats.push(powerDetail);\n\n\t\tthis.stats.push({\n\t\t\ticon: '/kinsect/speed',\n\t\t\tname: 'Speed',\n\t\t\tvalue: `Lv ${this.kinsect.speed}`\n\t\t});\n\n\t\tthis.stats.push({\n\t\t\ticon: '/kinsect/heal',\n\t\t\tname: 'Heal',\n\t\t\tvalue: `Lv ${this.kinsect.heal}`\n\t\t});\n\t}\n}\n","<div class=\"container\">\n\t<ul class=\"striped-light\">\n\t\t<li *ngFor=\"let stat of stats\">\n\t\t\t<span *ngIf=\"stat.icon\" class=\"detail-icon\">\n\t\t\t\t<img [src]=\"'assets/images/' + stat.icon + '-icon.png'\" style=\"height:1em;margin:auto;padding-top:1px;\" alt=\"stat icon\">\n\t\t\t</span>\n\t\t\t<span class=\"name\">{{stat.name}}</span>\n\t\t\t<span class=\"value\" [ngStyle]=\"{ color: stat.color }\" [ngClass]=\"stat.class1\">{{stat.value}}</span>\n\t\t</li>\n\t</ul>\n</div>\n","import { Component, ElementRef, HostListener, OnInit, ViewChild } from '@angular/core';\nimport * as _ from 'lodash';\nimport { VirtualScrollerComponent } from 'ngx-virtual-scroller';\nimport { ElementType } from 'src/app/types/element.type';\nimport { KinsectModel } from '../../models/kinsect.model';\nimport { DataService } from '../../services/data.service';\nimport { SlotService } from '../../services/slot.service';\n\n@Component({\n\tselector: 'mhw-builder-kinsect-list',\n\ttemplateUrl: './kinsect-list.component.html',\n\tstyleUrls: ['./kinsect-list.component.scss']\n})\nexport class KinsectListComponent implements OnInit {\n\tonlyIceborne = true;\n\n\t@ViewChild('searchBox', { static: true }) searchBox: ElementRef;\n\t@ViewChild('itemList') itemList: VirtualScrollerComponent;\n\n\tkinsects: KinsectModel[];\n\tkinsectsWorld: KinsectModel[];\n\tkinsectsIceborne: KinsectModel[];\n\tfilteredKinsects: KinsectModel[];\n\tvirtualKinsects: KinsectModel[];\n\n\tshowSortContainer = true;\n\tsortType = '';\n\n\t@HostListener('window:resize')\n\tonResize() {\n\t\tthis.refreshList();\n\t}\n\n\tconstructor(\n\t\tprivate slotService: SlotService,\n\t\tprivate dataService: DataService\n\t) { }\n\n\tngOnInit() {\n\t\tthis.loadKinsects();\n\t}\n\n\trefreshList() {\n\t\tif (this.itemList) {\n\t\t\tthis.itemList.refresh();\n\t\t}\n\t}\n\n\tloadKinsects() {\n\t\tthis.kinsects = this.dataService.getKinsects();\n\t\tthis.kinsectsWorld = this.kinsects.filter(item => item.id <= 100);\n\t\tthis.kinsectsIceborne = this.kinsects.filter(item => item.id > 100);\n\t\tthis.resetSearchResults();\n\t}\n\n\tsearch(query: string) {\n\t\tthis.applyIceborneFilter();\n\n\t\tif (query) {\n\t\t\tquery = query.toLocaleLowerCase().trim();\n\n\t\t\tthis.filteredKinsects = _.filter(this.filteredKinsects, (k: KinsectModel) =>\n\t\t\t\tk.name.toLocaleLowerCase().includes(query) ||\n\t\t\t\tk.attackType.toString().toLocaleLowerCase().includes(query) ||\n\t\t\t\tk.dustEffect.toString().toLocaleLowerCase().includes(query));\n\t\t} else {\n\t\t\tthis.resetSearchResults();\n\t\t}\n\t}\n\n\tresetSearchResults() {\n\t\tthis.searchBox.nativeElement.value = null;\n\t\tthis.applyIceborneFilter();\n\t\tthis.sortType = '';\n\t}\n\n\tapplyIceborneFilter() {\n\t\tif (this.onlyIceborne) {\n\t\t\tthis.filteredKinsects = this.kinsectsIceborne;\n\t\t} else {\n\t\t\tthis.filteredKinsects = this.kinsectsIceborne.concat(this.kinsectsWorld);\n\t\t}\n\t}\n\n\tsetOnlyIceborne() {\n\t\tthis.onlyIceborne = !this.onlyIceborne;\n\t\tthis.applyIceborneFilter();\n\t}\n\n\tonKinsectListUpdate(kinsects: KinsectModel[]) {\n\t\tthis.virtualKinsects = kinsects;\n\t}\n\n\tselectKinsect(kinsect: KinsectModel) {\n\t\tconst newKinsect = Object.assign({}, kinsect);\n\t\tnewKinsect.element = ElementType.None;\n\t\tthis.slotService.selectKinsect(newKinsect);\n\t}\n\n\tsortByProperty(property: string) {\n\t\tthis.sortType = property;\n\t\tthis.filteredKinsects.sort(function (a, b) {\n\t\t\tif (a[property] > b[property]) {\n\t\t\t\treturn -1;\n\t\t\t} else if (a[property] < b[property]) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tthis.virtualKinsects = this.filteredKinsects;\n\t}\n}\n","<div class=\"container\">\n\t<div class=\"search-container\">\n\t\t<input #searchBox (keyup)=\"search(searchBox.value)\" placeholder=\"Search names, kinsect types, dust types\" />\n\t\t<button type=\"button\" class=\"iceborne-button\" (click)=\"setOnlyIceborne()\" title=\"Only Iceborne\">\n\t\t\t<i class=\"fas fa-toggle-on\" [hidden]=\"!onlyIceborne\"></i>\n\t\t\t<i class=\"fas fa-toggle-off\" [hidden]=\"onlyIceborne\"></i>\n\t\t</button>\n\t\t<button type=\"button\" class=\"sort-button\" (click)=\"showSortContainer=!showSortContainer\">\n\t\t\t<i class=\"fas fa-sort-amount-up\"></i>\n\t\t</button>\n\t\t<button class=\"clear-button\" (click)=\"resetSearchResults()\">\n\t\t\t<i class=\"fas fa-times\"></i>\n\t\t</button>\n\t</div>\n\n\t<div class=\"sort-container\" *ngIf=\"showSortContainer\">\n\t\t<button type=\"button\" class=\"weapon-sort\" [class.selected]=\"sortType == 'power'\" (click)=\"sortByProperty('power')\">\n\t\t\t<span>POWER</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-sort\" [class.selected]=\"sortType == 'speed'\" (click)=\"sortByProperty('speed')\">\n\t\t\t<span>SPEED</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-sort\" [class.selected]=\"sortType == 'heal'\" (click)=\"sortByProperty('heal')\">\n\t\t\t<span>HEAL</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-sort\" [class.selected]=\"sortType == 'attackType'\" (click)=\"sortByProperty('attackType')\">\n\t\t\t<span>TYPE</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-sort\" [class.selected]=\"sortType == 'dustEffect'\" (click)=\"sortByProperty('dustEffect')\">\n\t\t\t<span>DUST</span>\n\t\t</button>\n\t</div>\n\n\t<virtual-scroller id=\"kinsects-list\" #itemList class=\"scroll-container\" *ngIf=\"kinsects\" [items]=\"filteredKinsects\" (vsUpdate)=\"onKinsectListUpdate($event)\">\n\t\t<div *ngFor=\"let kinsect of virtualKinsects\" class=\"scroll-item-container\" (click)=\"selectKinsect(kinsect)\">\n\t\t\t<div class=\"name-container\">\n\t\t\t\t<div class=\"name\" [ngClass]=\"{'ver-52':kinsect.id==6}\">\n\t\t\t\t\t{{kinsect.name}}\n\t\t\t\t</div>\n\t\t\t\t<!--<div class=\"type\">\n\t\t\t\t</div>-->\n\t\t\t\t<div class=\"rarity\" *ngIf=\"kinsect.rarity\">\n\t\t\t\t\tRarity {{kinsect.rarity}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"stats-container\">\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/attack-type-icon.png\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{kinsect.attackType}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/dust-effect-icon.png\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{kinsect.dustEffect}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/element-damage-icon.png\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value sharp-8\">{{kinsect.elementPower}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/kinsect/power-icon.png\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{kinsect.power}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/kinsect/speed-icon.png\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{kinsect.speed}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/kinsect/heal-icon.png\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{kinsect.heal}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</virtual-scroller>\n</div>\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { KeyValuePair } from '../../models/common/key-value-pair.model';\nimport { KinsectModel } from '../../models/kinsect.model';\nimport { SlotService } from '../../services/slot.service';\nimport { TooltipService } from '../../services/tooltip.service';\nimport { ElementType } from '../../types/element.type';\nimport { ItemType } from '../../types/item.type';\nimport { PointerType } from '../../types/pointer.type';\nimport { DropdownComponent } from '../common/dropdown/dropdown.component';\n\n@Component({\n\tselector: 'mhw-builder-kinsect-slot',\n\ttemplateUrl: './kinsect-slot.component.html',\n\tstyleUrls: ['./kinsect-slot.component.scss']\n})\nexport class KinsectSlotComponent implements OnInit {\n\tslotName = ItemType.Kinsect;\n\telementTypes = ElementType;\n\tkinsect: KinsectModel;\n\telements: KeyValuePair<string, string>[];\n\n\tpublic selected: boolean;\n\n\t@ViewChild(DropdownComponent, { static: true }) elementDropdown: DropdownComponent;\n\n\tconstructor(\n\t\tprivate slotService: SlotService,\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit(): void {\n\t\tthis.elements = [];\n\t\tObject.keys(ElementType).map(key => {\n\t\t\tthis.elements.push({ key: key, value: key });\n\t\t});\n\t}\n\n\tclicked() {\n\t\tthis.slotService.selectKinsectSlot(this);\n\t}\n\n\tclearClicked(event: Event) {\n\t\tevent.stopPropagation();\n\t\tthis.slotService.clearKinsectSlot(this);\n\t\tthis.clearTooltipKinsect();\n\t}\n\n\tsetTooltipKinsect(event: PointerEvent, kinsect: KinsectModel) {\n\t\tif (event.pointerType == PointerType.Mouse) {\n\t\t\tthis.tooltipService.setKinsect(kinsect);\n\t\t}\n\t}\n\n\tclearTooltipKinsect() {\n\t\tthis.tooltipService.setKinsect(null);\n\t}\n\n\tselectElement(selectedElement: ElementType) {\n\t\tthis.kinsect.element = selectedElement;\n\t\tthis.slotService.selectKinsectSlot(this);\n\t\tthis.slotService.selectKinsect(this.kinsect);\n\t}\n\n\tgetElementIcon(element: ElementType): string {\n\t\tlet assetPath;\n\t\tif (element && element != ElementType.None) {\n\t\t\tassetPath = `${element.toLowerCase()}-icon`;\n\t\t}\n\t\treturn `assets/images/${assetPath}.png`;\n\t}\n}\n","<div class=\"container\" (click)=\"clicked()\" [class.selected]=\"selected\" (pointerenter)=\"setTooltipKinsect($event, kinsect)\" (pointerleave)=\"clearTooltipKinsect()\">\n\t<div class=\"slot-icon\"><img [src]=\"'assets/images/kinsect/culldrone-icon.png'\"></div>\n\t<div class=\"selected-kinsect\">{{kinsect?.name}}</div>\n\n\t<div class=\"element-slot\" [hidden]=\"!kinsect\" (click)=\"elementDropdown.toggle($event)\">\n\t\t<div class=\"element selected-element\">\n\t\t\t<div *ngIf=\"kinsect?.element && kinsect?.element != elementTypes.None\" class=\"image-container\">\n\t\t\t\t<img *ngIf=\"kinsect?.element\" [src]=\"getElementIcon(kinsect?.element)\">\n\t\t\t</div>\n\t\t\t<span>{{kinsect?.element}}</span>\n\t\t</div>\n\t\t<mhw-builder-dropdown #elementDropdown>\n\t\t\t<div class=\"element\" *ngFor=\"let e of elements\" (click)=\"selectElement(e.value)\">\n\t\t\t\t<div class=\"image-container\">\n\t\t\t\t\t<img *ngIf=\"e.value != elementTypes.None\" [src]=\"getElementIcon(e.value)\">\n\t\t\t\t</div>\n\t\t\t\t<span>{{e.value}}</span>\n\t\t\t</div>\n\t\t</mhw-builder-dropdown>\n\t</div>\n\n\t<button class=\"clear-button\" (click)=\"clearClicked($event)\">\n\t\t<i class=\"fas fa-times\"></i>\n\t</button>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { MelodiesModel } from '../../models/melodies.model';\n\n@Component({\n\tselector: 'mhw-builder-melodies',\n\ttemplateUrl: './melodies.component.html',\n\tstyleUrls: ['./melodies.component.scss']\n})\nexport class MelodiesComponent implements OnInit {\n\n\t@Input() weaponMelodies: MelodiesModel;\n\n\tconstructor() { }\n\n\tngOnInit() {\n\n\t}\n\n\tgetNoteClass(note: string) {\n\t\tif (isNaN(parseInt(note.substring(note.length - 1, note.length), 10))) {\n\t\t\treturn note;\n\t\t} else {\n\t\t\treturn note.substring(0, note.length - 1);\n\t\t}\n\t}\n\tgetNoteSymbol(note: string) {\n\t\tif (isNaN(parseInt(note.substring(note.length - 1, note.length), 10))) {\n\t\t\treturn '';\n\t\t} else {\n\t\t\tconst val = note.substring(note.length - 1, note.length);\n\t\t\tif (val == '1') {\n\t\t\t\treturn '';\n\t\t\t} if (val == '2') {\n\t\t\t\treturn '';\n\t\t\t} else if (val == '3') {\n\t\t\t\treturn '';\n\t\t\t} else {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t}\n}\n","<div class=\"container\">\n\t<table>\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<td>\n\t\t\t\t\tNotes: &nbsp;\n\t\t\t\t\t<span *ngFor=\"let note of weaponMelodies.notes; let i = index\">\n\t\t\t\t\t\t<span [ngClass]=\"'note-' + getNoteClass(note)\" style=\"font-size:20px;font-weight:bold;\">\n\t\t\t\t\t\t\t<span *ngIf=\"i < 3\">{{getNoteSymbol(note)}}</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</span>\n\t\t\t\t</td>\n\t\t\t\t<td></td>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t<tr *ngFor=\"let melodyEffect of weaponMelodies.melodyEffects; let i = index\">\n\t\t\t\t<td>\n\t\t\t\t\t<span *ngFor=\"let effect of melodyEffect.effects; let effectIndex = index\">\n\t\t\t\t\t\t<span *ngIf=\"effectIndex > 0\"> +</span>\n\t\t\t\t\t\t{{effect.name}} <span *ngIf=\"effect.level\">({{effect.level}})</span>\n\t\t\t\t\t</span>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<span *ngFor=\"let note of melodyEffect.melody\">\n\t\t\t\t\t\t<span [ngClass]=\"'note-' + getNoteClass(weaponMelodies.notes[note-1])\" style=\"font-size:20px;\">\n\t\t\t\t\t\t\t{{getNoteSymbol(weaponMelodies.notes[note-1])}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t</span>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ModificationModel } from 'src/app/models/modification.model';\nimport { SlotService } from 'src/app/services/slot.service';\nimport { TooltipService } from 'src/app/services/tooltip.service';\nimport { ItemType } from 'src/app/types/item.type';\nimport { PointerType } from 'src/app/types/pointer.type';\n\n@Component({\n\tselector: 'mhw-builder-modification-slot',\n\ttemplateUrl: './modification-slot.component.html',\n\tstyleUrls: ['./modification-slot.component.scss']\n})\nexport class ModificationSlotComponent implements OnInit {\n\tslotName = ItemType.Modification;\n\n\tmodification: ModificationModel;\n\n\tpublic selected: boolean;\n\n\tconstructor(\n\t\tprivate slotService: SlotService,\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit(): void { }\n\n\tclicked() {\n\t\tthis.slotService.selectModificationSlot(this);\n\t}\n\n\tclearClicked(event: Event) {\n\t\tevent.stopPropagation();\n\t\tthis.slotService.clearModificationSlot(this);\n\t\tthis.clearTooltipModification();\n\t}\n\n\tsetTooltipModification(event: PointerEvent, modification: ModificationModel) {\n\t\tif (event.pointerType == PointerType.Mouse) {\n\t\t\tthis.tooltipService.setModification(modification);\n\t\t}\n\t}\n\n\tclearTooltipModification() {\n\t\tthis.tooltipService.setModification(null);\n\t}\n}\n","<div class=\"container\" (click)=\"clicked()\" [class.selected]=\"selected\" (pointerenter)=\"setTooltipModification($event, modification)\" (pointerleave)=\"clearTooltipModification()\">\n\t<div class=\"slot-icon\"><img [src]=\"'assets/images/mod-icon.png'\" alt=\"augment\"></div>\n\t<div class=\"selected-modification\">\n\t\t<span class=\"hidden-xs\">{{modification?.name}}</span>\n\t\t<span class=\"visible-xs\">{{modification?.code}}</span>\n\t</div>\n\n\t<button type=\"button\" class=\"clear-button\" (click)=\"clearClicked($event)\">\n\t\t<i class=\"fas fa-times\"></i>\n\t</button>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ModificationModel } from '../../models/modification.model';\nimport { DataService } from '../../services/data.service';\nimport { SlotService } from '../../services/slot.service';\nimport { TooltipService } from '../../services/tooltip.service';\nimport { PointerType } from '../../types/pointer.type';\n\n@Component({\n\tselector: 'mhw-builder-modifications-list',\n\ttemplateUrl: './modifications-list.component.html',\n\tstyleUrls: ['./modifications-list.component.scss']\n})\nexport class ModificationsListComponent implements OnInit {\n\tmodifications: ModificationModel[];\n\n\tconstructor(\n\t\tprivate dataService: DataService,\n\t\tprivate slotService: SlotService,\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit(): void {\n\t\tthis.loadItems();\n\t}\n\n\tloadItems() {\n\t\tthis.modifications = this.dataService.getModifications();\n\t}\n\n\tselectModification(modification: ModificationModel) {\n\t\tconst newModification = Object.assign({}, modification);\n\t\tthis.slotService.selectModification(newModification);\n\t}\n\n\tsetTooltipModification(event: PointerEvent, modification: ModificationModel) {\n\t\tif (event.pointerType == PointerType.Mouse) {\n\t\t\tthis.tooltipService.setModification(modification);\n\t\t}\n\t}\n\n\tclearTooltipModification() {\n\t\tthis.tooltipService.setModification(null);\n\t}\n}\n","<div class=\"container\">\n\t<div class=\"items-container\">\n\t\t<ul>\n\t\t\t<li *ngFor=\"let mod of modifications\" (click)=\"selectModification(mod)\" (pointerenter)=\"setTooltipModification($event, mod)\" (pointerleave)=\"clearTooltipModification()\">\n\t\t\t\t<div class=\"info-container\">\n\t\t\t\t\t<div class=\"name-container\">\n\t\t\t\t\t\t{{mod.name}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t\t<div class=\"description-value\">\n\t\t\t\t\t\t\t{{mod.description}}\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<div *ngFor=\"let level of mod.levels\">\n\t\t\t\t\t\t\t\t{{level.description}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { EquippedSetBonusModel } from '../../models/equipped-set-bonus.model';\nimport { TooltipService } from '../../services/tooltip.service';\n\n@Component({\n\tselector: 'mhw-builder-set-bonus-details',\n\ttemplateUrl: './set-bonus-details.component.html',\n\tstyleUrls: ['./set-bonus-details.component.scss']\n})\nexport class SetBonusDetailsComponent implements OnInit {\n\n\t@Input() equippedSetBonus: EquippedSetBonusModel;\n\n\tconstructor(\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit() { }\n\n\tclearSetBonus() {\n\t\tthis.tooltipService.setEquippedSetBonus(null);\n\t}\n\n\tgetLevelColor(equipped: boolean): string {\n\t\treturn equipped ? '#F0E68C' : 'white';\n\t}\n}\n","<div class=\"container\" (click)=\"clearSetBonus()\">\n\t<h3>{{equippedSetBonus?.name}}<span class=\"close-btn-sm\" style=\"visibility:hidden;\"><i class=\"fa fa-times\"></i></span></h3>\n\t<hr>\n\t<ul>\n\t\t<li *ngFor=\"let level of equippedSetBonus?.details; let i = index\" [style.color]=\"getLevelColor(equippedSetBonus?.equippedCount >= level.requiredCount)\">\n\t\t\t<div class=\"level\">{{level.requiredCount}} Parts</div>\n\t\t\t<div class=\"level-description\">{{level.skill.name}}</div>\n\t\t</li>\n\t</ul>\n\t<hr />\n\t<table class=\"skill-part-table\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<img src=\"assets/images/armor/weapon-icon.png\" [hidden]=\"!(equippedSetBonus?.weaponCount == 0)\" class=\"armor-icon info-opaque\" alt=\"Weapon\">\n\t\t\t\t<img src=\"assets/images/armor/weapon-icon-gold.png\" [hidden]=\"!(equippedSetBonus?.weaponCount > 0)\" class=\"armor-icon\" alt=\"Weapon\">\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<img src=\"assets/images/armor/head-icon.png\" [hidden]=\"!(equippedSetBonus?.headCount == 0)\" class=\"armor-icon info-opaque\" alt=\"Head\">\n\t\t\t\t<img src=\"assets/images/armor/head-icon-gold.png\" [hidden]=\"!(equippedSetBonus?.headCount > 0)\" class=\"armor-icon\" alt=\"Head\">\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<img src=\"assets/images/armor/chest-icon.png\" [hidden]=\"!(equippedSetBonus?.chestCount == 0)\" class=\"armor-icon info-opaque\" alt=\"Chest\">\n\t\t\t\t<img src=\"assets/images/armor/chest-icon-gold.png\" [hidden]=\"!(equippedSetBonus?.chestCount > 0)\" class=\"armor-icon\" alt=\"Chest\">\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<img src=\"assets/images/armor/arms-icon.png\" [hidden]=\"!(equippedSetBonus?.armsCount == 0)\" class=\"armor-icon info-opaque\" alt=\"Arms\">\n\t\t\t\t<img src=\"assets/images/armor/arms-icon-gold.png\" [hidden]=\"!(equippedSetBonus?.armsCount > 0)\" class=\"armor-icon\" alt=\"Arms\">\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<img src=\"assets/images/armor/waist-icon.png\" [hidden]=\"!(equippedSetBonus?.waistCount == 0)\" class=\"armor-icon info-opaque\" alt=\"Waist\">\n\t\t\t\t<img src=\"assets/images/armor/waist-icon-gold.png\" [hidden]=\"!(equippedSetBonus?.waistCount > 0)\" class=\"armor-icon\" alt=\"Waist\">\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<img src=\"assets/images/armor/legs-icon.png\" [hidden]=\"!(equippedSetBonus?.legsCount == 0)\" class=\"armor-icon info-opaque\" alt=\"Legs\">\n\t\t\t\t<img src=\"assets/images/armor/legs-icon-gold.png\" [hidden]=\"!(equippedSetBonus?.legsCount > 0)\" class=\"armor-icon\" alt=\"Legs\">\n\t\t\t</td>\n\t\t</tr>\n\t</table>\n</div>\n","import { AfterViewInit, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport * as _ from 'lodash';\nimport { SavedSetModel } from 'src/app/models/saved-set.model';\nimport { SetService } from 'src/app/services/set.service';\nimport { WeaponType } from 'src/app/types/weapon.type';\n\n@Component({\n\tselector: 'mhw-builder-set-list',\n\ttemplateUrl: './set-list.component.html',\n\tstyleUrls: ['./set-list.component.scss']\n})\nexport class SetListComponent implements OnInit, AfterViewInit {\n\tsets: SavedSetModel[] = [];\n\tvirtualItems: SavedSetModel[];\n\tfilteredItems: SavedSetModel[];\n\tselectedSetIndex = -1;\n\tloading = 0;\n\n\t@ViewChild('saveBox', { static: true }) saveBox: ElementRef;\n\n\tweaponTypeFilter?: WeaponType;\n\thideFilterContainer = true;\n\n\tconstructor(\n\t\tprivate setService: SetService\n\t) {\n\t\tthis.setService.setsUpdated$.subscribe(sets => {\n\t\t\tthis.sets = sets;\n\t\t\tif (this.weaponTypeFilter) {\n\t\t\t\tthis.filteredItems = _.reject(this.sets, item => item.weaponType != this.weaponTypeFilter);\n\t\t\t} else {\n\t\t\t\tthis.filteredItems = this.sets;\n\t\t\t}\n\t\t});\n\t}\n\n\tngOnInit() {\n\t\tthis.sets = this.setService.getSets();\n\t\tthis.filteredItems = this.sets;\n\t}\n\n\tngAfterViewInit() {\n\t\tthis.setService.importSet();\n\t}\n\n\tsave(setName: string) {\n\t\tif (setName) {\n\t\t\tthis.loading = 1;\n\t\t\tthis.selectedSetIndex = this.setService.save(setName);\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.loading = 0;\n\t\t\t}, 500);\n\t\t}\n\t}\n\n\tsaveSets() {\n\t\tthis.loading = 2;\n\t\tthis.setService.saveSets();\n\t\tsetTimeout(() => {\n\t\t\tthis.loading = 0;\n\t\t}, 500);\n\t}\n\n\tsortSets() {\n\t\tthis.loading = 3;\n\t\tthis.setService.sortSets();\n\t\tsetTimeout(() => {\n\t\t\tthis.loading = 0;\n\t\t}, 500);\n\t}\n\n\tremove(index: number) {\n\t\tthis.setService.remove(this.sets.indexOf(this.filteredItems[index]));\n\t}\n\n\tselect(set: SavedSetModel, index: number = 0) {\n\t\tthis.setService.select(set);\n\t\tthis.selectedSetIndex = index;\n\t\tthis.saveBox.nativeElement.value = set.setName;\n\t}\n\n\tweaponFilterClicked(weaponType?: WeaponType) {\n\t\tthis.selectedSetIndex = -1;\n\t\tif (!this.weaponTypeFilter || this.weaponTypeFilter != weaponType) {\n\t\t\tthis.weaponTypeFilter = weaponType;\n\t\t\tthis.filteredItems = _.reject(this.sets, item => item.weaponType != this.weaponTypeFilter);\n\t\t} else if (this.weaponTypeFilter == weaponType) {\n\t\t\tthis.weaponTypeFilter = null;\n\t\t\tthis.filteredItems = this.sets;\n\t\t}\n\t}\n\n\tdownloadHtmlFile() {\n\t\tconst dateNow = new Date().toLocaleDateString('en-GB', {\n\t\t\tyear: 'numeric',\n\t\t\tmonth: '2-digit',\n\t\t\tday: '2-digit',\n\t\t});\n\t\tconst fileName = `mhworld-builder-save(${dateNow}).html`;\n\t\tconst fileString = `\n<!DOCTYPE html>\n\n<html lang=\"en\" xmlns=\"http://www.w3.org/1999/xhtml\" ng-app=\"mhwApp\">\n<head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\">\n    <title>MHWorld-Builder SetList</title>\n    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" crossorigin=\"anonymous\">\n    <link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.11.2/css/all.css\" crossorigin=\"anonymous\">\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.7/angular.min.js\" crossorigin=\"anonymous\"></script>\n    <style>\n        a {\n            color: cornflowerblue;\n        }\n        .Fire {\n            color: #ff6666;\n        }\n        .Water {\n            color: #66ccff;\n        }\n        .Thunder {\n            color: #ff9900;\n        }\n        .Ice {\n            color: #0099ff;\n        }\n        .Dragon {\n            color: #3cb05d;\n        }\n        .Poison {\n            color: #cc44ff;\n        }\n        .Sleep {\n            color: #9999ff;\n        }\n        .Paralysis {\n            color: #e6cb00;\n        }\n        .Blast {\n            color: #E6A400;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container-fluid\" ng-controller=\"SetListController\">\n        <div class=\"row\">\n            <div class=\"col-12\">\n                <h2>MHWorld-Builder</h2>\n                <div class=\"input-group mb-2\">\n                    <select class=\"custom-select\" id=\"weaponFilter\" ng-model=\"weaponFilter\">\n                        <option value=\"\" selected></option>\n                        <option value=\"GreatSword\">GreatSword</option>\n                        <option value=\"SwordAndShield\">SwordAndShield</option>\n                        <option value=\"DualBlades\">DualBlades</option>\n                        <option value=\"LongSword\">LongSword</option>\n                        <option value=\"Hammer\">Hammer</option>\n                        <option value=\"HuntingHorn\">HuntingHorn</option>\n                        <option value=\"Lance\">Lance</option>\n                        <option value=\"Gunlance\">Gunlance</option>\n                        <option value=\"SwitchAxe\">SwitchAxe</option>\n                        <option value=\"ChargeBlade\">ChargeBlade</option>\n                        <option value=\"InsectGlaive\">InsectGlaive</option>\n                        <option value=\"Bow\">Bow</option>\n                        <option value=\"HeavyBowgun\">HeavyBowgun</option>\n                        <option value=\"LightBowgun\">LightBowgun</option>\n                    </select>\n                    <div class=\"input-group-append\">\n                        <label class=\"input-group-text\" for=\"inputGroupSelect02\">Weapon</label>\n                    </div>\n                </div>\n                <div class=\"card-columns\">\n                    <div class=\"card\" ng-repeat=\"(key,item) in sets | filter:(weaponFilter? {weaponType:weaponFilter}: ''):(weaponFilter? true: false) track by $index\" style=\"margin-bottom:.5rem;\">\n                        <div class=\"card-body\" style=\"padding:6px;\">\n                            <h6 class=\"card-title\" style=\"margin:0px;\">\n                                <a href=\"https://neftalimich.github.io/mhw-builder-page?{{item.hashString}}\" class=\"text-decoration-none\" target=\"_blank\">\n                                    {{item.setName}}\n                                </a>\n                                <span style=\"font-size:14px;\">\n                                    <a class=\"float-right ml-1 text-secondary\" href=\"https://neftalimich.github.io/mhw-builder-page?{{item.hashString}}i{{item.setName | uppercase}}\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\" title=\"Import\">\n                                        <i class=\"fas fa-cloud-upload-alt fa-sm\"></i>\n                                    </a>\n                                    <span class=\"float-right\">\n                                        <span>{{item.totalAttack}}</span>\n                                        <span ng-show=\"item.element || item.ailment\">\n\t\t\t\t\t\t\t\t\t\t\t(<span class=\"{{item.element}}\" title=\"{{item.element}}\">{{item.element ? item.elementAttack : ''}}</span><!--\n\t\t\t\t\t\t\t\t\t\t\t-->{{item.ailment && item.element ? '/' : ''}}<!--\n\t\t\t\t\t\t\t\t\t\t\t--><span class=\"{{item.ailment}}\" title=\"{{item.ailment}}\">{{item.ailment ? item.ailmentAttack : ''}}</span>)\n                                        </span>\n\t\t\t\t\t\t\t\t\t\t<span class=\"text-muted\" style=\"font-size:12px;\">\n\t\t\t\t\t\t\t\t\t\t\t{{item.affinity}}%\n\t\t\t\t\t\t\t\t\t\t</span>\n                                    </span>\n                                </span>\n                            </h6>\n                            <p class=\"card-text\">\n                                <small class=\"text-muted text-capitalize\">\n                                    {{item.weaponType}}\n                                </small>\n\t\t\t\t\t\t\t\t<span style=\"font-size:10px;\">\n\t\t\t\t\t\t\t\t\t<span class=\"float-right text-muted mt-2\" ng-show=\"item.resistances.length > 0\">\n\t\t\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t\t<span class=\"Fire\">{{item.resistances[0]}}</span>,\n\t\t\t\t\t\t\t\t\t\t<span class=\"Water\">{{item.resistances[1]}}</span>,\n\t\t\t\t\t\t\t\t\t\t<span class=\"Thunder\">{{item.resistances[2]}}</span>,\n\t\t\t\t\t\t\t\t\t\t<span class=\"Ice\">{{item.resistances[3]}}</span>,\n\t\t\t\t\t\t\t\t\t\t<span class=\"Dragon\">{{item.resistances[4]}}</span>\n\t\t\t\t\t\t\t\t\t\t]  <span>{{item.defense[2]}} DEF</span>\n\t\t\t\t\t\t\t\t\t</span>\n                                </span>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                <span class=\"text-muted float-right\" style=\"font-size:11px\">\n\t\t\t\t\tBy Neftal Michelet (neftalimich)\n\t\t\t\t\t<a href=\"https://neftalimich.github.io/mhw-builder-page/\">Site</a>.\n\t\t\t\t</span>\n            </div>\n        </div>\n    </div>\n    <script>\n        var json = ${JSON.stringify(this.sets)};\n        var mhwApp = angular.module('mhwApp', []);\n        mhwApp.controller('SetListController', [\n            '$scope',\n            function ($scope) {\n                $scope.sets = json;\n            }\n        ]);\n    </script>\n</body>\n</html>\n\t\t`;\n\t\tconst blob = new Blob([fileString], { type: 'text/html' });\n\t\tif (window.navigator && window.navigator.msSaveOrOpenBlob) {\n\t\t\twindow.navigator.msSaveOrOpenBlob(blob, fileName);\n\t\t} else {\n\t\t\tconst a = document.createElement('a');\n\t\t\ta.href = URL.createObjectURL(blob);\n\t\t\ta.download = fileName;\n\t\t\tdocument.body.appendChild(a);\n\t\t\ta.click();\n\t\t\tdocument.body.removeChild(a);\n\t\t}\n\t}\n\n\tdownloadJsonFile() {\n\t\tconst dateNow = new Date().toLocaleDateString('en-GB', {\n\t\t\tyear: 'numeric',\n\t\t\tmonth: '2-digit',\n\t\t\tday: '2-digit',\n\t\t});\n\t\tconst fileName = `mhworld-builder-data(${dateNow}).json`;\n\t\tconst fileString = JSON.stringify(this.sets);\n\t\tconst blob = new Blob([fileString], { type: 'application/json' });\n\t\tif (window.navigator && window.navigator.msSaveOrOpenBlob) {\n\t\t\twindow.navigator.msSaveOrOpenBlob(blob, fileName);\n\t\t} else {\n\t\t\tconst a = document.createElement('a');\n\t\t\ta.href = URL.createObjectURL(blob);\n\t\t\ta.download = fileName;\n\t\t\tdocument.body.appendChild(a);\n\t\t\ta.click();\n\t\t\tdocument.body.removeChild(a);\n\t\t}\n\t}\n}\n","<div class=\"container\">\n\t<div class=\"save-container\">\n\t\t<input #saveBox placeholder=\"Set Name\" (keydown.enter)=\"save(saveBox.value)\" />\n\t\t<button type=\"button\" class=\"filter-button\" (click)=\"hideFilterContainer=!hideFilterContainer\">\n\t\t\t<i class=\"fas fa-filter\"></i>\n\t\t</button>\n\t\t<button type=\"button\" class=\"save-button save-color\" (click)=\"save(saveBox.value)\">\n\t\t\t<i class=\"fas fa-save fa-lg\" [hidden]=\"loading==1\"></i>\n\t\t\t<i class=\"fas fa-spinner fa-spin\" [hidden]=\"loading!=1\"></i>\n\t\t</button>\n\t</div>\n\n\t<div class=\"filter-container\" *ngIf=\"!hideFilterContainer\">\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'GreatSword'\" (click)=\"weaponFilterClicked('GreatSword')\">\n\t\t\t<img src=\"assets/images/weapons/greatsword-icon.png\" alt=\"greatsword\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'SwordAndShield'\" (click)=\"weaponFilterClicked('SwordAndShield')\">\n\t\t\t<img src=\"assets/images/weapons/swordandshield-icon.png\" alt=\"Sword and Shield\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'DualBlades'\" (click)=\"weaponFilterClicked('DualBlades')\">\n\t\t\t<img src=\"assets/images/weapons/dualblades-icon.png\" alt=\"Dual Blades\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'LongSword'\" (click)=\"weaponFilterClicked('LongSword')\">\n\t\t\t<img src=\"assets/images/weapons/longsword-icon.png\" alt=\"Long Sword\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'Hammer'\" (click)=\"weaponFilterClicked('Hammer')\">\n\t\t\t<img src=\"assets/images/weapons/hammer-icon.png\" alt=\"Hammer\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'HuntingHorn'\" (click)=\"weaponFilterClicked('HuntingHorn')\">\n\t\t\t<img src=\"assets/images/weapons/huntinghorn-icon.png\" alt=\"Hunting Horn\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'Lance'\" (click)=\"weaponFilterClicked('Lance')\">\n\t\t\t<img src=\"assets/images/weapons/lance-icon.png\" alt=\"Lance\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'Gunlance'\" (click)=\"weaponFilterClicked('Gunlance')\">\n\t\t\t<img src=\"assets/images/weapons/gunlance-icon.png\" alt=\"Gunlance\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'SwitchAxe'\" (click)=\"weaponFilterClicked('SwitchAxe')\">\n\t\t\t<img src=\"assets/images/weapons/switchaxe-icon.png\" alt=\"Switch Axe\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'ChargeBlade'\" (click)=\"weaponFilterClicked('ChargeBlade')\">\n\t\t\t<img src=\"assets/images/weapons/chargeblade-icon.png\" alt=\"Charge Blade\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'InsectGlaive'\" (click)=\"weaponFilterClicked('InsectGlaive')\">\n\t\t\t<img src=\"assets/images/weapons/insectglaive-icon.png\" alt=\"Insect Glaive\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'Bow'\" (click)=\"weaponFilterClicked('Bow')\">\n\t\t\t<img src=\"assets/images/weapons/bow-icon.png\" alt=\"Bow\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'LightBowgun'\" (click)=\"weaponFilterClicked('LightBowgun')\">\n\t\t\t<img src=\"assets/images/weapons/lightbowgun-icon.png\" alt=\"LBG\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'HeavyBowgun'\" (click)=\"weaponFilterClicked('HeavyBowgun')\">\n\t\t\t<img src=\"assets/images/weapons/heavybowgun-icon.png\" alt=\"HBG\">\n\t\t</button>\n\t</div>\n\n\t<div class=\"scroll-container\" *ngIf=\"sets\">\n\t\t<div *ngFor=\"let item of filteredItems; let i = index\" class=\"scroll-item-container\">\n\t\t\t<div class=\"icon-container text-left\">\n\t\t\t\t<img [src]=\"'assets/images/weapons/'+item.weaponType.toLowerCase()+'-icon.png'\" *ngIf=\"item.weaponType\" alt=\"weapon\" />\n\t\t\t</div>\n\t\t\t<div class=\"name-container\" (click)=\"select(item, i)\" [ngClass]=\"{'sharp-2':i==selectedSetIndex}\">\n\t\t\t\t{{item.setName}}\n\t\t\t</div>\n\t\t\t<div class=\"stats-container text-right\" (click)=\"select(item, i)\">\n\t\t\t\t<span>{{item.totalAttack}}</span>\n\t\t\t\t<span *ngIf=\"item.element || item.ailment\"> (</span>\n\t\t\t\t<span [ngClass]=\"item.element\" *ngIf=\"item.element\">{{item.elementAttack}}</span>\n\t\t\t\t<span *ngIf=\"item.element && item.ailment\">/</span>\n\t\t\t\t<span [ngClass]=\"item.ailment\" *ngIf=\"item.ailment\">{{item.ailmentAttack}}</span>\n\t\t\t\t<span *ngIf=\"item.element || item.ailment\">)</span>\n\t\t\t</div>\n\t\t\t<div class=\"buttons-container text-right\">\n\t\t\t\t<button type=\"button\" (click)=\"remove(i)\">\n\t\t\t\t\t<i class=\"fas fa-trash\" [ngClass]=\"{'trash-color':item.confirm}\"></i>\n\t\t\t\t</button>\n\t\t\t\t<button [hidden]=\"!item.confirm\">\n\t\t\t\t\t<i class=\"fas fa-times\" (click)=\"item.confirm=false\"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"download-container text-center\">\n\t\t<button type=\"button\" (click)=\"sortSets()\" title=\"Sort sets\">\n\t\t\tSort <i class=\"fas fa-sort-amount-up\" [hidden]=\"loading==3\"></i><i class=\"fas fa-spinner fa-spin\" [hidden]=\"loading!=3\"></i>\n\t\t</button>\n\t\t<button type=\"button\" (click)=\"saveSets()\" title=\"Save order of sets\">\n\t\t\tOrder <i class=\"fas fa-save\" [hidden]=\"loading==2\"></i><i class=\"fas fa-spinner fa-spin\" [hidden]=\"loading!=2\"></i>\n\t\t</button>\n\t\t<button type=\"button\" (click)=\"downloadHtmlFile()\" title=\"Download Html\">\n\t\t\tHTML <i class=\"fas fa-file-download\"></i>\n\t\t</button>\n\t\t<button type=\"button\" (click)=\"downloadJsonFile()\" title=\"Download Json\">\n\t\t\tJSON <i class=\"fas fa-file-code\"></i>\n\t\t</button>\n\t</div>\n</div>\n","import { Component, ElementRef, EventEmitter, HostListener, OnInit, Output, ViewChild } from '@angular/core';\nimport * as _ from 'lodash';\nimport { VirtualScrollerComponent } from 'ngx-virtual-scroller';\nimport { EquippedSetBonusDetailModel } from '../../models/equipped-set-bonus.model';\nimport { SetBonusModel } from '../../models/set-bonus.model';\nimport { SkillModel } from '../../models/skill.model';\nimport { DataService } from '../../services/data.service';\nimport { SlotService } from '../../services/slot.service';\nimport { TooltipService } from '../../services/tooltip.service';\nimport { ModeType } from '../../types/mode.type';\n\n@Component({\n\tselector: 'mhw-builder-setbonus-list',\n\ttemplateUrl: './setbonus-list.component.html',\n\tstyleUrls: ['./setbonus-list.component.scss']\n})\nexport class SetbonusListComponent implements OnInit {\n\t@Output() setbonusSelected = new EventEmitter<SetBonusModel>();\n\n\t@ViewChild('searchBox', { static: true }) searchBox: ElementRef;\n\t@ViewChild('setbonusList') setbonusList: VirtualScrollerComponent;\n\n\tsetbonuses: SetBonusModel[];\n\tfilteredSetbonuses: SetBonusModel[];\n\tvirtualSetbonuses: SetBonusModel[];\n\n\t@HostListener('window:resize')\n\tonResize() {\n\t\tthis.refreshList();\n\t}\n\n\tconstructor(\n\t\tpublic dataService: DataService,\n\t\tprivate slotService: SlotService,\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit(): void {\n\t\tthis.loadItems();\n\t}\n\n\trefreshList() {\n\t\tif (this.setbonusList) {\n\t\t\tthis.setbonusList.refresh();\n\t\t}\n\t}\n\n\tonSetbonusListUpdate(setbonuses: SetBonusModel[]) {\n\t\tthis.virtualSetbonuses = setbonuses;\n\t}\n\n\tloadItems() {\n\t\tthis.setbonuses = this.dataService.getSetBonuses();\n\t\tthis.setbonuses = this.setbonuses.sort((a, b) => {\n\t\t\tif (a.name > b.name) {\n\t\t\t\treturn 1;\n\t\t\t} else if (a.name < b.name) {\n\t\t\t\treturn -1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tthis.resetSearchResults();\n\t\tsetTimeout(() => this.searchBox.nativeElement.focus(), 250);\n\t}\n\n\tsearch(query: string) {\n\t\tthis.filteredSetbonuses = this.setbonuses;\n\n\t\tif (query) {\n\t\t\tquery = query.toLowerCase().trim();\n\t\t\tconst queryParts = query.split(' ');\n\n\t\t\tif (this.setbonuses) {\n\t\t\t\tfor (const setbonus of this.setbonuses) {\n\t\t\t\t\tconst itemName = setbonus.name.toLowerCase();\n\n\t\t\t\t\tconst nameMatch = itemName.includes(query);\n\n\t\t\t\t\tif (!nameMatch) {\n\t\t\t\t\t\tthis.filteredSetbonuses = _.reject(this.filteredSetbonuses, d => d.name === setbonus.name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.resetSearchResults();\n\t\t}\n\t}\n\n\tresetSearchResults() {\n\t\tthis.searchBox.nativeElement.value = null;\n\t\tthis.filteredSetbonuses = this.setbonuses;\n\t}\n\n\tselectSetbonus(setbonus: SetBonusModel) {\n\t\tconst newSetbonus = Object.assign({}, setbonus);\n\t\tthis.slotService.selectSetbonus(newSetbonus);\n\t}\n\n\tgetSkills(setbonus: SetBonusModel): EquippedSetBonusDetailModel[] {\n\t\tconst result: EquippedSetBonusDetailModel[] = [];\n\t\tfor (const level of setbonus.setLevels) {\n\t\t\tconst skill: SkillModel = JSON.parse(JSON.stringify(this.dataService.getSkill(level.id)));\n\t\t\tresult.push({\n\t\t\t\tskill: skill,\n\t\t\t\tmode: ModeType.Active,\n\t\t\t\trequiredCount: level.pieces\n\t\t\t});\n\t\t}\n\t\treturn result;\n\t}\n}\n","<div class=\"container\">\n\t<div class=\"search-container\">\n\t\t<input #searchBox (keyup)=\"search(searchBox.value)\" placeholder=\"Search names\" />\n\t\t<button type=\"button\" class=\"clear-button\" (click)=\"resetSearchResults()\">\n\t\t\t<i class=\"fas fa-times\"></i>\n\t\t</button>\n\t</div>\n\n\t<virtual-scroller id=\"setbonuses-list\" #setbonusList class=\"scroll-container\" *ngIf=\"setbonuses\" [items]=\"filteredSetbonuses\" (vsUpdate)=\"onSetbonusListUpdate($event)\">\n\t\t<div *ngFor=\"let setbonus of virtualSetbonuses\" class=\"scroll-item-container\" (click)=\"selectSetbonus(setbonus)\">\n\t\t\t<div class=\"name-container\">\n\t\t\t\t<div class=\"name\">\n\t\t\t\t\t{{setbonus.name}}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"level\" *ngIf=\"setbonus.level\">\n\t\t\t\t\t<span *ngFor=\"let key of setbonus.level | numbersArr\">\n\t\t\t\t\t\t<i class=\"fas fa-star fa-sm star-icon\"></i>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"skills-container\" *ngIf=\"setbonus?.setLevels.length == 1\">\n\t\t\t\t<div class=\"skill-container\" *ngFor=\"let bonus of getSkills(setbonus)\">\n\t\t\t\t\t<div class=\"count\">\n\t\t\t\t\t\t{{bonus.requiredCount}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"name\">\n\t\t\t\t\t\t{{bonus.skill.name}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"skills-container-2\" *ngIf=\"setbonus?.setLevels.length > 1\">\n\t\t\t\t<div class=\"skill-container\" *ngFor=\"let bonus of getSkills(setbonus)\">\n\t\t\t\t\t<div class=\"count\">\n\t\t\t\t\t\t{{bonus.requiredCount}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"name\">\n\t\t\t\t\t\t{{bonus.skill.name}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</virtual-scroller>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { SharpnessBarModel } from 'src/app/models/sharpness-bar.model';\nimport { SharpnessModel } from 'src/app/models/sharpness-model';\nimport { TooltipService } from 'src/app/services/tooltip.service';\n\n@Component({\n\tselector: 'mhw-builder-sharpness-bar',\n\ttemplateUrl: './sharpness-bar.component.html',\n\tstyleUrls: ['./sharpness-bar.component.scss']\n})\nexport class SharpnessBarComponent implements OnInit {\n\tprivate _handicraftLevel = 0;\n\tprivate _sharpnessLevels: number[] = [];\n\n\t@Input()\n\tset handicraftLevel(handicraftLevel: number) {\n\t\tthis._handicraftLevel = handicraftLevel;\n\t}\n\n\t@Input()\n\tset sharpnessLevels(sharpnessLevels: number[]) {\n\t\tthis._sharpnessLevels = sharpnessLevels;\n\t\tthis.generateSharpnessBar();\n\t}\n\n\t@Input() dataNeeded: boolean;\n\n\tsharpnessBar: SharpnessBarModel = new SharpnessBarModel();\n\n\tconstructor(private tooltipService: TooltipService) {\n\t}\n\n\tngOnInit() {\n\t}\n\n\tgenerateSharpnessBar() {\n\t\tlet total = this._sharpnessLevels.reduce((a, b) => a + b, 0);\n\t\tconst maxHandicraftLevels = 40 + 5 - total;\n\t\tthis.sharpnessBar.tooltipTemplate = '';\n\t\tthis.sharpnessBar.sharps = [];\n\t\tthis.sharpnessBar.levels = JSON.parse(JSON.stringify(this._sharpnessLevels));\n\t\tthis.sharpnessBar.maxColorSharp = null;\n\n\t\tlet levelsToSubstract = Math.min(5 - this._handicraftLevel, maxHandicraftLevels);\n\t\tlet levelsToAdd = Math.min(this._handicraftLevel, maxHandicraftLevels);\n\t\tconst sharpnessEmpty = levelsToSubstract;\n\t\tlet last = true;\n\n\t\tfor (let i = this._sharpnessLevels.length - 1; i >= 0; i--) {\n\t\t\tif (this.sharpnessBar.maxColorSharp == null && this._sharpnessLevels[i] > 0) {\n\t\t\t\tthis.sharpnessBar.maxColorSharp = i;\n\t\t\t\tthis.sharpnessBar.maxLevelSharp = this._sharpnessLevels[i] - (total - 40);\n\t\t\t}\n\t\t\tif (levelsToSubstract > 0) {\n\t\t\t\tconst toSubstract = Math.min(this._sharpnessLevels[i], levelsToSubstract);\n\t\t\t\tthis._sharpnessLevels[i] -= toSubstract;\n\t\t\t\tlevelsToSubstract -= toSubstract;\n\t\t\t}\n\t\t\tconst aux = Math.min(this._sharpnessLevels[i], levelsToAdd);\n\n\t\t\tif (levelsToAdd > 0) {\n\t\t\t\tconst sharpnessAux: SharpnessModel = {\n\t\t\t\t\tcolorIndex: i,\n\t\t\t\t\tlevel: aux,\n\t\t\t\t\tactive: true,\n\t\t\t\t\tlast: last\n\t\t\t\t};\n\t\t\t\tlast = false;\n\t\t\t\tif (levelsToAdd - aux == 0) {\n\t\t\t\t\tsharpnessAux.first = true;\n\t\t\t\t}\n\t\t\t\tthis.sharpnessBar.sharps.push(sharpnessAux);\n\t\t\t}\n\t\t\tif (levelsToAdd < this._sharpnessLevels[i]) {\n\t\t\t\tconst sharpnessAux: SharpnessModel = {\n\t\t\t\t\tcolorIndex: i,\n\t\t\t\t\tlevel: this._sharpnessLevels[i] - levelsToAdd,\n\t\t\t\t\tactive: false\n\t\t\t\t};\n\t\t\t\t// When handicraft is not needed\n\t\t\t\tif (total > 40 && this._sharpnessLevels[i] > 0) {\n\t\t\t\t\tconst toSubstract2 = Math.min(this._sharpnessLevels[i], total - 40);\n\t\t\t\t\tthis.sharpnessBar.levels[i] -= toSubstract2;\n\t\t\t\t\tthis._sharpnessLevels[i] -= toSubstract2;\n\t\t\t\t\ttotal -= toSubstract2;\n\t\t\t\t\tsharpnessAux.level -= toSubstract2;\n\t\t\t\t}\n\t\t\t\tthis.sharpnessBar.sharps.push(sharpnessAux);\n\t\t\t}\n\t\t\tif (levelsToAdd == 0 && this._sharpnessLevels[i] == 0) {\n\t\t\t\tconst sharpnessAux: SharpnessModel = {\n\t\t\t\t\tcolorIndex: i,\n\t\t\t\t\tlevel: 0,\n\t\t\t\t\tactive: false\n\t\t\t\t};\n\t\t\t\tthis.sharpnessBar.sharps.push(sharpnessAux);\n\t\t\t}\n\t\t\tlevelsToAdd -= aux;\n\n\t\t\tthis.sharpnessBar.tooltipTemplate =\n\t\t\t\t`| <span class=\"sharp-${i}\">${this._sharpnessLevels[i] * 10}</span> ${this.sharpnessBar.tooltipTemplate}`;\n\t\t}\n\n\t\tthis.sharpnessBar.sharps = this.sharpnessBar.sharps.reverse();\n\t\tthis.sharpnessBar.empty = sharpnessEmpty;\n\t\tthis.sharpnessBar.widthModifier = 5;\n\t\tthis.sharpnessBar.levelsMissing = 7 - this._sharpnessLevels.length;\n\t\tthis.sharpnessBar.tooltipTemplate +=\n\t\t\t` | <br /> = <br /><span class=\"sharp-8\"> ${((total - sharpnessEmpty) * 10)}`\n\t\t\t+ ` [<span class=\"sharp-${this.sharpnessBar.maxColorSharp}\">${this.sharpnessBar.maxLevelSharp * 10}<i class=\"fas fa-circle fa-sm\"></i></span>]</span>`;\n\t\tthis.sharpnessBar.sharpnessDataNeeded = this.dataNeeded;\n\t\tthis.sharpnessBar.color = this.dataNeeded ? 'red' : 'white';\n\t}\n\n\tgetLevel(colorIndex: number) {\n\t\tconst sharpsFiltered = this.sharpnessBar.sharps.filter(item => {\n\t\t\treturn item['colorIndex'].toString().indexOf(colorIndex.toString()) != -1;\n\t\t});\n\t\tlet level = 0;\n\t\tfor (const sharp of sharpsFiltered) {\n\t\t\tlevel += sharp.level;\n\t\t}\n\t\treturn level;\n\t}\n}\n","<div style=\"display:inline-block;position:relative;margin-right:-1px;z-index:10;\">\n\t<i class=\"fas fa-filter fa-rotate-90 fa-sm sharp-8\" style=\"padding-top:2px;\"></i>\n</div>\n\n<div class=\"text-right sharp-box\" style=\"display:inline-block;position:relative;z-index:9;\">\n\t<span *ngFor=\"let colorIndex of (7 | numbersArr)\">\n\t\t<span [ngClass]=\"['sharp-bg-' + colorIndex]\"\n\t\t\t  [ngStyle]=\"{'width.px': (getLevel(colorIndex) * sharpnessBar.widthModifier)}\">\n\t\t</span>\n\t\t<span [ngClass]=\"['sharp-bg-' + colorIndex]\" style=\"height:3px !important;\"\n\t\t\t  [ngStyle]=\"{'width.px': ((sharpnessBar.levels[colorIndex]- getLevel(colorIndex)) * sharpnessBar.widthModifier)}\">\n\t\t</span>\n\t</span>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { EquippedSkillModel } from '../../models/equipped-skill.model';\nimport { SkillModel } from '../../models/skill.model';\nimport { TooltipService } from '../../services/tooltip.service';\n\n@Component({\n\tselector: 'mhw-builder-skill-details',\n\ttemplateUrl: './skill-details.component.html',\n\tstyleUrls: ['./skill-details.component.scss']\n})\nexport class SkillDetailsComponent implements OnInit {\n\n\t@Input() equippedSkill: EquippedSkillModel;\n\t@Input() skill: SkillModel;\n\n\tconstructor(\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit() {\n\t}\n\n\tclearSkill() {\n\t\tthis.tooltipService.setEquippedSkill(null);\n\t}\n\n\tgetLevelColor(level: number): string {\n\t\tif (this.equippedSkill.requiredCount) {\n\t\t\treturn '#87cefa';\n\t\t}\n\t\tlet color = 'white';\n\t\tif (level == Math.min(this.equippedSkill.equippedArmorCount + this.equippedSkill.equippedToolActiveCount, this.equippedSkill.totalLevelCount)) {\n\t\t\tcolor = 'rgb(134, 255, 134)';\n\t\t}\n\t\tif (level == Math.min(this.equippedSkill.equippedArmorCount, this.equippedSkill.totalLevelCount)) {\n\t\t\tcolor = '#87cefa';\n\t\t}\n\t\treturn color;\n\t}\n}\n","<div class=\"container\" (click)=\"clearSkill()\">\n\t<h3>{{skill?.name}}<span class=\"close-btn-sm\" style=\"visibility:hidden;\"><i class=\"fa fa-times\"></i></span></h3>\n\t<hr>\n\t<div [hidden]=\"skill?.levels.length == 1\">{{skill?.description}}</div>\n\t<ul>\n\t\t<li *ngFor=\"let level of skill?.levels; let i = index\" [style.color]=\"getLevelColor(i + 1)\">\n\t\t\t<div class=\"level\">\n\t\t\t\t<span [style.color]=\"i + 1 > skill?.maxLevel?'#b38cd9':''\">Lv {{i + 1}}</span>\n\t\t\t</div>\n\t\t\t<div class=\"level-description\">\n\t\t\t\t{{level.description}}\n\t\t\t\t<i *ngIf=\"i + 1 > skill?.maxLevel\" class=\"fas fa-angle-double-up\" style=\"color: #b38cd9;\"></i>\n\t\t\t</div>\n\t\t</li>\n\t</ul>\n\t<hr />\n\t<table class=\"skill-part-table\">\n\t\t<tr>\n\t\t\t<td [hidden]=\"equippedSkill.isSetBonus\">\n\t\t\t\t<img src=\"assets/images/armor/weapon-icon.png\" [hidden]=\"!(equippedSkill.weaponCount == 0)\" class=\"armor-icon info-opaque\" alt=\"Weapon\">\n\t\t\t\t<img src=\"assets/images/armor/weapon-icon-gold.png\" [hidden]=\"!(equippedSkill.weaponCount > 0)\" class=\"armor-icon\" alt=\"Weapon\">\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<img src=\"assets/images/armor/head-icon.png\" [hidden]=\"!(equippedSkill.headCount == 0)\" class=\"armor-icon info-opaque\" alt=\"Head\">\n\t\t\t\t<img src=\"assets/images/armor/head-icon-gold.png\" [hidden]=\"!(equippedSkill.headCount > 0)\" class=\"armor-icon\" alt=\"Head\">\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<img src=\"assets/images/armor/chest-icon.png\" [hidden]=\"!(equippedSkill.chestCount == 0)\" class=\"armor-icon info-opaque\" alt=\"Chest\">\n\t\t\t\t<img src=\"assets/images/armor/chest-icon-gold.png\" [hidden]=\"!(equippedSkill.chestCount > 0)\" class=\"armor-icon\" alt=\"Chest\">\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<img src=\"assets/images/armor/arms-icon.png\" [hidden]=\"!(equippedSkill.armsCount == 0)\" class=\"armor-icon info-opaque\" alt=\"Arms\">\n\t\t\t\t<img src=\"assets/images/armor/arms-icon-gold.png\" [hidden]=\"!(equippedSkill.armsCount > 0)\" class=\"armor-icon\" alt=\"Arms\">\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<img src=\"assets/images/armor/waist-icon.png\" [hidden]=\"!(equippedSkill.waistCount == 0)\" class=\"armor-icon info-opaque\" alt=\"Waist\">\n\t\t\t\t<img src=\"assets/images/armor/waist-icon-gold.png\" [hidden]=\"!(equippedSkill.waistCount > 0)\" class=\"armor-icon\" alt=\"Waist\">\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<img src=\"assets/images/armor/legs-icon.png\" [hidden]=\"!(equippedSkill.legsCount == 0)\" class=\"armor-icon info-opaque\" alt=\"Legs\">\n\t\t\t\t<img src=\"assets/images/armor/legs-icon-gold.png\" [hidden]=\"!(equippedSkill.legsCount > 0)\" class=\"armor-icon\" alt=\"Lgs\">\n\t\t\t</td>\n\t\t\t<td [hidden]=\"equippedSkill.isSetBonus\">\n\t\t\t\t<img src=\"assets/images/armor/charm-icon.png\" [hidden]=\"!(equippedSkill.charmCount == 0)\" class=\"armor-icon info-opaque\" alt=\"Charm\">\n\t\t\t\t<img src=\"assets/images/armor/charm-icon-gold.png\" [hidden]=\"!(equippedSkill.charmCount > 0)\" class=\"armor-icon\" alt=\"Charm\">\n\t\t\t</td>\n\t\t\t<td [hidden]=\"equippedSkill.isSetBonus\">\n\t\t\t\t<img src=\"assets/images/armor/tool-icon.png\" [hidden]=\"!(equippedSkill.toolCount == 0)\" class=\"armor-icon info-opaque\" alt=\"Tool\">\n\t\t\t\t<img src=\"assets/images/armor/tool-icon-gold.png\" [hidden]=\"!(equippedSkill.toolCount > 0)\" class=\"armor-icon\" alt=\"Tool\">\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr [hidden]=\"equippedSkill.isSetBonus\">\n\t\t\t<td>\n\t\t\t\t<span [ngClass]=\"{'info-opaque':equippedSkill.weaponCount==0}\">{{equippedSkill.weaponCount}}</span>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<span [ngClass]=\"{'info-opaque':equippedSkill.headCount==0}\">{{equippedSkill.headCount}}</span>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<span [ngClass]=\"{'info-opaque':equippedSkill.chestCount==0}\">{{equippedSkill.chestCount}}</span>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<span [ngClass]=\"{'info-opaque':equippedSkill.armsCount==0}\">{{equippedSkill.armsCount}}</span>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<span [ngClass]=\"{'info-opaque':equippedSkill.waistCount==0}\">{{equippedSkill.waistCount}}</span>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<span [ngClass]=\"{'info-opaque':equippedSkill.legsCount==0}\">{{equippedSkill.legsCount}}</span>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<span [ngClass]=\"{'info-opaque':equippedSkill.charmCount==0}\">{{equippedSkill.charmCount}}</span>\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<span [ngClass]=\"{'info-opaque':equippedSkill.toolCount==0}\">{{equippedSkill.toolCount}}</span>\n\t\t\t</td>\n\t\t</tr>\n\t</table>\n</div>\n","import { Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport * as _ from 'lodash';\nimport { VirtualScrollerComponent } from 'ngx-virtual-scroller';\nimport { ToolModel } from 'src/app/models/tool.model';\nimport { ItemModel } from '../../models/item.model';\nimport { DataService } from '../../services/data.service';\nimport { SlotService } from '../../services/slot.service';\nimport { EquipmentCategoryType } from '../../types/equipment-category.type';\nimport { ItemType } from '../../types/item.type';\nimport { ToolType } from '../../types/tool.type';\n\n@Component({\n\tselector: 'mhw-builder-tool-list',\n\ttemplateUrl: './tool-list.component.html',\n\tstyleUrls: ['./tool-list.component.scss']\n})\nexport class ToolListComponent implements OnInit {\n\tpublic itemTypes = ItemType;\n\tpublic equipmentCategoryType = EquipmentCategoryType;\n\tprivate _itemType: ItemType;\n\ttypeSort: string;\n\n\t@Input()\n\tset itemType(itemType: ItemType) {\n\t\tthis._itemType = itemType;\n\t\tthis.loadItems();\n\t}\n\tget itemType(): ItemType { return this._itemType; }\n\n\t@Output() itemSelected = new EventEmitter<ItemModel>();\n\n\t@ViewChild('searchBox', { static: true }) searchBox: ElementRef;\n\t@ViewChild('itemList') itemList: VirtualScrollerComponent;\n\n\titems: ToolModel[];\n\tfilteredItems: ToolModel[];\n\tvirtualItems: ToolModel[];\n\ttoolTypeFilter?: ToolType;\n\tweaponTypeSort: String;\n\n\thideFilterContainer = false;\n\tshowSortContainer = false;\n\n\tchildHeight: number;\n\tconstructor(\n\t\tprivate slotService: SlotService,\n\t\tpublic dataService: DataService,\n\t) { }\n\n\tngOnInit() {\n\t}\n\n\trefreshList() {\n\t\tif (this.itemList) {\n\t\t\tthis.itemList.refresh();\n\t\t}\n\t}\n\n\tonItemListUpdate(items: ToolModel[]) {\n\t\tthis.virtualItems = items;\n\t}\n\n\tloadItems() {\n\t\tthis.items = this.dataService.getTools(this._itemType);\n\t\tthis.resetSearchResults();\n\t\tsetTimeout(() => this.searchBox.nativeElement.focus(), 250);\n\t}\n\n\tsearch(query: string) {\n\t\tthis.filteredItems = this.items;\n\n\t\tif (query) {\n\t\t\tquery = query.toLowerCase().trim();\n\t\t\tconst queryParts = query.split(' ');\n\n\t\t\tif (this.items) {\n\t\t\t\tfor (const item of this.items) {\n\t\t\t\t\tconst itemName = item.name.toLowerCase();\n\n\t\t\t\t\tconst nameMatch = itemName.includes(query);\n\n\t\t\t\t\tif (!nameMatch) {\n\t\t\t\t\t\tthis.filteredItems = _.reject(this.filteredItems, i => i.name === item.name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.resetSearchResults();\n\t\t}\n\t}\n\n\tresetSearchResults() {\n\t\tthis.searchBox.nativeElement.value = null;\n\t\tthis.filteredItems = this.items;\n\t\tthis.applyToolFilter();\n\t}\n\n\tapplyToolFilter() {\n\t}\n\n\tselectItem(item: ItemModel) {\n\t\tconst newItem = Object.assign({}, item);\n\t\tthis.slotService.selectItem(newItem);\n\t}\n\n\tsortByDuration() {\n\t\tthis.typeSort = 'DUR';\n\t\tthis.filteredItems.sort(function (item1, item2) {\n\t\t\tif (item1.duration > item2.duration) {\n\t\t\t\treturn -1;\n\t\t\t} else if (item1.duration < item2.duration) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tthis.virtualItems = this.filteredItems;\n\t}\n\n\tsortByRecharge() {\n\t\tthis.typeSort = 'REC';\n\t\tthis.filteredItems.sort(function (item1, item2) {\n\t\t\tif (item1.recharge < item2.recharge) {\n\t\t\t\treturn -1;\n\t\t\t} else if (item1.recharge > item2.recharge) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tthis.virtualItems = this.filteredItems;\n\t}\n\n\tsortBySlots() {\n\t\tthis.typeSort = 'SLOT';\n\t\tthis.filteredItems.sort(function (item1, item2) {\n\t\t\tlet slotValue1 = 0;\n\t\t\tlet slotValue2 = 0;\n\n\t\t\tif (item1.slots.length > 0) {\n\t\t\t\tslotValue1 += item1.slots[0].level * 100;\n\t\t\t}\n\t\t\tif (item1.slots.length > 1) {\n\t\t\t\tslotValue1 += item1.slots[1].level * 10;\n\t\t\t}\n\t\t\tif (item1.slots.length > 2) {\n\t\t\t\tslotValue1 += item1.slots[2].level;\n\t\t\t}\n\t\t\tif (item2.slots.length > 0) {\n\t\t\t\tslotValue2 += item2.slots[0].level * 100;\n\t\t\t}\n\t\t\tif (item2.slots.length > 1) {\n\t\t\t\tslotValue2 += item2.slots[1].level * 10;\n\t\t\t}\n\t\t\tif (item2.slots.length > 2) {\n\t\t\t\tslotValue2 += item2.slots[2].level;\n\t\t\t}\n\n\t\t\tif (slotValue1 > slotValue2) {\n\t\t\t\treturn -1;\n\t\t\t} else if (slotValue1 < slotValue2) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tthis.virtualItems = this.filteredItems;\n\t}\n}\n","<div class=\"container\">\n\t<div class=\"search-container\">\n\t\t<input #searchBox (keyup)=\"search(searchBox.value)\" placeholder=\"Search names, skills\" />\n\t\t<button type=\"button\" class=\"sort-button\" (click)=\"showSortContainer=!showSortContainer\">\n\t\t\t<i class=\"fas fa-sort-amount-up\"></i>\n\t\t</button>\n\t\t<button type=\"button\" class=\"filter-button\" (click)=\"hideFilterContainer=!hideFilterContainer\">\n\t\t\t<i class=\"fas fa-filter\"></i>\n\t\t</button>\n\t\t<button type=\"button\" class=\"clear-button\" (click)=\"resetSearchResults()\">\n\t\t\t<i class=\"fas fa-times\"></i>\n\t\t</button>\n\t</div>\n\n\t<div class=\"sort-container\" *ngIf=\"showSortContainer\">\n\t\t<button type=\"button\" class=\"item-sort\" [class.selected]=\"typeSort == 'DUR'\" (click)=\"sortByDuration()\">\n\t\t\t<span>DUR</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"item-sort\" [class.selected]=\"typeSort == 'REC'\" (click)=\"sortByRecharge()\">\n\t\t\t<span>REC</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"item-sort\" [class.selected]=\"typeSort == 'SLOT'\" (click)=\"sortBySlots()\">\n\t\t\t<span>SLOT</span>\n\t\t</button>\n\t</div>\n\n\t<virtual-scroller id=\"items-list\" #itemList class=\"scroll-container\" *ngIf=\"items\" [items]=\"filteredItems\" (vsUpdate)=\"onItemListUpdate($event)\">\n\t\t<div *ngFor=\"let item of virtualItems\" class=\"scroll-item-container\" (click)=\"selectItem(item)\">\n\t\t\t<div class=\"name-container\">\n\t\t\t\t<div class=\"name\" [ngClass]=\"'ver-'+ item.version\">\n\t\t\t\t\t{{item.name}}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"slots\">\n\t\t\t\t\t<div *ngIf=\"item.slots[0]?.level\">\n\t\t\t\t\t\t<img [src]=\"'assets/images/decorations/' + item?.slots[0]?.level + '-0.png'\" alt=\"slot\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div *ngIf=\"item.slots[1]?.level\">\n\t\t\t\t\t\t<img [src]=\"'assets/images/decorations/' + item?.slots[1]?.level + '-0.png'\" alt=\"slot\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div *ngIf=\"item.slots[2]?.level\">\n\t\t\t\t\t\t<img [src]=\"'assets/images/decorations/' + item?.slots[2]?.level + '-0.png'\" alt=\"slot\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"type\">\n\t\t\t\t\t{{item.toolType}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"stats-container\">\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/tool-duration-icon.png\" alt=\"duration\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{item.duration}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/tool-recharge-icon.png\" alt=\"recharge\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{item.recharge}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</virtual-scroller>\n</div>\n","import { Component, ElementRef, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { CommonLevelModel, CommonModel } from 'src/app/models/common.model';\nimport { KinsectModel } from 'src/app/models/kinsect.model';\nimport { DecorationModel } from '../../models/decoration.model';\nimport { EquippedSetBonusModel } from '../../models/equipped-set-bonus.model';\nimport { EquippedSkillModel } from '../../models/equipped-skill.model';\nimport { ItemModel } from '../../models/item.model';\nimport { SkillModel } from '../../models/skill.model';\nimport { StatDetailModel } from '../../models/stat-detail.model';\nimport { TooltipService } from '../../services/tooltip.service';\nimport { WeaponType } from '../../types/weapon.type';\nimport { UpgradeContainerModel } from '../../models/upgrade-container.model';\n\n@Component({\n\tselector: 'mhw-builder-tooltip',\n\ttemplateUrl: './tooltip.component.html',\n\tstyleUrls: ['./tooltip.component.scss']\n})\nexport class TooltipComponent implements OnInit {\n\t@ViewChild('container', { static: true }) container: ElementRef;\n\n\titem: ItemModel;\n\tupgradeContainer: UpgradeContainerModel;\n\tdecoration: DecorationModel;\n\tcommon: CommonModel;\n\tkinsect: KinsectModel;\n\tequippedSkill: EquippedSkillModel;\n\tequippedSetBonus: EquippedSetBonusModel;\n\tskill: SkillModel;\n\tcalc: StatDetailModel;\n\tvisible: boolean;\n\tweaponTypes = WeaponType;\n\n\tprivate mouseXOffset = 40;\n\tprivate mouseYOffset = 40;\n\n\tconstructor(\n\t\tprivate renderer: Renderer2,\n\t\tprivate tooltipService: TooltipService\n\t) { }\n\n\tngOnInit() {\n\t\tthis.tooltipService.itemChanged$.subscribe(item => {\n\t\t\tif (!item) {\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\t\t\t\tthis.reset();\n\t\t\t\tthis.item = item;\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t});\n\n\t\tthis.tooltipService.decorationChanged$.subscribe(decoration => {\n\t\t\tif (!decoration) {\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\t\t\t\tthis.reset();\n\t\t\t\tthis.decoration = decoration;\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t});\n\n\t\tthis.tooltipService.augmentationChanged$.subscribe(augmentation => {\n\t\t\tif (!augmentation) {\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\t\t\t\tthis.reset();\n\t\t\t\tconst levels: CommonLevelModel[] = [];\n\t\t\t\tfor (const augLevel of augmentation.levels) {\n\t\t\t\t\tlet level: CommonLevelModel;\n\t\t\t\t\tlevel = {\n\t\t\t\t\t\tdescription: augLevel.description,\n\t\t\t\t\t\tskills: augLevel.skills\n\t\t\t\t\t};\n\t\t\t\t\tlevels.push(level);\n\t\t\t\t}\n\t\t\t\tthis.common = {\n\t\t\t\t\tid: augmentation.id,\n\t\t\t\t\tcode: augmentation.code,\n\t\t\t\t\tname: augmentation.name,\n\t\t\t\t\tdescription: augmentation.description,\n\t\t\t\t\tlevels: levels\n\t\t\t\t};\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t});\n\n\t\tthis.tooltipService.upgradeContainerChanged$.subscribe(upgradeContainer => {\n\t\t\tif (!upgradeContainer) {\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\t\t\t\tthis.reset();\n\t\t\t\tthis.upgradeContainer = upgradeContainer;\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t});\n\n\t\tthis.tooltipService.modificationChanged$.subscribe(modification => {\n\t\t\tif (!modification) {\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\t\t\t\tthis.reset();\n\t\t\t\tconst levels: CommonLevelModel[] = [];\n\t\t\t\tfor (const modLevel of modification.levels) {\n\t\t\t\t\tlet level: CommonLevelModel;\n\t\t\t\t\tlevel = {\n\t\t\t\t\t\tdescription: modLevel.description,\n\t\t\t\t\t\tskills: modLevel.skills\n\t\t\t\t\t};\n\t\t\t\t\tlevels.push(level);\n\t\t\t\t}\n\t\t\t\tthis.common = {\n\t\t\t\t\tid: modification.id,\n\t\t\t\t\tcode: modification.code,\n\t\t\t\t\tname: modification.name,\n\t\t\t\t\tdescription: modification.description,\n\t\t\t\t\tlevels: levels\n\t\t\t\t};\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t});\n\n\t\tthis.tooltipService.kinsectChanged$.subscribe(kinsect => {\n\t\t\tif (!kinsect) {\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\t\t\t\tthis.reset();\n\t\t\t\tthis.kinsect = kinsect;\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t});\n\n\t\tthis.tooltipService.equippedSkillChanged$.subscribe(equippedSkill => {\n\t\t\tif (!equippedSkill) {\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\t\t\t\tthis.reset();\n\t\t\t\tthis.equippedSkill = equippedSkill;\n\t\t\t\tthis.skill = equippedSkill.skill;\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t});\n\n\t\tthis.tooltipService.equippedSetBonusChanged$.subscribe(equippedSetBonus => {\n\t\t\tif (!equippedSetBonus) {\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\t\t\t\tthis.reset();\n\t\t\t\tthis.equippedSetBonus = equippedSetBonus;\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t});\n\n\t\tthis.tooltipService.skillChanged$.subscribe(skill => {\n\t\t\tif (!skill) {\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\t\t\t\tthis.reset();\n\t\t\t\tthis.skill = skill;\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t});\n\n\t\tthis.tooltipService.calcChanged$.subscribe(calc => {\n\t\t\tif (!calc) {\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\t\t\t\tthis.reset();\n\t\t\t\tthis.calc = calc;\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t});\n\t}\n\n\treset() {\n\t\tthis.item = null;\n\t\tthis.upgradeContainer = null;\n\t\tthis.decoration = null;\n\t\tthis.common = null;\n\t\tthis.kinsect = null;\n\t\tthis.equippedSkill = null;\n\t\tthis.equippedSetBonus = null;\n\t\tthis.skill = null;\n\t\tthis.calc = null;\n\t}\n\n\tshow() {\n\t\tthis.visible = true;\n\t}\n\n\thide() {\n\t\tthis.visible = false;\n\t}\n\n\tmove(x: number, y: number) {\n\t\tif (this.visible) {\n\t\t\tlet newTop = y + this.mouseYOffset;\n\t\t\tlet newRight = 0;\n\t\t\tlet newLeft = 0;\n\n\t\t\tif (x < window.innerWidth - (this.container.nativeElement.offsetWidth + this.mouseXOffset)) {\n\t\t\t\tnewLeft = x + this.mouseXOffset;\n\n\t\t\t\tif (window.innerWidth < newLeft + this.container.nativeElement.scrollWidth) {\n\t\t\t\t\tnewLeft = window.innerWidth - this.container.nativeElement.scrollWidth;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewRight = window.innerWidth - x + this.mouseXOffset;\n\n\t\t\t\tif (window.innerWidth < newRight + this.container.nativeElement.scrollWidth) {\n\t\t\t\t\tnewRight = window.innerWidth - this.container.nativeElement.scrollWidth;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (window.innerHeight - 20 < newTop + this.container.nativeElement.scrollHeight) {\n\t\t\t\tnewTop = window.innerHeight - this.container.nativeElement.scrollHeight - 20;\n\t\t\t}\n\n\t\t\tthis.renderer.setStyle(this.container.nativeElement, 'left', newLeft ? newLeft + 'px' : 'auto');\n\t\t\tthis.renderer.setStyle(this.container.nativeElement, 'right', newRight ? newRight + 'px' : 'auto');\n\t\t\tthis.renderer.setStyle(this.container.nativeElement, 'top', newTop + 'px');\n\t\t}\n\t}\n}\n","<div #container class=\"container\" [hidden]=\"!visible\">\n\t<mhw-builder-item-details *ngIf=\"item\" [item]=\"item\"></mhw-builder-item-details>\n\t<mhw-builder-upgrade-details *ngIf=\"upgradeContainer\" [upgradeContainer]=\"upgradeContainer\"></mhw-builder-upgrade-details>\n\t<mhw-builder-decoration-details *ngIf=\"decoration\" [decoration]=\"decoration\"></mhw-builder-decoration-details>\n\t<mhw-builder-common-details *ngIf=\"common\" [common]=\"common\"></mhw-builder-common-details>\n\t<mhw-builder-skill-details *ngIf=\"equippedSkill || skill\" [equippedSkill]=\"equippedSkill\" [skill]=\"skill\"></mhw-builder-skill-details>\n\t<mhw-builder-set-bonus-details *ngIf=\"equippedSetBonus\" [equippedSetBonus]=\"equippedSetBonus\"></mhw-builder-set-bonus-details>\n\t<mhw-builder-calc-details *ngIf=\"calc\" [calc]=\"calc\"></mhw-builder-calc-details>\n\t<ng-container *ngIf=\"kinsect\">\n\t\t<h3>{{kinsect?.name}}</h3>\n\t\t<hr>\n\t\t<mhw-builder-kinsect-details [kinsect]=\"kinsect\"></mhw-builder-kinsect-details>\n\t</ng-container>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { UpgradeContainerModel } from '../../models/upgrade-container.model';\nimport { SlotService } from '../../services/slot.service';\nimport { TooltipService } from '../../services/tooltip.service';\nimport { ItemType } from '../../types/item.type';\nimport { PointerType } from '../../types/pointer.type';\n\n@Component({\n\tselector: 'mhw-builder-upgrade-slot',\n\ttemplateUrl: './upgrade-slot.component.html',\n\tstyleUrls: ['./upgrade-slot.component.scss']\n})\nexport class UpgradeSlotComponent implements OnInit {\n\tslotName = ItemType.Upgrade;\n\n\t@Input()\n\tupgradeContainer: UpgradeContainerModel;\n\n\tpublic selected: boolean;\n\n\tconstructor(\n\t\tprivate slotService: SlotService,\n\t\tprivate tooltipService: TooltipService\n\t) {\n\t}\n\n\tngOnInit(): void {\n\t}\n\n\tclicked() {\n\t\tthis.slotService.selectUpgradeSlot(this);\n\t}\n\n\tclearClicked(event: Event) {\n\t\tevent.stopPropagation();\n\t\tthis.slotService.clearUpgradeSlot(this);\n\t}\n\n\tsetTooltipUpgrade(event: PointerEvent, upgradeContainer: UpgradeContainerModel) {\n\t\tif (event.pointerType == PointerType.Mouse) {\n\t\t\tthis.tooltipService.setUpgradeContainer(upgradeContainer);\n\t\t}\n\t}\n\n\tshowOnClickTooltipItem() {\n\t\tthis.tooltipService.setUpgradeContainer(this.upgradeContainer);\n\t}\n\n\tclearTooltipUpgrade() {\n\t\tthis.tooltipService.setUpgradeContainer(null);\n\t}\n}\n","<div class=\"container\" [class.selected]=\"selected\">\n\t<div class=\"slot-icon\"><img [src]=\"'assets/images/augment-icon.png'\" alt=\"augment\"></div>\n\t<div class=\"upgrades\">\n\t\t<div class=\"selected-upgrade\" (click)=\"clicked()\" (pointerenter)=\"setTooltipUpgrade($event, upgradeContainer)\" (pointerleave)=\"clearTooltipUpgrade()\">\n\t\t\t<span *ngIf=\"upgradeContainer?.upgradeDetails\">\n\t\t\t\t<span *ngFor=\"let detail of upgradeContainer.upgradeDetails; let i = index\">\n\t\t\t\t\t<span *ngFor=\"let key of detail.totalSlots | numbersArr\">\n\t\t\t\t\t\t<span [class]=\"'hex-' + (i + 1)\" style=\"font-size: 24px;\">&#x2B22;</span>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span *ngFor=\"let key of (upgradeContainer.slots - upgradeContainer.used) | numbersArr\">\n\t\t\t\t\t<span class=\"hex-0\" style=\"font-size: 24px;\">&#x2B22;</span>\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</div>\n\t\t<div *ngIf=\"upgradeContainer?.hasCustomUpgrades\" class=\"selected-custom\" (click)=\"clicked()\" (pointerenter)=\"setTooltipUpgrade($event, upgradeContainer)\" (pointerleave)=\"clearTooltipUpgrade()\">\n\t\t\t<span *ngFor=\"let customId of upgradeContainer.customUpgradeIds; let i = index\">\n\t\t\t\t<span [ngClass]=\"'hex-' + customId\" style=\"font-size: 14px;\">&#9672;</span>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n\n\t<button type=\"button\" class=\"info-button\" (click)=\"showOnClickTooltipItem()\" aria-label=\"info\">\n\t\t<i class=\"fas fa-info-circle icon-xs\" style=\"display:none;\"></i>\n\t</button>\n\n\t<button type=\"button\" class=\"clear-button\" (click)=\"clearClicked($event)\">\n\t\t<i class=\"fas fa-times\"></i>\n\t</button>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { StatDetailModel } from '../../models/stat-detail.model';\nimport { UpgradeContainerModel } from '../../models/upgrade-container.model';\nimport { TooltipService } from '../../services/tooltip.service';\n\n@Component({\n\tselector: 'mhw-builder-upgrade-details',\n\ttemplateUrl: './upgrade-details.component.html',\n\tstyleUrls: ['./upgrade-details.component.scss']\n})\nexport class UpgradeDetailsComponent implements OnInit {\n\tprivate _upgradeContainer: UpgradeContainerModel;\n\n\t@Input()\n\tset upgradeContainer(upgradeContainer: UpgradeContainerModel) {\n\t\tthis._upgradeContainer = upgradeContainer;\n\t\tif (upgradeContainer) {\n\t\t\tthis.setupStats();\n\t\t}\n\t}\n\tget upgradeContainer(): UpgradeContainerModel {\n\t\treturn this._upgradeContainer;\n\t}\n\n\tstats: StatDetailModel[] = [];\n\n\tconstructor(private tooltipService: TooltipService) {\n\t}\n\n\tngOnInit() { }\n\n\tsetupStats() {\n\t\tthis.stats = [];\n\t\tfor (const detail of this.upgradeContainer.upgradeDetails) {\n\t\t\tif (detail.level > 0) {\n\t\t\t\tthis.stats.push({ name: detail.type, value: detail.description });\n\t\t\t}\n\t\t}\n\n\t\tlet upgradePassiveAttack = 0;\n\t\tlet upgradePassiveAffinity = 0;\n\t\tlet upgradePassiveAilmentElement = 0;\n\t\tlet upgradePassiveDefense = 0;\n\n\t\tfor (const [i, customId] of this.upgradeContainer.customUpgradeIds.entries()) {\n\t\t\tswitch (customId) {\n\t\t\t\tcase 1: // Attack\n\t\t\t\t\tupgradePassiveAttack += this.upgradeContainer.customUpgradeValues[i];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2: // Affinity\n\t\t\t\t\tupgradePassiveAffinity += this.upgradeContainer.customUpgradeValues[i];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3: // Defense\n\t\t\t\t\tupgradePassiveDefense += this.upgradeContainer.customUpgradeValues[i];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6: // Element / Ailment\n\t\t\t\t\tupgradePassiveAilmentElement += this.upgradeContainer.customUpgradeValues[i] * 10;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\n\t\tif (upgradePassiveAttack > 0) {\n\t\t\tthis.stats.push({ name: 'Custom Attack', value: `+${upgradePassiveAttack}` });\n\t\t}\n\t\tif (upgradePassiveAffinity > 0) {\n\t\t\tthis.stats.push({ name: 'Custom Affinity', value: `+${upgradePassiveAffinity}` });\n\t\t}\n\t\tif (upgradePassiveDefense > 0) {\n\t\t\tthis.stats.push({ name: 'Custom Defense', value: `+${upgradePassiveDefense}` });\n\t\t}\n\t\tif (upgradePassiveAilmentElement > 0) {\n\t\t\tthis.stats.push({ name: 'Custom Element/Ailment', value: `+${upgradePassiveAilmentElement}` });\n\t\t}\n\t}\n\n\tclearTooltipUpgrade() {\n\t\tthis.tooltipService.setUpgradeContainer(null);\n\t}\n}\n","<div class=\"container\" (click)=\"clearTooltipUpgrade()\">\n\t<h3>Upgrades<span class=\"close-btn-sm\" style=\"visibility:hidden;\"><i class=\"fa fa-times\"></i></span></h3>\n\t<hr>\n\t<ul class=\"striped-light\">\n\t\t<li *ngFor=\"let stat of stats\">\n\t\t\t<span class=\"name\" [ngStyle]=\"{ color: stat.color }\">{{stat.name}}</span>\n\t\t\t<span class=\"value\" [ngStyle]=\"{ color: stat.color }\">{{stat.value}}</span>\n\t\t</li>\n\t</ul>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { UpgradeContainerModel } from '../../models/upgrade-container.model';\nimport { UpgradeLevelModel, UpgradeModel } from '../../models/upgrade.model';\nimport { DataService } from '../../services/data.service';\nimport { SlotService } from '../../services/slot.service';\nimport { WeaponType } from '../../types/weapon.type';\n\n@Component({\n\tselector: 'mhw-builder-upgrades-list',\n\ttemplateUrl: './upgrades-list.component.html',\n\tstyleUrls: ['./upgrades-list.component.scss']\n})\nexport class UpgradesListComponent implements OnInit {\n\tupgrades: UpgradeModel[];\n\tcustomUpgrades: any[];\n\tweaponIndex: number;\n\n\tprivate _upgradeContainer: UpgradeContainerModel;\n\n\t@Input()\n\tset upgradeContainer(upgradeContainer: UpgradeContainerModel) {\n\t\tif (upgradeContainer) {\n\t\t\tthis._upgradeContainer = JSON.parse(JSON.stringify(upgradeContainer));\n\n\t\t\tif (this.upgradeContainer.upgradeDetails && this.upgradeContainer.upgradeDetails.length == 0) {\n\t\t\t\tfor (const cUpg of this.upgrades) {\n\t\t\t\t\tconst newDetail = new UpgradeLevelModel();\n\t\t\t\t\tnewDetail.type = cUpg.type;\n\t\t\t\t\tnewDetail.level = 0;\n\t\t\t\t\tnewDetail.requiredSlots = 0;\n\t\t\t\t\tnewDetail.totalSlots = 0;\n\t\t\t\t\tthis.upgradeContainer.upgradeDetails.push(newDetail);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.weaponIndex = 0;\n\t\t\tfor (const item in WeaponType) {\n\t\t\t\tif (isNaN(Number(item))) {\n\t\t\t\t\tif (item == upgradeContainer.weaponType) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.weaponIndex += 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.customUpgrades = [];\n\t\t\tfor (const cUpg of this.upgrades) {\n\t\t\t\tif (cUpg.WeaponCustomUpgrades) {\n\t\t\t\t\tconst levels = cUpg.WeaponCustomUpgrades[this.weaponIndex];\n\t\t\t\t\tconst maximum = levels.reduce((acumulator, currentValue) => acumulator + currentValue, 0);\n\t\t\t\t\tif (maximum > 0) {\n\t\t\t\t\t\tthis.customUpgrades.push({\n\t\t\t\t\t\t\tid: cUpg.id,\n\t\t\t\t\t\t\ttype: cUpg.type,\n\t\t\t\t\t\t\tmaximum: maximum,\n\t\t\t\t\t\t\tvalues: cUpg.WeaponCustomUpgrades[this.weaponIndex]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.verifyUpgrades();\n\t\t}\n\t}\n\tget upgradeContainer(): UpgradeContainerModel { return this._upgradeContainer; }\n\n\tconstructor(\n\t\tprivate dataService: DataService,\n\t\tprivate slotService: SlotService\n\t) {\n\t\tthis.upgrades = this.dataService.getUpgrades();\n\t}\n\n\tngOnInit(): void { }\n\n\tselectUpgrade() {\n\t\tconst newUpg = JSON.parse(JSON.stringify(this.upgradeContainer));\n\t\tthis.slotService.selectUpgradeContainer(newUpg);\n\t}\n\n\tverifyUpgrades() {\n\t\tif (this.upgradeContainer.used > this.upgradeContainer.slots) {\n\t\t\tfor (let i = 0; i < this.upgradeContainer.upgradeDetails.length; i++) {\n\t\t\t\tconst detail = this.upgradeContainer.upgradeDetails[i];\n\t\t\t\tif (detail.level > 0) {\n\t\t\t\t\tthis.selectUpgLevel(i, detail.level);\n\t\t\t\t\tthis.verifyUpgrades();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tselectUpgLevel(augIndex: number, level: number) {\n\t\tconst auxUpg = this.upgradeContainer.upgradeDetails[augIndex];\n\t\tlet auxOverrideValue: number = null;\n\t\tif (this.upgrades[augIndex].WeaponLevels) {\n\t\t\tauxOverrideValue = this.upgrades[augIndex].WeaponLevels[this.weaponIndex][level - 1];\n\t\t}\n\n\t\tif (auxUpg.level == level) {\n\t\t\tauxUpg.level = level - 1;\n\t\t\tif (level > 1) {\n\t\t\t\tconst auxDown = this.upgrades[augIndex].levels[level - 2];\n\t\t\t\tthis.upgradeContainer.used -= auxUpg.totalSlots;\n\t\t\t\tthis.upgradeContainer.used += auxDown.totalSlots;\n\n\t\t\t\tif (auxOverrideValue) {\n\t\t\t\t\tthis.overrideUpgrageLevel(auxDown, augIndex, auxOverrideValue);\n\t\t\t\t}\n\t\t\t\tthis.updatePassiveStats(auxUpg, auxDown);\n\t\t\t} else {\n\t\t\t\tthis.upgradeContainer.used -= auxUpg.totalSlots;\n\t\t\t\tthis.clearPassiveStats(auxUpg);\n\t\t\t}\n\t\t} else {\n\t\t\tconst auxLevel = this.upgrades[augIndex].levels[level - 1];\n\t\t\tif (this.upgradeContainer.used - auxUpg.totalSlots + auxLevel.totalSlots <= this.upgradeContainer.slots) {\n\t\t\t\tthis.upgradeContainer.used -= auxUpg.totalSlots;\n\t\t\t\tthis.upgradeContainer.used += auxLevel.totalSlots;\n\n\t\t\t\tauxUpg.level = level;\n\n\t\t\t\tif (auxOverrideValue) {\n\t\t\t\t\tthis.overrideUpgrageLevel(auxLevel, augIndex, auxOverrideValue);\n\t\t\t\t}\n\t\t\t\tthis.updatePassiveStats(auxUpg, auxLevel);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate overrideUpgrageLevel(upgradeLevel: UpgradeLevelModel, augIndex: number, value: number) {\n\t\tswitch (augIndex) {\n\t\t\tcase 0:\n\t\t\t\tupgradeLevel.passiveAttack = value;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tupgradeLevel.passiveAffinity = value;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tupgradeLevel.passiveDefense = value;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tupgradeLevel.slotLevel = value;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tupgradeLevel.healOnHitPercent = value;\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tupgradeLevel.passiveAilment = value;\n\t\t\t\tupgradeLevel.passiveElement = value;\n\t\t\t\tbreak;\n\t\t\tcase 6:\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tupgradeLevel.description = '+' + value;\n\t}\n\n\tupdatePassiveStats(aug: UpgradeLevelModel, level: UpgradeLevelModel) {\n\t\taug.requiredSlots = level.requiredSlots;\n\t\taug.totalSlots = level.totalSlots;\n\n\t\taug.passiveAttack = level.passiveAttack;\n\t\taug.passiveAffinity = level.passiveAffinity;\n\t\taug.passiveDefense = level.passiveDefense;\n\t\taug.healOnHitPercent = level.healOnHitPercent;\n\t\taug.passiveElement = level.passiveElement;\n\t\taug.passiveAilment = level.passiveAilment;\n\n\t\taug.description = level.description;\n\t}\n\n\tclearPassiveStats(aug: UpgradeLevelModel) {\n\t\taug.requiredSlots = 0;\n\t\taug.totalSlots = 0;\n\n\t\taug.passiveAttack = 0;\n\t\taug.passiveAffinity = 0;\n\t\taug.passiveDefense = 0;\n\t\taug.healOnHitPercent = 0;\n\t\taug.passiveElement = 0;\n\t\taug.passiveAilment = 0;\n\t}\n\n\tgetHexagonClass(upgIndex: number, levelIndex: number) {\n\t\tconst auxUpg = this.upgradeContainer.upgradeDetails[upgIndex];\n\t\tconst auxLevel = this.upgrades[upgIndex].levels[levelIndex];\n\n\t\tif (levelIndex + 1 <= auxUpg.level) {\n\t\t\treturn 'hex-o-' + (upgIndex + 1);\n\t\t} else {\n\t\t\tif (this.upgradeContainer.used - auxUpg.totalSlots + auxLevel.totalSlots <= this.upgradeContainer.slots) {\n\t\t\t\treturn 'hex-' + (upgIndex + 1);\n\t\t\t} else {\n\t\t\t\treturn 'hex-' + (upgIndex + 1);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetBackgroundColor(upgIndex: number, levelIndex: number) {\n\t\tconst auxUpg = this.upgradeContainer.upgradeDetails[upgIndex];\n\t\tconst auxLevel = this.upgrades[upgIndex].levels[levelIndex];\n\n\t\tif (levelIndex + 1 <= auxUpg.level) {\n\t\t\treturn '#525252';\n\t\t} else {\n\t\t\tif (this.upgradeContainer.used - auxUpg.totalSlots + auxLevel.totalSlots <= this.upgradeContainer.slots) {\n\t\t\t\treturn '';\n\t\t\t} else {\n\t\t\t\treturn '#1E1E1E';\n\t\t\t}\n\t\t}\n\t}\n\n\tselectCustomUpg(augId: number, levelIndex: number, level: number) {\n\t\tif (level > 0) {\n\t\t\tif (this.upgradeContainer.customUpgradeIds[levelIndex] == augId) {\n\t\t\t\tthis.upgradeContainer.customUpgradeIds[levelIndex] = 0;\n\t\t\t\tthis.upgradeContainer.customUpgradeValues[levelIndex] = 0;\n\t\t\t} else {\n\t\t\t\tthis.upgradeContainer.customUpgradeIds[levelIndex] = augId;\n\t\t\t\tthis.upgradeContainer.customUpgradeValues[levelIndex] = level;\n\t\t\t}\n\t\t}\n\t}\n\n\tcountCustomUpg(augId: number) {\n\t\treturn this.upgradeContainer.customUpgradeIds.filter(customId => customId == augId).length;\n\t}\n\n\tsumCustomUpg(augId: number) {\n\t\tlet result = 0;\n\t\tconst customUpgrade = this.customUpgrades.find(x => x.id == augId);\n\t\tfor (const [i, customId] of this.upgradeContainer.customUpgradeIds.entries()) {\n\t\t\tif (customId == augId) {\n\t\t\t\tresult += customUpgrade.values[i];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\n\tgetCustomColor(augType: string) {\n\t\tif (augType == 'Attack') {\n\t\t\treturn '0';\n\t\t} else if (augType == 'Affinity') {\n\t\t\treturn '1';\n\t\t} else if (augType == 'Defense') {\n\t\t\treturn '2';\n\t\t} else if (augType == 'Element') {\n\t\t\treturn '5';\n\t\t} else {\n\t\t\treturn 'gray';\n\t\t}\n\t}\n}\n","<div class=\"container\">\n\t<table class=\"upgrades-table\">\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th class=\"text-center\">{{upgradeContainer.used}}/{{upgradeContainer.slots}}</th>\n\t\t\t\t<th class=\"text-center\">Lv1</th>\n\t\t\t\t<th class=\"text-center\">Lv2</th>\n\t\t\t\t<th class=\"text-center\">Lv3</th>\n\t\t\t\t<th class=\"text-center\">Lv4</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t<ng-container *ngFor=\"let aug of upgrades; let augIndex = index\">\n\t\t\t\t<tr *ngIf=\"aug.levels && aug.levels.length > 0\">\n\t\t\t\t\t<td class=\"border-left-blue\">{{aug.type}}</td>\n\t\t\t\t\t<td *ngFor=\"let level of aug.levels; let levelIndex = index\"\n\t\t\t\t\t\t(click)=\"selectUpgLevel(augIndex, levelIndex + 1)\"\n\t\t\t\t\t\t[style.background-color]=\"getBackgroundColor(augIndex, levelIndex)\"\n\t\t\t\t\t\tclass=\"text-center\" style=\"cursor:pointer;\">\n\t\t\t\t\t\t<span *ngFor=\"let key of level.requiredSlots | numbersArr\"\n\t\t\t\t\t\t\t  [class]=\"getHexagonClass(augIndex,levelIndex)\"\n\t\t\t\t\t\t\t  style=\"font-size:24px;\">\n\t\t\t\t\t\t\t&#x2B22;\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</ng-container>\n\t\t</tbody>\n\t\t<tfoot>\n\t\t\t<tr>\n\t\t\t\t<td colspan=\"4\" class=\"text-center border-left-blue\" style=\"background-color:#323232!important;\">\n\t\t\t\t\t<span *ngFor=\"let detail of upgradeContainer.upgradeDetails; let i = index\">\n\t\t\t\t\t\t<span *ngFor=\"let key of detail.totalSlots | numbersArr\">\n\t\t\t\t\t\t\t<span [class]=\"'hex-o-' + (i + 1)\" style=\"font-size: 26px;\">&#x2B22;</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span *ngFor=\"let key of (upgradeContainer.slots - upgradeContainer.used) | numbersArr\">\n\t\t\t\t\t\t<span class=\"hex-0\" style=\"font-size: 26px;\">&#x2B22;</span>\n\t\t\t\t\t</span>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-center bg-52\" (click)=\"selectUpgrade()\" style=\"cursor:pointer;\">\n\t\t\t\t\t<button type=\"button\" class=\"text-white\">OK</button>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</tfoot>\n\t</table>\n\t<table class=\"upgrades-table\" *ngIf=\"upgradeContainer.hasCustomUpgrades\">\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th class=\"text-left upgrade-th\">Custom</th>\n\t\t\t\t<th class=\"upgrade-th\">I</th>\n\t\t\t\t<th class=\"upgrade-th\">II</th>\n\t\t\t\t<th class=\"upgrade-th\">III</th>\n\t\t\t\t<th class=\"upgrade-th\">IV</th>\n\t\t\t\t<th class=\"upgrade-th\">V</th>\n\t\t\t\t<th class=\"upgrade-th\">VI</th>\n\t\t\t\t<th class=\"upgrade-th\">VII</th>\n\t\t\t\t<th class=\"upgrade-th\">Total</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t<tr *ngFor=\"let customUpg of customUpgrades\">\n\t\t\t\t<td>\n\t\t\t\t\t{{customUpg.type}}\n\t\t\t\t</td>\n\t\t\t\t<td *ngFor=\"let value of customUpg.values; let i = index\"\n\t\t\t\t\t(click)=\"selectCustomUpg(customUpg.id, i, value)\"\n\t\t\t\t\t[class.selected]=\"upgradeContainer.customUpgradeIds[i] == customUpg.id\"\n\t\t\t\t\tclass=\"text-center upgrade-td\">\n\t\t\t\t\t<span [hidden]=\"value==0\">{{value}}</span>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-center upgrade-td bg-52\">\n\t\t\t\t\t+{{sumCustomUpg(customUpg.id)}}\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t\t<tfoot>\n\t\t\t<tr>\n\t\t\t\t<td colspan=\"8\" class=\"text-center border-left-blue\" style=\"background-color:#323232!important;\">\n\t\t\t\t\t<span *ngFor=\"let customId of upgradeContainer.customUpgradeIds; let i = index\">\n\t\t\t\t\t\t<span [ngClass]=\"'hex-' + customId\" style=\"font-size: 22px;\">&#9672;</span>\n\t\t\t\t\t</span>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"text-center bg-52\" (click)=\"selectUpgrade()\" style=\"cursor:pointer;\">\n\t\t\t\t\t<button type=\"button\" class=\"text-white\">OK</button>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</tfoot>\n\t</table>\n</div>\n","import { Component, ElementRef, EventEmitter, HostListener, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport * as _ from 'lodash';\nimport { VirtualScrollerComponent } from 'ngx-virtual-scroller';\nimport { ItemModel } from '../../models/item.model';\nimport { SkillModel } from '../../models/skill.model';\nimport { DataService } from '../../services/data.service';\nimport { SlotService } from '../../services/slot.service';\nimport { EquipmentCategoryType } from '../../types/equipment-category.type';\nimport { ItemType } from '../../types/item.type';\nimport { WeaponType } from '../../types/weapon.type';\n\n@Component({\n\tselector: 'mhw-builder-weapon-list',\n\ttemplateUrl: './weapon-list.component.html',\n\tstyleUrls: ['./weapon-list.component.scss']\n})\nexport class WeaponListComponent implements OnInit {\n\tpublic itemTypes = ItemType;\n\tpublic equipmentCategoryType = EquipmentCategoryType;\n\tprivate _itemType: ItemType;\n\tprivate _onlyIceborne: boolean;\n\tprivate searchLength = 0;\n\n\t@Input()\n\tset itemType(itemType: ItemType) {\n\t\tthis._itemType = itemType;\n\t\tthis.loadItems();\n\t}\n\tget itemType(): ItemType { return this._itemType; }\n\n\t@Input()\n\tset onlyIceborne(onlyIceborne: boolean) {\n\t\tthis._onlyIceborne = onlyIceborne;\n\t\tthis.applyIceborneFilter();\n\t\tthis.search({ key: 'Filter' }, this.searchBox.nativeElement.value);\n\t\tthis.weaponTypeSort = '';\n\t}\n\tget onlyIceborne(): boolean { return this._onlyIceborne; }\n\n\t@Output() itemSelected = new EventEmitter<ItemModel>();\n\n\t@ViewChild('searchBox', { static: true }) searchBox: ElementRef;\n\t@ViewChild('itemList') itemList: VirtualScrollerComponent;\n\n\titems: ItemModel[];\n\titemsWorld: ItemModel[];\n\titemsIceborne: ItemModel[];\n\tfilteredItems: ItemModel[];\n\tvirtualItems: ItemModel[];\n\tweaponTypeFilter?: WeaponType;\n\tweaponTypeSort: String;\n\n\tshowFilterContainer = true;\n\tshowSortContainer = true;\n\n\tchildHeight: number;\n\n\t@HostListener('window:resize')\n\tonResize() {\n\t\tthis.refreshList();\n\t}\n\n\tconstructor(\n\t\tprivate slotService: SlotService,\n\t\tpublic dataService: DataService,\n\t) {\n\t\tthis.items = this.dataService.getWeapons();\n\t}\n\n\tngOnInit() {\n\t\tthis.slotService.weaponSlotSelected$.subscribe(slot => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.searchBox.nativeElement.focus();\n\t\t\t\tthis.searchBox.nativeElement.select();\n\t\t\t}, 250);\n\t\t});\n\t}\n\n\trefreshList() {\n\t\tif (this.itemList) {\n\t\t\tthis.itemList.refresh();\n\t\t}\n\t}\n\n\tonItemListUpdate(items: ItemModel[]) {\n\t\tthis.virtualItems = items;\n\t}\n\n\tloadItems() {\n\t\tthis.itemsWorld = this.items.filter(item => item.id < 1000);\n\t\tthis.itemsIceborne = this.items.filter(item => item.id >= 1000);\n\t\tthis.resetSearchResults();\n\t\tsetTimeout(() => this.searchBox.nativeElement.focus(), 250);\n\t}\n\n\tsearch(event, query: string) {\n\t\tif (query) {\n\t\t\tif (query.length < this.searchLength || (event && (event.key === 'FilterHard' || event.key === 'Backspace' || event.key === 'Delete'))) {\n\t\t\t\tthis.applyIceborneFilter();\n\t\t\t}\n\n\t\t\tif (query.length > 1) {\n\t\t\t\tquery = query.toLowerCase().trim();\n\t\t\t\tconst queryParts = query.split(' ');\n\n\t\t\t\tif (this.filteredItems) {\n\t\t\t\t\tfor (const item of this.filteredItems) {\n\t\t\t\t\t\tconst itemName = item.name.toLowerCase();\n\n\t\t\t\t\t\tconst match = _.some(queryParts, queryPart => {\n\t\t\t\t\t\t\tconst nameMatch = itemName.includes(queryPart);\n\t\t\t\t\t\t\tconst skillMatch = _.some(item.skills, skill => skill.id.toLowerCase().includes(queryPart));\n\t\t\t\t\t\t\tconst tagMatch = _.some(item.tags, tag => tag.toLowerCase().includes(queryPart));\n\t\t\t\t\t\t\tconst monstersMatch = _.some(item.monsters, tag => tag.toLowerCase().includes(queryPart));\n\n\t\t\t\t\t\t\treturn nameMatch || skillMatch || tagMatch || monstersMatch;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tthis.filteredItems = _.reject(this.filteredItems, i => i.name === item.name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.applyWeaponFilter();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.resetSearchResults();\n\t\t}\n\t}\n\n\tresetSearchResults() {\n\t\tthis.searchBox.nativeElement.value = null;\n\t\tthis.applyIceborneFilter();\n\t\tthis.applyWeaponFilter();\n\t\tthis.weaponTypeSort = '';\n\t}\n\n\tapplyWeaponFilter() {\n\t\tif (this.filteredItems && this.weaponTypeFilter && this.itemType == ItemType.Weapon) {\n\t\t\tthis.filteredItems = _.reject(this.filteredItems, item => item.weaponType != this.weaponTypeFilter);\n\t\t}\n\t}\n\n\tapplyIceborneFilter() {\n\t\tif (this.onlyIceborne) {\n\t\t\tthis.filteredItems = this.itemsIceborne;\n\t\t} else {\n\t\t\tthis.filteredItems = this.itemsIceborne.concat(this.itemsWorld);\n\t\t}\n\t}\n\n\tweaponFilterClicked(weaponType: WeaponType) {\n\t\tif (this.weaponTypeFilter) {\n\t\t\tif (this.weaponTypeFilter == weaponType) {\n\t\t\t\tthis.weaponTypeFilter = null;\n\t\t\t\tthis.search({ key: 'FilterHard' }, this.searchBox.nativeElement.value);\n\t\t\t} else {\n\t\t\t\tthis.weaponTypeFilter = weaponType;\n\t\t\t\tthis.search({ key: 'FilterHard' }, this.searchBox.nativeElement.value);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.weaponTypeFilter = weaponType;\n\t\t\tthis.search({ key: 'FilterSoft' }, this.searchBox.nativeElement.value);\n\t\t}\n\n\t\tthis.weaponTypeSort = '';\n\t}\n\n\tselectItem(item: ItemModel) {\n\t\tif (item.weaponType == WeaponType.LightBowgun || item.weaponType == WeaponType.HeavyBowgun) {\n\t\t\titem.ammoCapacities = this.dataService.getAmmoCapacities(item.id);\n\t\t} else if (item.weaponType == WeaponType.HuntingHorn && item.otherData) {\n\t\t\titem.melodies = this.dataService.getMelodies(item.otherData.map(other => other.value).join(';'));\n\t\t}\n\n\t\tconst newItem = Object.assign({}, item);\n\t\tthis.slotService.selectItem(newItem);\n\t}\n\n\tgetSkillCount(item: ItemModel, skill: SkillModel): string {\n\t\tconst itemSkill = _.find(item.skills, s => s.id == skill.id);\n\t\tconst result = `${itemSkill.level}/${skill.levels.length}`;\n\t\treturn result;\n\t}\n\n\tgetMonsterIcon(monster: string, item: ItemModel): string {\n\t\tif (monster != 'element') {\n\t\t\treturn `assets/images/monsters/${monster}.png`;\n\t\t} else {\n\t\t\tif (item.ailment) {\n\t\t\t\treturn `assets/images/${item.ailment.toLowerCase()}-icon.png`;\n\t\t\t} else if (item.element) {\n\t\t\t\treturn `assets/images/${item.element.toLowerCase()}-icon.png`;\n\t\t\t} else {\n\t\t\t\treturn `assets/images/monsters/question.png`;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetElementIcon(item: ItemModel): string {\n\t\tif (item.element) {\n\t\t\treturn `assets/images/${item.element.toLowerCase()}${item.elementHidden ? '-gray' : ''}-icon.png`;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tgetAilmentIcon(item: ItemModel): string {\n\t\tif (item.ailment) {\n\t\t\treturn `assets/images/${item.ailment.toLowerCase()}${item.ailmentHidden ? '-gray' : ''}-icon.png`;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tweaponSortByAttack() {\n\t\tthis.weaponTypeSort = 'ATK';\n\t\tthis.filteredItems.sort(function (item1, item2) {\n\t\t\tif (item1.baseAttack > item2.baseAttack) {\n\t\t\t\treturn -1;\n\t\t\t} else if (item1.baseAttack < item2.baseAttack) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tthis.virtualItems = this.filteredItems;\n\t}\n\n\tweaponSortByAffinity() {\n\t\tthis.weaponTypeSort = 'AFN';\n\t\tthis.filteredItems.sort(function (item1, item2) {\n\t\t\tif (item1.baseAffinityPercent > item2.baseAffinityPercent) {\n\t\t\t\treturn -1;\n\t\t\t} else if (item1.baseAffinityPercent < item2.baseAffinityPercent) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tthis.virtualItems = this.filteredItems;\n\t}\n\n\tweaponSortByAilment() {\n\t\tthis.weaponTypeSort = 'AIL';\n\t\tthis.filteredItems.sort(function (item1, item2) {\n\t\t\tif (item1.ailment && !item2.ailment || item1.ailmentBaseAttack > item2.ailmentBaseAttack) {\n\t\t\t\treturn -1;\n\t\t\t} else if (!item1.ailment && item2.ailment || item1.ailmentBaseAttack < item2.ailmentBaseAttack) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tthis.virtualItems = this.filteredItems;\n\t}\n\n\tweaponSortByElement() {\n\t\tthis.weaponTypeSort = 'ELE';\n\t\tthis.filteredItems.sort(function (item1, item2) {\n\t\t\tif (item1.element && !item2.element || item1.elementBaseAttack > item2.elementBaseAttack) {\n\t\t\t\treturn -1;\n\t\t\t} else if (!item1.element && item2.element || item1.elementBaseAttack < item2.elementBaseAttack) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tthis.virtualItems = this.filteredItems;\n\t}\n\n\tweaponSortByDefense() {\n\t\tthis.weaponTypeSort = 'DEF';\n\t\tthis.filteredItems.sort(function (item1, item2) {\n\t\t\tif (item1.defense > item2.defense) {\n\t\t\t\treturn -1;\n\t\t\t} else if (item1.defense < item2.defense) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tthis.virtualItems = this.filteredItems;\n\t}\n\n\tweaponSortBySharpness() {\n\t\tthis.weaponTypeSort = 'SHARP';\n\t\tthis.filteredItems.sort(function (item1, item2) {\n\t\t\tlet sharp1 = -1;\n\t\t\tlet sharp2 = -1;\n\t\t\tif (!item1.sharpnessDataNeeded && item1.sharpnessLevelsBar.length > 0) {\n\t\t\t\tif (item1.sharpnessLevelsBar[item1.sharpnessLevelsBar.length - 1] > 0) {\n\t\t\t\t\tsharp1 = item1.sharpnessLevelsBar.length * 100 + item1.sharpnessLevelsBar[item1.sharpnessLevelsBar.length - 1];\n\t\t\t\t} else {\n\t\t\t\t\tsharp1 = (item1.sharpnessLevelsBar.length - 1) * 100 + item1.sharpnessLevelsBar[item1.sharpnessLevelsBar.length - 2];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!item2.sharpnessDataNeeded && item2.sharpnessLevelsBar.length > 0) {\n\t\t\t\tif (item2.sharpnessLevelsBar[item2.sharpnessLevelsBar.length - 1] > 0) {\n\t\t\t\t\tsharp2 = item2.sharpnessLevelsBar.length * 100 + item2.sharpnessLevelsBar[item2.sharpnessLevelsBar.length - 1];\n\t\t\t\t} else {\n\t\t\t\t\tsharp2 = (item2.sharpnessLevelsBar.length - 1) * 100 + item2.sharpnessLevelsBar[item2.sharpnessLevelsBar.length - 2];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (sharp1 > sharp2) {\n\t\t\t\treturn -1;\n\t\t\t} else if (sharp1 < sharp2) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tthis.virtualItems = this.filteredItems;\n\t}\n\n\tweaponSortBySlots() {\n\t\tthis.weaponTypeSort = 'SLOT';\n\t\tthis.filteredItems.sort(function (item1, item2) {\n\t\t\tlet slotValue1 = 0;\n\t\t\tlet slotValue2 = 0;\n\n\t\t\tif (item1.slots.length > 0) {\n\t\t\t\tslotValue1 += item1.slots[0].level * 100;\n\t\t\t}\n\t\t\tif (item1.slots.length > 1) {\n\t\t\t\tslotValue1 += item1.slots[1].level * 10;\n\t\t\t}\n\t\t\tif (item1.slots.length > 2) {\n\t\t\t\tslotValue1 += item1.slots[2].level;\n\t\t\t}\n\t\t\tif (item2.slots.length > 0) {\n\t\t\t\tslotValue2 += item2.slots[0].level * 100;\n\t\t\t}\n\t\t\tif (item2.slots.length > 1) {\n\t\t\t\tslotValue2 += item2.slots[1].level * 10;\n\t\t\t}\n\t\t\tif (item2.slots.length > 2) {\n\t\t\t\tslotValue2 += item2.slots[2].level;\n\t\t\t}\n\n\t\t\tif (slotValue1 > slotValue2) {\n\t\t\t\treturn -1;\n\t\t\t} else if (slotValue1 < slotValue2) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tthis.virtualItems = this.filteredItems;\n\t}\n}\n","<div class=\"container\">\n\t<div class=\"search-container\">\n\t\t<input #searchBox (keyup)=\"search($event, searchBox.value)\" placeholder=\"Search names, skills, monster\" />\n\t\t<button type=\"button\" class=\"iceborne-button\" (click)=\"onlyIceborne = !onlyIceborne\" title=\"Only Iceborne\">\n\t\t\t<i class=\"fas fa-toggle-on\" [hidden]=\"!onlyIceborne\"></i>\n\t\t\t<i class=\"fas fa-toggle-off\" [hidden]=\"onlyIceborne\"></i>\n\t\t</button>\n\t\t<button type=\"button\" class=\"sort-button\" (click)=\"showSortContainer=!showSortContainer\">\n\t\t\t<i class=\"fas fa-sort-amount-up\"></i>\n\t\t</button>\n\t\t<button type=\"button\" class=\"filter-button\" (click)=\"showFilterContainer=!showFilterContainer\">\n\t\t\t<i class=\"fas fa-filter\"></i>\n\t\t</button>\n\t\t<button type=\"button\" class=\"clear-button\" (click)=\"resetSearchResults()\">\n\t\t\t<i class=\"fas fa-times\"></i>\n\t\t</button>\n\t</div>\n\n\t<div class=\"filter-container\" *ngIf=\"itemType == 'Weapon' && showFilterContainer\">\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'GreatSword'\"\n\t\t\t(click)=\"weaponFilterClicked('GreatSword')\" title=\"Great Sword\">\n\t\t\t<img src=\"assets/images/weapons/greatsword-icon.png\" alt=\"greatsword\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'SwordAndShield'\"\n\t\t\t(click)=\"weaponFilterClicked('SwordAndShield')\" title=\"Sword and Shield\">\n\t\t\t<img src=\"assets/images/weapons/swordandshield-icon.png\" alt=\"Sword and Shield\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'DualBlades'\"\n\t\t\t(click)=\"weaponFilterClicked('DualBlades')\" title=\"Dual Blades\">\n\t\t\t<img src=\"assets/images/weapons/dualblades-icon.png\" alt=\"Dual Blades\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'LongSword'\"\n\t\t\t(click)=\"weaponFilterClicked('LongSword')\" title=\"Long Sword\">\n\t\t\t<img src=\"assets/images/weapons/longsword-icon.png\" alt=\"Long Sword\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'Hammer'\"\n\t\t\t(click)=\"weaponFilterClicked('Hammer')\" title=\"Hammer\">\n\t\t\t<img src=\"assets/images/weapons/hammer-icon.png\" alt=\"Hammer\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'HuntingHorn'\"\n\t\t\t(click)=\"weaponFilterClicked('HuntingHorn')\" title=\"Hunting Horn\">\n\t\t\t<img src=\"assets/images/weapons/huntinghorn-icon.png\" alt=\"Hunting Horn\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'Lance'\"\n\t\t\t(click)=\"weaponFilterClicked('Lance')\" title=\"Lance\">\n\t\t\t<img src=\"assets/images/weapons/lance-icon.png\" alt=\"Lance\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'Gunlance'\"\n\t\t\t(click)=\"weaponFilterClicked('Gunlance')\" title=\"Gunlance\">\n\t\t\t<img src=\"assets/images/weapons/gunlance-icon.png\" alt=\"Gunlance\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'SwitchAxe'\"\n\t\t\t(click)=\"weaponFilterClicked('SwitchAxe')\" title=\"Switch Axe\">\n\t\t\t<img src=\"assets/images/weapons/switchaxe-icon.png\" alt=\"Switch Axe\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'ChargeBlade'\"\n\t\t\t(click)=\"weaponFilterClicked('ChargeBlade')\" title=\"Charge Blade\">\n\t\t\t<img src=\"assets/images/weapons/chargeblade-icon.png\" alt=\"Charge Blade\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'InsectGlaive'\"\n\t\t\t(click)=\"weaponFilterClicked('InsectGlaive')\" title=\"Insect Glaive\">\n\t\t\t<img src=\"assets/images/weapons/insectglaive-icon.png\" alt=\"Insect Glaive\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'Bow'\"\n\t\t\t(click)=\"weaponFilterClicked('Bow')\" title=\"Bow\">\n\t\t\t<img src=\"assets/images/weapons/bow-icon.png\" alt=\"Bow\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'LightBowgun'\"\n\t\t\t(click)=\"weaponFilterClicked('LightBowgun')\" title=\"Light Bowgun\">\n\t\t\t<img src=\"assets/images/weapons/lightbowgun-icon.png\" alt=\"LBG\">\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-filter\" [class.selected]=\"weaponTypeFilter == 'HeavyBowgun'\"\n\t\t\t(click)=\"weaponFilterClicked('HeavyBowgun')\" title=\"Heavy Bowgun\">\n\t\t\t<img src=\"assets/images/weapons/heavybowgun-icon.png\" alt=\"HBG\">\n\t\t</button>\n\t</div>\n\n\t<div class=\"sort-container\" *ngIf=\"showSortContainer\">\n\t\t<button type=\"button\" class=\"weapon-sort\" [class.selected]=\"weaponTypeSort == 'ATK'\"\n\t\t\t(click)=\"weaponSortByAttack()\">\n\t\t\t<!--<img src=\"assets/images/attack-icon.png\" />-->\n\t\t\t<span>ATK</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-sort\" [class.selected]=\"weaponTypeSort == 'AFN'\"\n\t\t\t(click)=\"weaponSortByAffinity()\">\n\t\t\t<!--<img src=\"assets/images/affinity-icon.png\" />-->\n\t\t\t<span>AFN</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-sort\" [class.selected]=\"weaponTypeSort == 'AIL'\"\n\t\t\t(click)=\"weaponSortByAilment()\">\n\t\t\t<span>AIL</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-sort\" [class.selected]=\"weaponTypeSort == 'ELE'\"\n\t\t\t(click)=\"weaponSortByElement()\">\n\t\t\t<span>ELE</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-sort\" [class.selected]=\"weaponTypeSort == 'DEF'\"\n\t\t\t(click)=\"weaponSortByDefense()\">\n\t\t\t<span>DEF</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-sort\" [class.selected]=\"weaponTypeSort == 'SHARP'\"\n\t\t\t(click)=\"weaponSortBySharpness()\">\n\t\t\t<span>SHARP</span>\n\t\t</button>\n\t\t<button type=\"button\" class=\"weapon-sort\" [class.selected]=\"weaponTypeSort == 'SLOT'\"\n\t\t\t(click)=\"weaponSortBySlots()\">\n\t\t\t<span>SLOT</span>\n\t\t</button>\n\t</div>\n\n\t<virtual-scroller id=\"items-list\" #itemList class=\"scroll-container\" *ngIf=\"items\" [items]=\"filteredItems\"\n\t\t(vsUpdate)=\"onItemListUpdate($event)\" [enableUnequalChildrenSizes]=\"true\" [bufferAmount]=\"10\">\n\t\t<div *ngFor=\"let item of virtualItems\" class=\"scroll-item-container\" (click)=\"selectItem(item)\">\n\t\t\t<div class=\"name-container\">\n\t\t\t\t<div class=\"name\" [ngClass]=\"'vColor-'+ item.vColor\">\n\t\t\t\t\t{{item.name}}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"upgrade\" *ngIf=\"item.upgradeType==1\">\n\t\t\t\t\t<img src=\"assets/images/custom-upgrade.png\" alt=\"upgrade\" />\n\t\t\t\t</div>\n\t\t\t\t<div class=\"slots\" *ngIf=\"item.slots.length > 0\">\n\t\t\t\t\t<div *ngIf=\"item.slots[0]?.level\">\n\t\t\t\t\t\t<img [src]=\"'assets/images/decorations/' + item?.slots[0]?.level + '-0.png'\" alt=\"slot\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div *ngIf=\"item.slots[1]?.level\">\n\t\t\t\t\t\t<img [src]=\"'assets/images/decorations/' + item?.slots[1]?.level + '-0.png'\" alt=\"slot\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div *ngIf=\"item.slots[2]?.level\">\n\t\t\t\t\t\t<img [src]=\"'assets/images/decorations/' + item?.slots[2]?.level + '-0.png'\" alt=\"slot\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"type\">\n\t\t\t\t\t<span *ngIf=\"item.equipmentCategory == equipmentCategoryType.Armor\">{{item.itemType}}</span>\n\t\t\t\t\t<img *ngIf=\"item.equipmentCategory == equipmentCategoryType.Weapon\"\n\t\t\t\t\t\t[src]=\"'assets/images/weapons/' + dataService.getWeaponTypeIcon(item.weaponType) + '-icon.png'\"\n\t\t\t\t\t\talt=\"weapon\" />\n\t\t\t\t\t<span class=\"typeName\"\n\t\t\t\t\t\t*ngIf=\"item.equipmentCategory == equipmentCategoryType.Weapon\">{{dataService.getWeaponTypeName(item.weaponType)}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"rarity\" *ngIf=\"item.rarity\" [ngClass]=\"'rarity-'+item?.rarity\">\n\t\t\t\t\t<span class=\"r1\">Rarity </span><span class=\"r2\">R</span>{{item.rarity}}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"stats-container\">\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/attack-icon.png\" alt=\"attack\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{item.baseAttack}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/affinity-icon.png\" alt=\"affinity\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\" [class.red]=\"item.baseAffinityPercent < 0\">{{item.baseAffinityPercent}}%\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"monsters-container\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/defense-icon.png\" alt=\"defense\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{item.defense}}</div>\n\t\t\t\t\t<div class=\"monster-icon\" *ngFor=\"let monster of item.monsters\">\n\t\t\t\t\t\t<img [src]=\"getMonsterIcon(monster, item)\" [alt]=\"monster\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<span>{{monster}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\" *ngIf=\"item.ailment\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img [src]=\"getAilmentIcon(item)\" alt=\"ailment\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\" [style.color]=\"item.ailmentHidden ? 'gray' : 'white'\">\n\t\t\t\t\t\t{{item.ailmentBaseAttack}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\" *ngIf=\"item.element\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img [src]=\"getElementIcon(item)\" alt=\"element\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\" [style.color]=\"item.elementHidden ? 'gray' : 'white'\">\n\t\t\t\t\t\t{{item.elementBaseAttack}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\" *ngIf=\"item.sharpnessLevelsBar.length > 1 && !item.sharpnessDataNeeded\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/sharpness3-icon.png\" alt=\"sharpness\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\" [ngClass]=\"['sharp-' + item.sharpnessMaxColorIndex]\">\n\t\t\t\t\t\t{{item.sharpnessMaxLevel * 10}} <i class=\"fas fa-circle fa-sm\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\" *ngIf=\"item.ammoCapacities?.deviation\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/deviation-icon.png\" alt=\"deviation\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{item.ammoCapacities.deviation[0]}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\" *ngIf=\"item.ammoCapacities?.specialAmmo\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/special-ammo-icon.png\" alt=\"special ammo\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{item.ammoCapacities.specialAmmo}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\" *ngIf=\"item.weaponType=='Gunlance'\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img src=\"assets/images/special-ammo-icon.png\" alt=\"special ammo\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{item.otherData[0].value}}-{{item.otherData[0].data}}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\" *ngIf=\"item.weaponType=='InsectGlaive'\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img [src]=\"'assets/images/dust-effect-icon.png'\" alt=\"boost\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">\n\t\t\t\t\t\t{{item.otherData[0].value}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\" *ngIf=\"item.weaponType=='SwitchAxe' || item.weaponType=='ChargeBlade'\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img [src]=\"'assets/images/phials/phial-' + item.otherData[0].value + '.png'\" alt=\"phial\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">\n\t\t\t\t\t\t{{item.otherData[0].value}}\n\t\t\t\t\t\t<span *ngIf=\"item.otherData[0] && item.otherData[0].data\">- {{item.otherData[0].data}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"coats-container\" *ngIf=\"item.weaponType=='Bow'\">\n\t\t\t\t\t<div class=\"icon-container\" *ngFor=\"let phial of item.otherData\">\n\t\t\t\t\t\t<img [src]=\"'assets/images/phials/phial-' + phial.value + '.png'\" alt=\"coat\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"stat-container\" *ngIf=\"item.elderseal\">\n\t\t\t\t\t<div class=\"icon-container\">\n\t\t\t\t\t\t<img *ngIf=\"item.elderseal\" src=\"assets/images/elderseal.png\" alt=\"elderseal\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"stat-value\">{{item.elderseal}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"skills-container\">\n\t\t\t\t<div class=\"skill-container\" *ngFor=\"let skill of dataService.getSkills(item.skills)\">\n\t\t\t\t\t<div class=\"count\">\n\t\t\t\t\t\t{{getSkillCount(item, skill)}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"name\">\n\t\t\t\t\t\t{{skill.name}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</virtual-scroller>\n</div>","import { NgModule } from '@angular/core';\nimport { AmmoCapacitiesLoader } from './loaders/ammo-capacities.loader';\nimport { ArmorLoader } from './loaders/armor.loader';\nimport { AugmentationsLoader } from './loaders/augmentations.loader';\nimport { AwakeningsLoader } from './loaders/awakenings.loader';\nimport { CharmsLoader } from './loaders/charms.loader';\nimport { DecorationsLoader } from './loaders/decorations.loader';\nimport { KinsectsLoader } from './loaders/kinsects.loader';\nimport { MelodiesLoader } from './loaders/melodies.loader';\nimport { MelodyEffectLoader } from './loaders/melodyEffect.loader';\nimport { ModificationsLoader } from './loaders/modifications.loader';\nimport { SetBonusesLoader } from './loaders/set-bonuses.loader';\nimport { SharpnessModifiersLoader } from './loaders/sharpness-modifiers.loader';\nimport { SkillsLoader } from './loaders/skills.loader';\nimport { ToolsLoader } from './loaders/tools.loader';\nimport { UpgradesLoader } from './loaders/upgrades.loader';\nimport { WeaponModifiersLoader } from './loaders/weapon-modifiers.loader';\nimport { WeaponsLoader } from './loaders/weapons.loader';\n\n@NgModule({\n\tproviders: [\n\t\tWeaponsLoader,\n\t\tArmorLoader,\n\t\tCharmsLoader,\n\t\tDecorationsLoader,\n\t\tAugmentationsLoader,\n\t\tModificationsLoader,\n\t\tKinsectsLoader,\n\t\tSkillsLoader,\n\t\tSetBonusesLoader,\n\t\tSharpnessModifiersLoader,\n\t\tWeaponModifiersLoader,\n\t\tAmmoCapacitiesLoader,\n\t\tMelodiesLoader,\n\t\tMelodyEffectLoader,\n\t\tToolsLoader,\n\t\tUpgradesLoader,\n\t\tAwakeningsLoader\n\t],\n})\nexport class DataModule { }\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { AmmoCapacitiesModel } from '../../models/ammo-capacities.model';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class AmmoCapacitiesLoader extends DataLoader<AmmoCapacitiesModel> {\n\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport * as _ from 'lodash';\nimport { ItemModel } from '../../models/item.model';\nimport { EquipmentCategoryType } from '../../types/equipment-category.type';\nimport { SkillReferencesParser } from '../parsers/skill-references.parser';\nimport { SlotsParser } from '../parsers/slots.parser';\nimport { TagsParser } from '../parsers/tags.parser';\nimport { ValuesParser } from '../parsers/values.parser';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class ArmorLoader extends DataLoader<ItemModel> {\n\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n\n\tprotected parse(content: string): ItemModel[] {\n\t\tconst items = this.parseTextContent(content, [\n\t\t\t{\n\t\t\t\tcolumnName: 'defense',\n\t\t\t\tparser: new ValuesParser()\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolumnName: 'slots',\n\t\t\t\tparser: new SlotsParser()\n\t\t\t}\n\t\t\t,\n\t\t\t{\n\t\t\t\tcolumnName: 'tags',\n\t\t\t\tparser: new TagsParser()\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolumnName: 'skills',\n\t\t\t\tparser: new SkillReferencesParser()\n\t\t\t},\n\t\t]);\n\n\t\t_.each(items, item => {\n\t\t\titem.equipmentCategory = EquipmentCategoryType.Armor;\n\t\t});\n\t\treturn items;\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { AugmentationModel } from '../../models/augmentation.model';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class AugmentationsLoader extends DataLoader<AugmentationModel> {\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { AwakeningModel } from '../../models/awakening.model';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class AwakeningsLoader extends DataLoader<AwakeningModel> {\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport * as _ from 'lodash';\nimport { ItemModel } from '../../models/item.model';\nimport { EquipmentCategoryType } from '../../types/equipment-category.type';\nimport { ItemType } from '../../types/item.type';\nimport { SkillReferencesParser } from '../parsers/skill-references.parser';\nimport { SlotsParser } from '../parsers/slots.parser';\nimport { TagsParser } from '../parsers/tags.parser';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class CharmsLoader extends DataLoader<ItemModel> {\n\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n\n\tprotected parse(content: string): ItemModel[] {\n\t\tconst items = this.parseTextContent(content, [\n\t\t\t{\n\t\t\t\tcolumnName: 'slots',\n\t\t\t\tparser: new SlotsParser()\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolumnName: 'tags',\n\t\t\t\tparser: new TagsParser()\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolumnName: 'skills',\n\t\t\t\tparser: new SkillReferencesParser()\n\t\t\t},\n\t\t]);\n\n\t\t_.each(items, charm => {\n\t\t\tcharm.itemType = ItemType.Charm;\n\t\t\tcharm.equipmentCategory = EquipmentCategoryType.Charm;\n\t\t});\n\n\t\treturn items;\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport * as ld from 'lodash';\nimport { forkJoin, Observable, Observer, of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { ColumnParser } from '../models/column-parser.model';\n\n@Injectable()\nexport abstract class DataLoader<T> {\n\treadonly defaultLocale = 'en-US';\n\treadonly delimeter = '\\t';\n\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) { }\n\n\tprotected parse(_: string): T[] {\n\t\tthrow new Error('not implemented');\n\t}\n\n\tpublic load(resourceName: string, withLocale: boolean = true): Observable<T[]> {\n\t\tlet result: Observable<T[]>;\n\n\t\tconst ext = resourceName.split('.').pop();\n\t\tif (ext.toLowerCase() === 'json') {\n\t\t\tresult = new Observable((observer: Observer<T[]>) => {\n\t\t\t\tforkJoin(\n\t\t\t\t\tthis.getResources(resourceName, true, withLocale)\n\t\t\t\t).subscribe(results => {\n\t\t\t\t\tconst items = ld.map(results[0], r => {\n\t\t\t\t\t\tconst txVal = ld.find(results[1], { id: r.id });\n\t\t\t\t\t\tconst newVal = ld.assignIn(r, txVal);\n\t\t\t\t\t\treturn newVal;\n\t\t\t\t\t});\n\t\t\t\t\tobserver.next(items);\n\t\t\t\t\tobserver.complete();\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tresult = new Observable((observer: Observer<T[]>) => {\n\t\t\t\tforkJoin(\n\t\t\t\t\tthis.getResources(resourceName, false, withLocale)\n\t\t\t\t).subscribe(results => {\n\t\t\t\t\tconst data = this.parse(results[0]);\n\t\t\t\t\tconst localeData = results[1] ? this.parse(results[1]) : null;\n\t\t\t\t\tconst items = ld.map(data, r => ld.assignIn(r, ld.find(localeData, { id: (r as any).id })));\n\t\t\t\t\tobserver.next(items);\n\t\t\t\t\tobserver.complete();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate getResources(resourceName: string, json: boolean, withLocale: boolean): Observable<any>[] {\n\t\tconst resources: Observable<any>[] = [];\n\t\tconst locale = this.getLocale();\n\n\t\tif (json) {\n\t\t\tresources.push(this.loadJsonResource(resourceName, false));\n\t\t\tif (withLocale && locale !== this.defaultLocale) {\n\t\t\t\tresources.push(this.loadJsonResource(resourceName, true));\n\t\t\t}\n\t\t} else {\n\t\t\tresources.push(this.loadTextResource(resourceName, false));\n\t\t\tif (withLocale && locale !== this.defaultLocale) {\n\t\t\t\tresources.push(this.loadTextResource(resourceName, true));\n\t\t\t}\n\t\t}\n\n\t\treturn resources;\n\t}\n\n\tprivate loadJsonResource(resourceName: string, fromLocale: boolean): Observable<T[]> {\n\t\treturn this.http.get<T[]>(this.getPath(resourceName, fromLocale)).pipe(\n\t\t\tcatchError(() => {\n\t\t\t\treturn of(null);\n\t\t\t})\n\t\t);\n\t}\n\n\tprivate loadTextResource(resourceName: string, fromLocale: boolean): Observable<string> {\n\t\treturn this.http.get(this.getPath(resourceName, fromLocale), { responseType: 'text' }).pipe(\n\t\t\tcatchError(() => {\n\t\t\t\treturn of(null);\n\t\t\t})\n\t\t);\n\t}\n\n\tprivate getPath(resourceName: string, fromLocale: boolean): string {\n\t\tlet path: string;\n\t\tconst locale = this.getLocale();\n\t\tif (fromLocale) {\n\t\t\tpath = `./assets/${locale}/${resourceName}`;\n\t\t} else {\n\t\t\tpath = `./assets/${resourceName}`;\n\t\t}\n\t\treturn path;\n\t}\n\n\tprivate getLocale(): string {\n\t\tlet locale = localStorage.getItem('locale');\n\t\tif (!locale) {\n\t\t\tlocale = navigator.languages[0];\n\t\t\tlocalStorage.setItem('locale', locale);\n\t\t}\n\n\t\treturn locale;\n\t}\n\n\tprotected parseTextContent(content: string, columnParsers: ColumnParser[] = []): T[] {\n\t\tconst result: Array<T> = [];\n\t\tconst rows = content.split('\\n');\n\t\tconst headerColumns = rows[0].split(this.delimeter);\n\n\t\tfor (let i = 1; i < rows.length; i++) {\n\t\t\tconst row = rows[i];\n\t\t\tconst rowValues = row.split(this.delimeter);\n\t\t\tconst item: any = {};\n\n\t\t\tfor (let j = 0; j < rowValues.length; j++) {\n\t\t\t\tconst columnHeader = headerColumns[j];\n\t\t\t\tconst rowValue = rowValues[j];\n\n\t\t\t\tconst columnParser = ld.find(columnParsers, p => p.columnName == columnHeader);\n\t\t\t\tif (columnParser) {\n\t\t\t\t\titem[columnHeader] = columnParser.parser.parse(rowValue);\n\t\t\t\t} else if (rowValue) {\n\t\t\t\t\tif (!Number.isNaN(Number(rowValue)) && rowValue != '') {\n\t\t\t\t\t\titem[columnHeader] = Number(rowValue);\n\t\t\t\t\t} else if (rowValue.toLowerCase() === 'true' || rowValue.toLowerCase() === 'false') {\n\t\t\t\t\t\titem[columnHeader] = rowValue === 'true';\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem[columnHeader] = rowValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult.push(item);\n\t\t}\n\n\t\treturn result;\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { ItemModel } from '../../models/item.model';\nimport { SkillReferencesParser } from '../parsers/skill-references.parser';\nimport { DataLoader } from './data.loader';\nimport { DecorationModel } from 'src/app/models/decoration.model';\n\n@Injectable()\nexport class DecorationsLoader extends DataLoader<DecorationModel> {\n\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n\n\tprotected parse(content: string): DecorationModel[] {\n\t\treturn this.parseTextContent(content, [\n\t\t\t{\n\t\t\t\tcolumnName: 'skills',\n\t\t\t\tparser: new SkillReferencesParser()\n\t\t\t},\n\t\t]);\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { KinsectModel } from '../../models/kinsect.model';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class KinsectsLoader extends DataLoader<KinsectModel> {\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n\n\tprotected parse(content: string): KinsectModel[] {\n\t\treturn this.parseTextContent(content);\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { MelodiesModel } from '../../models/melodies.model';\nimport { MelodiesEffectParser } from '../parsers/melodies-effect.parser';\nimport { MelodiesParser } from '../parsers/melodies.parser';\nimport { TagsParser } from '../parsers/tags.parser';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class MelodiesLoader extends DataLoader<MelodiesModel> {\n\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n\n\tprotected parse(content: string): MelodiesModel[] {\n\t\tconst melodies = this.parseTextContent(content, [\n\t\t\t{\n\t\t\t\tcolumnName: 'notes',\n\t\t\t\tparser: new TagsParser()\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolumnName: 'melodies',\n\t\t\t\tparser: new MelodiesParser()\n\t\t\t}\n\t\t\t,\n\t\t\t{\n\t\t\t\tcolumnName: 'melodiesEffect',\n\t\t\t\tparser: new MelodiesEffectParser()\n\t\t\t}\n\t\t]);\n\n\t\treturn melodies;\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { MelodyEffectModel } from '../../models/melody-effect.model';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class MelodyEffectLoader extends DataLoader<MelodyEffectModel> {\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n\n\tprotected parse(content: string): MelodyEffectModel[] {\n\t\tconst melodyEffect = this.parseTextContent(content, []);\n\n\t\treturn melodyEffect;\n\t}\n}\n\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { ModificationModel } from '../../models/modification.model';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class ModificationsLoader extends DataLoader<ModificationModel> {\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { SetBonusModel } from '../../models/set-bonus.model';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class SetBonusesLoader extends DataLoader<SetBonusModel> {\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { SharpnessModifierModel } from '../../models/sharpness-modifier.model';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class SharpnessModifiersLoader extends DataLoader<SharpnessModifierModel> {\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { SkillModel } from '../../models/skill.model';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class SkillsLoader extends DataLoader<SkillModel> {\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport * as _ from 'lodash';\nimport { ToolModel } from '../../models/tool.model';\nimport { EquipmentCategoryType } from '../../types/equipment-category.type';\nimport { SlotsParser } from '../parsers/slots.parser';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class ToolsLoader extends DataLoader<ToolModel> {\n\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n\n\tprotected parse(content: string): ToolModel[] {\n\t\tconst items = this.parseTextContent(content, [\n\t\t\t{\n\t\t\t\tcolumnName: 'slots',\n\t\t\t\tparser: new SlotsParser()\n\t\t\t}\n\t\t]);\n\t\t_.each(items, tool => {\n\t\t\ttool.equipmentCategory = EquipmentCategoryType.Tool;\n\t\t});\n\t\treturn items;\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { UpgradeModel } from '../../models/upgrade.model';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class UpgradesLoader extends DataLoader<UpgradeModel> {\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { WeaponModifierModel } from '../../models/weapon-modifier.model';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class WeaponModifiersLoader extends DataLoader<WeaponModifierModel> {\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport * as _ from 'lodash';\nimport { ItemModel } from '../../models/item.model';\nimport { EquipmentCategoryType } from '../../types/equipment-category.type';\nimport { ItemType } from '../../types/item.type';\nimport { OtherDataParser } from '../parsers/other-data.parser';\nimport { SkillReferencesParser } from '../parsers/skill-references.parser';\nimport { SlotsParser } from '../parsers/slots.parser';\nimport { TagsParser } from '../parsers/tags.parser';\nimport { ValuesParser } from '../parsers/values.parser';\nimport { DataLoader } from './data.loader';\n\n@Injectable()\nexport class WeaponsLoader extends DataLoader<ItemModel> {\n\n\tconstructor(\n\t\tprotected http: HttpClient\n\t) {\n\t\tsuper(http);\n\t}\n\n\tprotected parse(content: string): ItemModel[] {\n\t\tconst items = this.parseTextContent(content, [\n\t\t\t{\n\t\t\t\tcolumnName: 'defense',\n\t\t\t\tparser: new ValuesParser()\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolumnName: 'slots',\n\t\t\t\tparser: new SlotsParser()\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolumnName: 'sharpnessLevelsBar',\n\t\t\t\tparser: new ValuesParser()\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolumnName: 'monsters',\n\t\t\t\tparser: new TagsParser()\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolumnName: 'tags',\n\t\t\t\tparser: new TagsParser()\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolumnName: 'skills',\n\t\t\t\tparser: new SkillReferencesParser()\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolumnName: 'otherData',\n\t\t\t\tparser: new OtherDataParser()\n\t\t\t}\n\t\t]);\n\n\t\titems.forEach(item => {\n\t\t\titem.equipmentCategory = EquipmentCategoryType.Weapon;\n\t\t\titem.itemType = ItemType.Weapon;\n\t\t\tif (item.sharpnessLevelsBar && !isNaN(item.sharpnessLevelsBar[0])) {\n\t\t\t\tconst total = item.sharpnessLevelsBar.reduce((a, b) => a + b, 0);\n\t\t\t\tconst over = total - 40;\n\t\t\t\tfor (let i = item.sharpnessLevelsBar.length - 1; i >= 0; i--) {\n\t\t\t\t\tconst level = item.sharpnessLevelsBar[i];\n\t\t\t\t\tif (level > 0) {\n\t\t\t\t\t\titem.sharpnessMaxLevel = level - over;\n\t\t\t\t\t\titem.sharpnessMaxColorIndex = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn items;\n\t}\n}\n","export abstract class DataParser<T> {\n\tabstract parse(data: string): T[];\n}\n","import { MelodyEffectModel } from '../../models/melody-effect.model';\nimport { DataParser } from './data-parser';\n\nexport class MelodiesEffectParser extends DataParser<MelodyEffectModel> {\n\tparse(data: string): MelodyEffectModel[] {\n\t\tconst effects = data.split(';');\n\t\tconst melodiesEffect: MelodyEffectModel[] = [];\n\t\tlet count = 0;\n\t\tfor (const effect of effects) {\n\t\t\tconst melodies = effect.split('+');\n\n\t\t\tfor (const melody of melodies) {\n\t\t\t\tconst values = melody.split('-');\n\t\t\t\tmelodiesEffect.push({\n\t\t\t\t\tid: values[0],\n\t\t\t\t\tlevel: values.length == 2 ? values[1] : null,\n\t\t\t\t\tindex: count\n\t\t\t\t});\n\t\t\t}\n\t\t\tcount += 1;\n\t\t}\n\t\treturn melodiesEffect;\n\t}\n}\n","import { DataParser } from './data-parser';\n\nexport class MelodiesParser extends DataParser<number[]> {\n\tparse(data: string): number[][] {\n\t\tconst result = [];\n\t\tconst melodies = data.split('|');\n\t\tfor (let i = 0; i < melodies.length; i++) {\n\t\t\tconst notes = melodies[i].split(';');\n\t\t\tconst aux = [];\n\t\t\tfor (let j = 0; j < notes.length; j++) {\n\t\t\t\taux.push(parseInt(notes[j], 10));\n\t\t\t}\n\t\t\tresult.push(aux);\n\t\t}\n\t\treturn result;\n\t}\n}\n","import { OtherDataModel } from '../../models/other-data.model';\nimport { DataParser } from './data-parser';\n\nexport class OtherDataParser extends DataParser<OtherDataModel> {\n\tparse(data: string): OtherDataModel[] {\n\t\tconst values = data.split(';');\n\t\tconst otherLevels: OtherDataModel[] = [];\n\t\tfor (const value of values) {\n\t\t\tconst parts = value.split('-');\n\t\t\totherLevels.push({\n\t\t\t\tvalue: parts[0],\n\t\t\t\tdata: parts.length == 2 ? parseInt(parts[1], 10) : null\n\t\t\t});\n\t\t}\n\t\treturn otherLevels;\n\t}\n}\n","import { SkillReferenceModel } from '../../models/skill-reference.model';\nimport { DataParser } from './data-parser';\n\nexport class SkillReferencesParser extends DataParser<SkillReferenceModel> {\n\tparse(data: string): SkillReferenceModel[] {\n\t\tconst values = data.split(';');\n\t\tconst skillRefs: SkillReferenceModel[] = [];\n\t\tif (data) {\n\t\t\tfor (const skill of values) {\n\t\t\t\tconst parts = skill.split('-');\n\t\t\t\tskillRefs.push({\n\t\t\t\t\tid: parts[0],\n\t\t\t\t\tlevel: parts.length > 1 ? Number(parts[1]) : null\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn skillRefs;\n\t}\n}\n","import { SlotModel } from '../../models/slot.model';\nimport { DataParser } from './data-parser';\nimport * as _ from 'lodash';\n\nexport class SlotsParser extends DataParser<SlotModel> {\n\tparse(data: string): SlotModel[] {\n\t\tconst values = data.split(';');\n\t\tconst slots: SlotModel[] = [];\n\t\tfor (const item of _.filter(values, v => v)) {\n\t\t\tslots.push({\n\t\t\t\tlevel: Number(item),\n\t\t\t});\n\t\t}\n\t\treturn slots;\n\t}\n}\n","import { DataParser } from './data-parser';\n\nexport class TagsParser extends DataParser<string> {\n\tparse(data: string): string[] {\n\t\treturn data.split(';');\n\t}\n}\n","import { DataParser } from './data-parser';\n\nexport class ValuesParser extends DataParser<number> {\n\tparse(data: string): number[] {\n\t\tconst result = [];\n\t\tconst aux = data.split(';');\n\t\tfor (let i = 0; i < aux.length; i++) {\n\t\t\tresult.push(parseInt(aux[i], 10));\n\t\t}\n\t\treturn result;\n\t}\n}\n","import { AmmoType } from '../types/ammo.type';\nimport { DeviationType } from '../types/deviation.type';\nimport { SpecialAmmoType } from '../types/special-ammo.type';\n\nexport class AmmoCapacitiesModel {\n\tid: number;\n\tdeviation: DeviationType[];\n\tspecialAmmo: SpecialAmmoType;\n\tammo: AmmoTypeModel[];\n\tmissingData: boolean;\n\tmissingMods: boolean;\n}\n\nexport class AmmoTypeModel {\n\tname: AmmoType;\n\tlevels: AmmoLevelModel[];\n}\n\nexport class AmmoLevelModel {\n\tcapacity: number;\n\ttype: number;\n\trecoil: number[];\n\treload: number[];\n}\n","import { AmmoCapacitiesModel } from './ammo-capacities.model';\nimport { AugmentationModel } from './augmentation.model';\nimport { AwakeningModel } from './awakening.model';\nimport { DecorationModel } from './decoration.model';\nimport { ItemModel } from './item.model';\nimport { KinsectModel } from './kinsect.model';\nimport { MelodiesModel } from './melodies.model';\nimport { MelodyEffectModel } from './melody-effect.model';\nimport { ModificationModel } from './modification.model';\nimport { SetBonusModel } from './set-bonus.model';\nimport { SharpnessModifierModel } from './sharpness-modifier.model';\nimport { SkillModel } from './skill.model';\nimport { ToolModel } from './tool.model';\nimport { UpgradeModel } from './upgrade.model';\nimport { WeaponModifierModel } from './weapon-modifier.model';\n\nexport class AppDataModel {\n\tweaponModifiers: WeaponModifierModel[];\n\tsharpnessModifiers: SharpnessModifierModel[];\n\tweapons: ItemModel[];\n\tarmors: ItemModel[];\n\tcharms: ItemModel[];\n\ttools: ToolModel[];\n\tsetBonuses: SetBonusModel[];\n\tskills: SkillModel[];\n\tdecorations: DecorationModel[];\n\taugmentations: AugmentationModel[];\n\tmodifications: ModificationModel[];\n\tkinsects: KinsectModel[];\n\tammoCapacities: AmmoCapacitiesModel[];\n\tmelodies: MelodiesModel[];\n\tmelodyEffect: MelodyEffectModel[];\n\tupgrades: UpgradeModel[];\n\tawakenings: AwakeningModel[];\n\n\tconstructor() {\n\t\tthis.weaponModifiers = new Array<WeaponModifierModel>();\n\t\tthis.sharpnessModifiers = new Array<SharpnessModifierModel>();\n\t\tthis.weapons = new Array<ItemModel>();\n\t\tthis.armors = new Array<ItemModel>();\n\t\tthis.charms = new Array<ItemModel>();\n\t\tthis.setBonuses = new Array<SetBonusModel>();\n\t\tthis.skills = new Array<SkillModel>();\n\t\tthis.decorations = new Array<DecorationModel>();\n\t\tthis.augmentations = new Array<AugmentationModel>();\n\t\tthis.modifications = new Array<ModificationModel>();\n\t\tthis.kinsects = new Array<KinsectModel>();\n\t\tthis.ammoCapacities = new Array<AmmoCapacitiesModel>();\n\t\tthis.melodies = new Array<MelodiesModel>();\n\t\tthis.melodyEffect = new Array<MelodyEffectModel>();\n\t\tthis.tools = new Array<ToolModel>();\n\t\tthis.upgrades = new Array<UpgradeModel>();\n\t\tthis.awakenings = new Array<AwakeningModel>();\n\t}\n}\n","import { AugmentationLevelModel } from './augmentation-level.model';\n\nexport class AugmentationModel {\n\tid: number;\n\tcode: string;\n\tname: string;\n\tdescription: string;\n\tlevels: AugmentationLevelModel[];\n}\n","import { AwakeningType } from '../types/awakening.type';\n\nexport class AwakeningLevelModel {\n\tid: number;\n\ttype: AwakeningType;\n\tname: string;\n\tshort?: string;\n\tlevel: number;\n\tminLevel: number;\n\tmaxLevel: number;\n\n\tconstructor() {\n\t\tthis.id = 0;\n\t\tthis.type = AwakeningType.None;\n\t\tthis.name = 'None';\n\t\tthis.short = 'None';\n\t\tthis.level = 0;\n\t\tthis.minLevel = 1;\n\t\tthis.maxLevel = 6;\n\t}\n}\n","\nexport class BuffModel {\n\tattackBuff: number;\n\tdeffenseBuff: number;\n\telementBuff: number;\n\n\tconstructor() {\n\t\tthis.attackBuff = 0;\n\t\tthis.deffenseBuff = 0;\n\t\tthis.elementBuff = 0;\n\t}\n}\n","export class BuildModel {\n\tweapon: BuildItemModel;\n\thead: BuildItemModel;\n\tchest: BuildItemModel;\n\thands: BuildItemModel;\n\tlegs: BuildItemModel;\n\tfeet: BuildItemModel;\n\tcharm: BuildItemModel;\n\ttool1: BuildItemModel;\n\ttool2: BuildItemModel;\n}\n\nexport class BuildItemModel {\n\titemId: number;\n\tkinsectId?: number;\n\tkinsectElementId?: number;\n\tdecorationIds?: number[];\n\taugmentationIds?: number[];\n\tupgradeLevels?: number[];\n\tcustomLevelIds?: number[];\n\tawakenings?: number[][];\n\tsetbonusId?: number;\n\tlevel?: number;\n\tmodificationIds: number[];\n\n\telementId?: number;\n\tailmentId?: number;\n}\n","import { SkillReferenceModel } from './skill-reference.model';\n\nexport class CommonModel {\n\tid: number;\n\tcode: string;\n\tname: string;\n\tdescription: string;\n\tlevels: CommonLevelModel[];\n}\n\nexport class CommonLevelModel {\n\tdescription: string;\n\tskills: SkillReferenceModel[];\n}\n","import { ItemType } from '../types/item.type';\nimport { SkillReferenceModel } from './skill-reference.model';\n\nexport class DecorationModel {\n\tid: number;\n\tname: string;\n\tlevel: number;\n\trarity: number;\n\tpriority: number;\n\tskills: SkillReferenceModel[];\n\n\titemId: number;\n\titemType: ItemType;\n\tactive: boolean;\n}\n","import { ModeType } from '../types/mode.type';\nimport { SkillModel } from './skill.model';\n\nexport class EquippedSetBonusModel {\n\tid: string;\n\tname: string;\n\tequippedCount: number;\n\tdetails: EquippedSetBonusDetailModel[];\n\n\tweaponCount: number;\n\theadCount: number;\n\tchestCount: number;\n\tarmsCount: number;\n\twaistCount: number;\n\tlegsCount: number;\n\n\tconstructor() {\n\t\tthis.weaponCount = 0;\n\t\tthis.headCount = 0;\n\t\tthis.chestCount = 0;\n\t\tthis.armsCount = 0;\n\t\tthis.waistCount = 0;\n\t\tthis.legsCount = 0;\n\t}\n}\nexport class EquippedSetBonusDetailModel {\n\trequiredCount: number;\n\tskill: SkillModel;\n\tmode: ModeType;\n\n\tconstructor() {\n\t\tthis.mode = ModeType.Active;\n\t}\n}\n\n","import { SkillModel } from './skill.model';\n\nexport class EquippedSkillModel {\n\tskill: SkillModel;\n\tid: string;\n\tname: string;\n\tdescription: string;\n\tequippedArmorCount: number;\n\tequippedTool1Count: number;\n\tequippedTool2Count: number;\n\tequippedToolActiveCount: number;\n\tequippedCount: number;\n\tsecretLevelCount: number;\n\ttotalLevelCount: number;\n\n\tweaponCount: number; // Weapon\n\theadCount: number; // Helm\n\tchestCount: number; // Chest\n\tarmsCount: number; // Arms\n\twaistCount: number; // Waist\n\tlegsCount: number; // Legs\n\tcharmCount: number; // Charm\n\ttoolCount: number; // Tool\n\n\tisSetBonus: boolean;\n\tisNatureBonus: boolean;\n\trequiredCount?: number;\n\n\thasActiveStats?: boolean;\n\n\tconstructor() {\n\t\tthis.weaponCount = 0;\n\t\tthis.headCount = 0;\n\t\tthis.chestCount = 0;\n\t\tthis.armsCount = 0;\n\t\tthis.waistCount = 0;\n\t\tthis.legsCount = 0;\n\t\tthis.charmCount = 0;\n\t\tthis.toolCount = 0;\n\n\t\tthis.equippedArmorCount = 0;\n\t\tthis.equippedTool1Count = 0;\n\t\tthis.equippedTool2Count = 0;\n\t\tthis.equippedToolActiveCount = 0;\n\t\tthis.equippedCount = 0;\n\n\t\tthis.secretLevelCount = 0;\n\n\t\tthis.isSetBonus = false;\n\t\tthis.isNatureBonus = false;\n\t}\n}\n","import { WeaponType } from '../types/weapon.type';\nimport { OtherDataModel } from './other-data.model';\n\nexport class ExtraDataModel {\n\tweaponType: WeaponType;\n\totherData: OtherDataModel[];\n\ticon?: string;\n}\n","import { AilmentType } from '../types/ailment.type';\nimport { EldersealType } from '../types/elderseal.type';\nimport { ElementType } from '../types/element.type';\nimport { EquipmentCategoryType } from '../types/equipment-category.type';\nimport { ItemType } from '../types/item.type';\nimport { WeaponType } from '../types/weapon.type';\nimport { AmmoCapacitiesModel } from './ammo-capacities.model';\nimport { MelodiesModel } from './melodies.model';\nimport { OtherDataModel } from './other-data.model';\nimport { SkillReferenceModel } from './skill-reference.model';\nimport { SlotModel } from './slot.model';\n\nexport class ItemModel {\n\tid: number;\n\tname: string;\n\trarity: number;\n\titemType: ItemType;\n\tequipmentCategory: EquipmentCategoryType;\n\tslots?: SlotModel[];\n\tdefense?: number[];\n\tlevels?: number;\n\n\t// weapon properties\n\tweaponType?: WeaponType;\n\tbaseAttack?: number;\n\tsharpnessDataNeeded: boolean;\n\tsharpnessLevelsBar: number[];\n\tsharpnessMaxLevel?: number;\n\tsharpnessMaxColorIndex?: number;\n\tbaseAffinityPercent?: number;\n\tailment?: AilmentType;\n\tailmentBaseAttack: number;\n\tailmentHidden: boolean;\n\tailmentAttackIncreaseCapOverride: number;\n\telement?: ElementType;\n\telementBaseAttack?: number;\n\telementHidden: boolean;\n\telementAttackIncreaseCapOverride: number;\n\telderseal?: EldersealType;\n\totherData?: OtherDataModel[];\n\tupgradeType?: number;\n\tammoCapacities?: AmmoCapacitiesModel;\n\tmelodies?: MelodiesModel;\n\n\t// armor properties\n\tfireResist: number;\n\twaterResist: number;\n\tthunderResist: number;\n\ticeResist: number;\n\tdragonResist: number;\n\tskills?: SkillReferenceModel[];\n\n\t// tool properties\n\tduration: number;\n\trecharge: number;\n\n\tmonsters?: string[];\n\ttags?: string[];\n\tvColor: number;\n\n\tequippedLevel?: number;\n\tactive: boolean;\n}\n","import { AttackType } from '../types/attack.type';\nimport { DustEffectType } from '../types/dust-effect.type';\nimport { ElementType } from '../types/element.type';\nimport { KinsectType } from '../types/kinsect.type';\n\nexport class KinsectModel {\n\tid: number;\n\trarity: number;\n\ttype: KinsectType;\n\tname: string;\n\tattackType: AttackType;\n\tdustEffect: DustEffectType;\n\telement: ElementType;\n\tpower: number;\n\tspeed: number;\n\theal: number;\n\telementPower?: number;\n}\n","import { MelodyEffectModel } from './melody-effect.model';\n\nexport class MelodiesModel {\n\tid: number;\n\tnotes: string[];\n\tmelodies: number[][];\n\tmelodiesEffect: MelodyEffectModel[];\n\tmelodyEffects: MelodiesDetailModel[];\n}\n\nexport class MelodiesDetailModel {\n\tmelody: number[];\n\teffects: MelodyEffectModel[];\n}\n","import { ModificationLevelModel } from './modification-level.model';\n\nexport class ModificationModel {\n\tid: number;\n\tcode: string;\n\tname: string;\n\tdescription: string;\n\tlevels: ModificationLevelModel[];\n}\n","import { SharpnessModel } from './sharpness-model';\n\nexport class SharpnessBarModel {\n\tlevels: number[];\n\thandicraftLevel?: number;\n\tsharps: SharpnessModel[];\n\tempty: number;\n\twidthModifier: number;\n\tlevelsMissing: number;\n\ttooltipTemplate: string;\n\tmaxColorSharp?: number;\n\tmaxLevelSharp?: number;\n\tsharpnessDataNeeded: boolean;\n\tcolor: string;\n}\n","import { ModeType } from '../types/mode.type';\nimport { SkillLevelModel } from './skill-level.model';\n\nexport class SkillModel {\n\tid: string;\n\tname: string;\n\tdescription: string;\n\tmaxLevel?: number;\n\traiseSkillId?: string;\n\tlevels: SkillLevelModel[];\n\thasActiveStats?: boolean;\n\tmode?: ModeType;\n}\n","import { CalculationVariableModel } from './calculation-variable.model';\n\nexport class StatDetailModel {\n\tname: string;\n\tvalue: string | number;\n\tvalueColor?: string;\n\tinfo?: string[];\n\tcalculationTemplate?: string;\n\tcalculationVariables?: CalculationVariableModel[];\n\tcolor?: string;\n\textra1?: string | number;\n\textra2?: string | number;\n\tclass1?: string;\n\tclass2?: string;\n\ticon?: string;\n}\n","import { AilmentType } from '../types/ailment.type';\nimport { ElementType } from '../types/element.type';\nimport { WeaponType } from '../types/weapon.type';\nimport { AmmoCapacitiesModel } from './ammo-capacities.model';\nimport { ExtraDataModel } from './extra-data.model';\nimport { KinsectModel } from './kinsect.model';\n\nexport class StatsModel {\n\tweaponType?: WeaponType;\n\ttotalAttack: number;\n\ttotalAttackPotential: number;\n\tattack: number;\n\tupgradeAttack: number;\n\tawakeningAttack: number;\n\tpassiveAttack: number;\n\tactiveAttack: number;\n\tactiveAttackPercent: number;\n\n\tsharpnessDataNeeded: boolean;\n\tpassiveSharpness: number;\n\textraSharpness: number;\n\tsharpnessLevelsBar: number[];\n\teffectivePhysicalSharpnessModifier: number;\n\teffectiveElementalSharpnessModifier: number;\n\textraSlot: number;\n\n\tweaponAttackModifier: number;\n\tcritElementModifier: number;\n\ttrueCritElementModifier: number;\n\tcritStatusModifier: number;\n\ttrueCritStatusModifier: number;\n\taffinity: number;\n\tupgradeAffinity: number;\n\tawakeningAffinity: number;\n\tpassiveAffinity: number;\n\tactiveAffinity: number;\n\tweakPointAffinity: number;\n\tpassiveCriticalBoostPercent: number;\n\tcriticalElement: boolean;\n\tcriticalStatus: boolean;\n\ttrueCriticalElement: boolean;\n\ttrueCriticalStatus: boolean;\n\n\telementless: boolean;\n\telementlessBoostPercent: number;\n\n\telement: ElementType;\n\tbaseElementAttack: number;\n\tupgradeElementAttack: number;\n\tawakeningElementAttack: number;\n\teffectivePassiveElementAttack: number;\n\telementHidden: boolean;\n\teffectiveElementAttack: number;\n\telementCap: number;\n\telementCapped: boolean;\n\ttotalElementAttack: number;\n\ttotalElementAttackPotential: number;\n\n\tailment: AilmentType;\n\tbaseAilmentAttack: number;\n\tupgradeAilmentAttack: number;\n\tawakeningAilmentAttack: number;\n\teffectivePassiveAilmentAttack: number;\n\tailmentHidden: boolean;\n\teffectiveAilmentAttack: number;\n\tailmentCap: number;\n\tailmentCapped: boolean;\n\ttotalAilmentAttack: number;\n\ttotalAilmentAttackPotential: number;\n\n\telementAttackMultiplier: number;\n\n\tpassiveDragonAttack: number;\n\tpassiveDragonAttackPercent: number;\n\tpassiveFireAttack: number;\n\tpassiveFireAttackPercent: number;\n\tpassiveIceAttack: number;\n\tpassiveIceAttackPercent: number;\n\tpassiveWaterAttack: number;\n\tpassiveWaterAttackPercent: number;\n\tpassiveThunderAttack: number;\n\tpassiveThunderAttackPercent: number;\n\tpassivePoisonAttack: number;\n\tpassivePoisonBuildupPercent: number;\n\tpassiveSleepAttack: number;\n\tpassiveSleepBuildupPercent: number;\n\tpassiveParalysisAttack: number;\n\tpassiveParalysisBuildupPercent: number;\n\tpassiveBlastAttack: number;\n\tpassiveBlastBuildupPercent: number;\n\tpassiveStunAttack: number;\n\tpassiveStunBuildupPercent: number;\n\n\teffectivePassiveAilmentBuildupPercent: number;\n\n\tactiveElementAttack: number;\n\tactiveAilmentAttack: number;\n\tactiveAilmentAttackBuildUpPercent: number;\n\n\telderseal: string;\n\teldersealLevelBoost: number;\n\n\tdefense: number[];\n\tpassiveDefense: number;\n\tpassiveDefensePercent: number;\n\tactiveDefense: number;\n\tpassiveHealth: number;\n\tpassiveStamina: number;\n\n\tfireResist: number;\n\twaterResist: number;\n\tthunderResist: number;\n\ticeResist: number;\n\tdragonResist: number;\n\n\tpassiveFireResist: number;\n\tpassiveWaterResist: number;\n\tpassiveThunderResist: number;\n\tpassiveIceResist: number;\n\tpassiveDragonResist: number;\n\n\tpassiveElementResistPercent?: number;\n\n\thealOnHitPercent: number;\n\thastenRecovery?: number;\n\n\tammoCapacities: AmmoCapacitiesModel;\n\tammoCapacitiesUp: AmmoCapacitiesModel;\n\tammoUp: number;\n\textraData: ExtraDataModel;\n\trecoil: number;\n\treload: number;\n\tdeviation: number;\n\n\tkinsect?: KinsectModel;\n\n\tfrostcraft?: number[];\n\n\tconstructor() {\n\t\tthis.totalAttack = 0;\n\t\tthis.attack = 0;\n\t\tthis.upgradeAttack = 0;\n\t\tthis.awakeningAttack = 0;\n\t\tthis.passiveAttack = 0;\n\t\tthis.activeAttack = 0;\n\t\tthis.activeAttackPercent = 0;\n\n\t\tthis.elementless = false;\n\t\tthis.elementlessBoostPercent = 0;\n\n\t\tthis.sharpnessDataNeeded = false;\n\t\tthis.passiveSharpness = 0;\n\t\tthis.extraSharpness = 0;\n\t\tthis.effectivePhysicalSharpnessModifier = 1;\n\t\tthis.effectiveElementalSharpnessModifier = 1;\n\t\tthis.extraSlot = 0;\n\t\tthis.weaponAttackModifier = 0;\n\t\tthis.critElementModifier = 0;\n\t\tthis.trueCritElementModifier = 0;\n\t\tthis.critStatusModifier = 0;\n\t\tthis.trueCritStatusModifier = 0;\n\t\tthis.affinity = 0;\n\t\tthis.upgradeAffinity = 0;\n\t\tthis.awakeningAffinity = 0;\n\t\tthis.passiveAffinity = 0;\n\t\tthis.activeAffinity = 0;\n\t\tthis.weakPointAffinity = 0;\n\t\tthis.passiveCriticalBoostPercent = 0;\n\t\tthis.criticalElement = false;\n\t\tthis.criticalStatus = false;\n\t\tthis.trueCriticalElement = false;\n\t\tthis.trueCriticalStatus = false;\n\n\t\tthis.element = null;\n\t\tthis.baseElementAttack = 0;\n\t\tthis.upgradeElementAttack = 0;\n\t\tthis.awakeningElementAttack = 0;\n\t\tthis.elementHidden = false;\n\t\tthis.effectiveElementAttack = 0;\n\t\tthis.elementCap = 0;\n\t\tthis.elementCapped = false;\n\t\tthis.totalElementAttack = 0;\n\t\tthis.totalElementAttackPotential = 0;\n\n\t\tthis.ailment = null;\n\t\tthis.baseAilmentAttack = 0;\n\t\tthis.upgradeAilmentAttack = 0;\n\t\tthis.awakeningAilmentAttack = 0;\n\t\tthis.ailmentHidden = false;\n\t\tthis.effectiveAilmentAttack = 0;\n\t\tthis.ailmentCap = 0;\n\t\tthis.ailmentCapped = false;\n\t\tthis.totalAilmentAttack = 0;\n\t\tthis.totalAilmentAttackPotential = 0;\n\n\t\tthis.elementAttackMultiplier = 0;\n\n\t\tthis.passiveFireAttack = 0;\n\t\tthis.passiveFireAttackPercent = 0;\n\t\tthis.passiveWaterAttack = 0;\n\t\tthis.passiveWaterAttackPercent = 0;\n\t\tthis.passiveThunderAttack = 0;\n\t\tthis.passiveThunderAttackPercent = 0;\n\t\tthis.passiveIceAttack = 0;\n\t\tthis.passiveIceAttackPercent = 0;\n\t\tthis.passiveDragonAttack = 0;\n\t\tthis.passiveDragonAttackPercent = 0;\n\t\tthis.passivePoisonAttack = 0;\n\t\tthis.passivePoisonBuildupPercent = 0;\n\t\tthis.passiveSleepAttack = 0;\n\t\tthis.passiveSleepBuildupPercent = 0;\n\t\tthis.passiveParalysisAttack = 0;\n\t\tthis.passiveParalysisBuildupPercent = 0;\n\t\tthis.passiveBlastAttack = 0;\n\t\tthis.passiveBlastBuildupPercent = 0;\n\t\tthis.passiveStunAttack = 0;\n\t\tthis.passiveStunBuildupPercent = 0;\n\t\tthis.effectivePassiveElementAttack = 0;\n\t\tthis.effectivePassiveAilmentAttack = 0;\n\n\t\tthis.effectivePassiveAilmentBuildupPercent = 0;\n\n\t\tthis.activeElementAttack = 0;\n\t\tthis.activeAilmentAttack = 0;\n\t\tthis.activeAilmentAttackBuildUpPercent = 0;\n\n\t\tthis.elderseal = null;\n\t\tthis.eldersealLevelBoost = 0;\n\n\t\tthis.defense = [0, 0, 0];\n\t\tthis.passiveDefense = 0;\n\t\tthis.passiveDefensePercent = 0;\n\t\tthis.activeDefense = 0;\n\t\tthis.passiveHealth = 0;\n\t\tthis.passiveStamina = 0;\n\n\t\tthis.recoil = 0;\n\t\tthis.reload = 0;\n\t\tthis.deviation = 0;\n\n\t\tthis.fireResist = 0;\n\t\tthis.waterResist = 0;\n\t\tthis.thunderResist = 0;\n\t\tthis.iceResist = 0;\n\t\tthis.dragonResist = 0;\n\n\t\tthis.passiveFireResist = 0;\n\t\tthis.passiveWaterResist = 0;\n\t\tthis.passiveThunderResist = 0;\n\t\tthis.passiveIceResist = 0;\n\t\tthis.passiveDragonResist = 0;\n\n\t\tthis.healOnHitPercent = 0;\n\n\t\tthis.ammoCapacities = null;\n\t\tthis.ammoCapacitiesUp = null;\n\t\tthis.ammoUp = 0;\n\t\tthis.extraData = null;\n\t}\n}\n","import { WeaponType } from '../types/weapon.type';\nimport { UpgradeLevelModel } from './upgrade.model';\n\nexport class UpgradeContainerModel {\n\tslots: number;\n\tused: number;\n\thasCustomUpgrades: boolean;\n\tupgradeDetails: UpgradeLevelModel[];\n\tcustomUpgradeIds: number[];\n\tcustomUpgradeValues: number[];\n\tweaponType: WeaponType;\n\n\tconstructor() {\n\t\tthis.slots = 0;\n\t\tthis.used = 0;\n\t\tthis.hasCustomUpgrades = false;\n\t\tthis.upgradeDetails = new Array<UpgradeLevelModel>();\n\t\tthis.customUpgradeIds = [0, 0, 0, 0, 0, 0, 0];\n\t\tthis.customUpgradeValues = [0, 0, 0, 0, 0, 0, 0];\n\t}\n}\n","import { AugmentationType } from '../types/augmentation.type';\nimport { SkillReferenceModel } from './skill-reference.model';\n\nexport class UpgradeModel {\n\tid: number;\n\ttype: AugmentationType;\n\tname: string;\n\tdescription: string;\n\tlevels: UpgradeLevelModel[];\n\tmultiplier?: number;\n\tWeaponLevels?: number[][];\n\tWeaponCustomUpgrades: number[][];\n}\n\nexport class UpgradeLevelModel {\n\ttype: AugmentationType;\n\tlevel: number;\n\trequiredSlots: number;\n\ttotalSlots: number;\n\n\tpassiveAttack: number;\n\tpassiveAffinity: number;\n\tpassiveDefense: number;\n\thealOnHitPercent: number;\n\tslotLevel: number;\n\tpassiveElement: number;\n\tpassiveAilment: number;\n\n\tdescription: string;\n\n\tskills: SkillReferenceModel[];\n\n\tconstructor() {\n\t\tthis.passiveAttack = 0;\n\t\tthis.passiveAffinity = 0;\n\t\tthis.passiveDefense = 0;\n\t\tthis.slotLevel = 0;\n\t\tthis.healOnHitPercent = 0;\n\t\tthis.passiveElement = 0;\n\t\tthis.passiveAilment = 0;\n\n\t\tthis.description = '';\n\t}\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n\tname: 'numbersArr'\n})\nexport class NumbersArrPipe implements PipeTransform {\n\ttransform(value, args: string[]): any {\n\t\tconst res = [];\n\t\tfor (let i = 0; i < value; i++) {\n\t\t\tres.push(i);\n\t\t}\n\t\treturn res;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { forkJoin, Observable, Observer } from 'rxjs';\nimport { AmmoCapacitiesLoader } from '../data/loaders/ammo-capacities.loader';\nimport { ArmorLoader } from '../data/loaders/armor.loader';\nimport { AugmentationsLoader } from '../data/loaders/augmentations.loader';\nimport { AwakeningsLoader } from '../data/loaders/awakenings.loader';\nimport { CharmsLoader } from '../data/loaders/charms.loader';\nimport { DecorationsLoader } from '../data/loaders/decorations.loader';\nimport { KinsectsLoader } from '../data/loaders/kinsects.loader';\nimport { MelodiesLoader } from '../data/loaders/melodies.loader';\nimport { MelodyEffectLoader } from '../data/loaders/melodyEffect.loader';\nimport { ModificationsLoader } from '../data/loaders/modifications.loader';\nimport { SetBonusesLoader } from '../data/loaders/set-bonuses.loader';\nimport { SharpnessModifiersLoader } from '../data/loaders/sharpness-modifiers.loader';\nimport { SkillsLoader } from '../data/loaders/skills.loader';\nimport { ToolsLoader } from '../data/loaders/tools.loader';\nimport { UpgradesLoader } from '../data/loaders/upgrades.loader';\nimport { WeaponModifiersLoader } from '../data/loaders/weapon-modifiers.loader';\nimport { WeaponsLoader } from '../data/loaders/weapons.loader';\nimport { AppDataModel } from '../models/app-data.model';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class AppDataProvider {\n\tpublic appData: AppDataModel;\n\n\tconstructor(\n\t\tprivate weaponLoader: WeaponsLoader,\n\t\tprivate armorLoader: ArmorLoader,\n\t\tprivate charmsLoader: CharmsLoader,\n\t\tprivate decorationsLoader: DecorationsLoader,\n\t\tprivate augmentationsLoader: AugmentationsLoader,\n\t\tprivate modificationsLoader: ModificationsLoader,\n\t\tprivate kinsectsLoader: KinsectsLoader,\n\t\tprivate skillsLoader: SkillsLoader,\n\t\tprivate setBonusesLoader: SetBonusesLoader,\n\t\tprivate sharpnessModifiersLoader: SharpnessModifiersLoader,\n\t\tprivate weaponModifiersLoader: WeaponModifiersLoader,\n\t\tprivate ammoCapacitiesLoader: AmmoCapacitiesLoader,\n\t\tprivate melodiesLoader: MelodiesLoader,\n\t\tprivate melodyEffectLoader: MelodyEffectLoader,\n\t\tprivate toolsLoader: ToolsLoader,\n\t\tprivate upgradesLoader: UpgradesLoader,\n\t\tprivate awakeningsLoader: AwakeningsLoader\n\t) {\n\t\tthis.appData = new AppDataModel();\n\t}\n\n\tload(): Observable<boolean> {\n\t\treturn new Observable((observer: Observer<boolean>) => {\n\t\t\tPromise.all([\n\t\t\t\tthis.weaponLoader.load('weapons.tsv', false).toPromise(),\n\t\t\t\tthis.armorLoader.load('armor.tsv', false).toPromise(),\n\t\t\t\tthis.charmsLoader.load('charms.tsv', false).toPromise(),\n\t\t\t\tthis.decorationsLoader.load('decorations.tsv', false).toPromise(),\n\t\t\t\tthis.augmentationsLoader.load('augmentations.json', false).toPromise(),\n\t\t\t\tthis.modificationsLoader.load('modifications.json', false).toPromise(),\n\t\t\t\tthis.kinsectsLoader.load('kinsects.tsv', false).toPromise(),\n\t\t\t\tthis.skillsLoader.load('skills.json', false).toPromise(),\n\t\t\t\tthis.setBonusesLoader.load('set-bonuses.json', false).toPromise(),\n\t\t\t\tthis.sharpnessModifiersLoader.load('sharpness-modifiers.json', false).toPromise(),\n\t\t\t]).then(results => {\n\t\t\t\tthis.appData.weapons = results[0];\n\t\t\t\tthis.appData.armors = results[1];\n\t\t\t\tthis.appData.charms = results[2];\n\t\t\t\tthis.appData.decorations = results[3];\n\t\t\t\tthis.appData.augmentations = results[4];\n\t\t\t\tthis.appData.modifications = results[5];\n\t\t\t\tthis.appData.kinsects = results[6];\n\t\t\t\tthis.appData.skills = results[7];\n\t\t\t\tthis.appData.setBonuses = results[8];\n\t\t\t\tthis.appData.sharpnessModifiers = results[9];\n\n\t\t\t\tPromise.all([\n\t\t\t\t\tthis.weaponModifiersLoader.load('weapon-modifiers.json', false).toPromise(),\n\t\t\t\t\tthis.ammoCapacitiesLoader.load('ammo-capacities.json', false).toPromise(),\n\t\t\t\t\tthis.melodiesLoader.load('melodies.tsv', false).toPromise(),\n\t\t\t\t\tthis.melodyEffectLoader.load('melody-effect.tsv', false).toPromise(),\n\t\t\t\t\tthis.toolsLoader.load('tools.tsv', false).toPromise(),\n\t\t\t\t\tthis.upgradesLoader.load('upgrades.json', false).toPromise(),\n\t\t\t\t\tthis.awakeningsLoader.load('awakenings.json', false).toPromise()\n\t\t\t\t]).then(results2 => {\n\t\t\t\t\tthis.appData.weaponModifiers = results2[0];\n\t\t\t\t\tthis.appData.ammoCapacities = results2[1];\n\t\t\t\t\tthis.appData.melodies = results2[2];\n\t\t\t\t\tthis.appData.melodyEffect = results2[3];\n\t\t\t\t\tthis.appData.tools = results2[4];\n\t\t\t\t\tthis.appData.upgrades = results2[5];\n\t\t\t\t\tthis.appData.awakenings = results2[6];\n\n\t\t\t\t\tobserver.next(true);\n\t\t\t\t\tobserver.complete();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n}\n","import { ChangeDetectorRef, Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { ItemSlotComponent } from '../components/item-slot/item-slot.component';\nimport { AwakeningLevelModel } from '../models/awakening-level.model';\nimport { BuildItemModel, BuildModel } from '../models/build.model';\nimport { ItemModel } from '../models/item.model';\nimport { UpgradeContainerModel } from '../models/upgrade-container.model';\nimport { UpgradeLevelModel } from '../models/upgrade.model';\nimport { AilmentType } from '../types/ailment.type';\nimport { ElementType } from '../types/element.type';\nimport { EquipmentCategoryType } from '../types/equipment-category.type';\nimport { ItemType } from '../types/item.type';\nimport { WeaponType } from '../types/weapon.type';\nimport { DataService } from './data.service';\nimport { EquipmentService } from './equipment.service';\nimport { SlotService } from './slot.service';\n\n@Injectable()\nexport class BuildService {\n\tpublic buildIdUpdated$ = new Subject<string>();\n\n\tprivate changeDetector: ChangeDetectorRef;\n\tprivate loadingBuild = false;\n\n\tprivate weaponItem: ItemModel;\n\n\tconstructor(\n\t\tprivate dataService: DataService,\n\t\tprivate slotService: SlotService,\n\t\tprivate equipmentService: EquipmentService\n\t) { }\n\n\tinitialize(\n\t\tchangeDetector: ChangeDetectorRef\n\t) {\n\t\t// TODO: Passing in change detector feels gross, but at the moment it's needed to set up decoration slots when an item is loaded by build id.\n\t\tthis.changeDetector = changeDetector;\n\t\tthis.subscribeSlotEvents();\n\t}\n\n\tprivate subscribeSlotEvents() {\n\t\tthis.slotService.itemSelected$.subscribe(() => {\n\t\t\tif (!this.loadingBuild) { this.updateBuildId(); }\n\t\t});\n\t\tthis.slotService.itemSelectedNew$.subscribe(() => {\n\t\t\tif (!this.loadingBuild) { this.updateBuildId(); }\n\t\t});\n\n\t\tthis.slotService.decorationSelected$.subscribe(() => {\n\t\t\tif (!this.loadingBuild) { this.updateBuildId(); }\n\t\t});\n\n\t\tthis.slotService.augmentationSelected$.subscribe(() => {\n\t\t\tif (!this.loadingBuild) { this.updateBuildId(); }\n\t\t});\n\n\t\tthis.slotService.upgradeSelected$.subscribe(() => {\n\t\t\tif (!this.loadingBuild) { this.updateBuildId(); }\n\t\t});\n\n\t\tthis.slotService.modificationSelected$.subscribe(() => {\n\t\t\tif (!this.loadingBuild) { this.updateBuildId(); }\n\t\t});\n\n\t\tthis.slotService.kinsectSelected$.subscribe(() => {\n\t\t\tif (!this.loadingBuild) { this.updateBuildId(); }\n\t\t});\n\n\t\tthis.slotService.itemLevelChanged$.subscribe(() => {\n\t\t\tif (!this.loadingBuild) { this.updateBuildId(); }\n\t\t});\n\n\t\tthis.slotService.weaponModSelected$.subscribe(() => {\n\t\t\tif (!this.loadingBuild) { this.updateBuildId(); }\n\t\t});\n\n\t\tthis.slotService.setbonusSelected$.subscribe(() => {\n\t\t\tif (!this.loadingBuild) { this.updateBuildId(); }\n\t\t});\n\t}\n\n\tloadBuild(buildHash: string) {\n\t\tthis.loadingBuild = true;\n\t\tconst buildParts = buildHash.split('&');\n\n\t\tconst buildId = buildParts[0];\n\n\t\tconst build = this.parseBuildId(buildId);\n\n\t\tthis.loadBuildSlot(build.head, this.slotService.headSlot);\n\t\tthis.loadBuildSlot(build.chest, this.slotService.chestSlot);\n\t\tthis.loadBuildSlot(build.hands, this.slotService.handsSlot);\n\t\tthis.loadBuildSlot(build.legs, this.slotService.legsSlot);\n\t\tthis.loadBuildSlot(build.feet, this.slotService.feetSlot);\n\t\tthis.loadBuildSlot(build.charm, this.slotService.charmSlot);\n\t\tif (build.tool1) { this.loadBuildSlot(build.tool1, this.slotService.tool1Slot); }\n\t\tif (build.tool2) { this.loadBuildSlot(build.tool2, this.slotService.tool2Slot); }\n\t\tthis.loadBuildSlot(build.weapon, this.slotService.weaponSlot, true);\n\n\t\tthis.slotService.selectItemSlot(null);\n\t\tthis.changeDetector.detectChanges();\n\t\tthis.loadingBuild = false;\n\t}\n\n\tprivate parseBuildId(buildId: string): BuildModel {\n\t\tconst itemGroupRegex = /(i[.]*[^i]*)/g;\n\t\tconst itemRegex = /(?<=i)([\\d]+)/g;\n\t\tconst decoRegex = /(?<=d)([\\d]+)/g;\n\t\tconst augRegex = /(?<=a)([\\d]+)/g;\n\t\tconst upgRegex = /(?<=u)([\\d]+)/g;\n\t\tconst custRegex = /(?<=c)([\\d]+)/g;\n\t\tconst awkRegex = /(?<=w)([\\d]+)(l)([\\d]+)/g;\n\t\tconst setbRegex = /(?<=s)([\\d]+)/g;\n\t\tconst kinsectRegex = /(?<=k)([\\d]+)/g;\n\t\tconst kinsectElementRegex = /(?<=e)([\\d]+)/g;\n\t\tconst elementRegex = /(?<=f)([\\d]+)/g;\n\t\tconst ailmentRegex = /(?<=g)([\\d]+)/g;\n\t\tconst modRegex = /(?<=m)([\\d]+)/g;\n\t\tconst levelRegex = /(?<=l)([\\d]+)/g;\n\n\t\tconst build = new BuildModel();\n\n\t\tconst itemGroups = buildId.match(itemGroupRegex);\n\t\tlet index = 1;\n\t\tfor (const itemGroup of itemGroups) {\n\t\t\tconst buildItem = new BuildItemModel();\n\n\t\t\tconst item = itemGroup.match(itemRegex);\n\t\t\tif (item) {\n\t\t\t\tbuildItem.itemId = parseInt(item[0], 10);\n\t\t\t}\n\n\t\t\tconst decos = itemGroup.match(decoRegex);\n\t\t\tif (decos) {\n\t\t\t\tbuildItem.decorationIds = [];\n\t\t\t\tfor (const deco of decos) {\n\t\t\t\t\tbuildItem.decorationIds.push(parseInt(deco, 10));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst augs = itemGroup.match(augRegex);\n\t\t\tif (augs) {\n\t\t\t\tbuildItem.augmentationIds = [];\n\t\t\t\tfor (const aug of augs) {\n\t\t\t\t\tbuildItem.augmentationIds.push(parseInt(aug, 10));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst upgs = itemGroup.match(upgRegex);\n\t\t\tif (upgs) {\n\t\t\t\tbuildItem.upgradeLevels = [];\n\t\t\t\tbuildItem.upgradeLevels.push(parseInt(upgs.toString().substring(0, 1), 10)); // Attack\n\t\t\t\tbuildItem.upgradeLevels.push(parseInt(upgs.toString().substring(1, 2), 10)); // Affinity\n\t\t\t\tbuildItem.upgradeLevels.push(parseInt(upgs.toString().substring(2, 3), 10)); // Defense\n\t\t\t\tbuildItem.upgradeLevels.push(parseInt(upgs.toString().substring(3, 4), 10)); // Slots\n\t\t\t\tbuildItem.upgradeLevels.push(parseInt(upgs.toString().substring(4, 5), 10)); // Health\n\t\t\t\tbuildItem.upgradeLevels.push(parseInt(upgs.toString().substring(5, 6), 10)); // Element/Ailment\n\t\t\t}\n\n\t\t\tconst customs = itemGroup.match(custRegex);\n\t\t\tif (customs) {\n\t\t\t\tif (customs.toString().length == 4) { // V2\n\t\t\t\t\t// Empty\n\t\t\t\t} else if (customs.toString().length == 7) { // v3\n\t\t\t\t\tbuildItem.customLevelIds = [];\n\t\t\t\t\tbuildItem.customLevelIds.push(parseInt(customs.toString().substring(0, 1), 10)); // Lv 1\n\t\t\t\t\tbuildItem.customLevelIds.push(parseInt(customs.toString().substring(1, 2), 10)); // Lv 2\n\t\t\t\t\tbuildItem.customLevelIds.push(parseInt(customs.toString().substring(2, 3), 10)); // Lv 3\n\t\t\t\t\tbuildItem.customLevelIds.push(parseInt(customs.toString().substring(3, 4), 10)); // Lv 4\n\t\t\t\t\tbuildItem.customLevelIds.push(parseInt(customs.toString().substring(4, 5), 10)); // Lv 5\n\t\t\t\t\tbuildItem.customLevelIds.push(parseInt(customs.toString().substring(5, 6), 10)); // Lv 6\n\t\t\t\t\tbuildItem.customLevelIds.push(parseInt(customs.toString().substring(6, 7), 10)); // Lv 7\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst awks = itemGroup.match(awkRegex);\n\t\t\tif (awks) {\n\t\t\t\tbuildItem.awakenings = [];\n\t\t\t\tfor (const awk of awks) {\n\t\t\t\t\tconst awkAux = awk.split('l');\n\t\t\t\t\tbuildItem.awakenings.push([parseInt(awkAux[0], 10), parseInt(awkAux[1], 10)]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst setb = itemGroup.match(setbRegex);\n\t\t\tif (setb) {\n\t\t\t\tbuildItem.setbonusId = parseInt(setb[0], 10);\n\t\t\t}\n\n\t\t\tconst element = itemGroup.match(elementRegex);\n\t\t\tif (element) {\n\t\t\t\tbuildItem.elementId = parseInt(element[0], 10);\n\t\t\t}\n\t\t\tconst ailment = itemGroup.match(ailmentRegex);\n\t\t\tif (ailment) {\n\t\t\t\tbuildItem.ailmentId = parseInt(ailment[0], 10);\n\t\t\t}\n\n\t\t\tconst mods = itemGroup.match(modRegex);\n\t\t\tif (mods) {\n\t\t\t\tbuildItem.modificationIds = [];\n\t\t\t\tfor (const mod of mods) {\n\t\t\t\t\tbuildItem.modificationIds.push(parseInt(mod, 10));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst kinsect = itemGroup.match(kinsectRegex);\n\t\t\tif (kinsect) {\n\t\t\t\tbuildItem.kinsectId = parseInt(kinsect[0], 10);\n\t\t\t}\n\n\t\t\tconst kinsectElement = itemGroup.match(kinsectElementRegex);\n\t\t\tif (kinsectElement) {\n\t\t\t\tbuildItem.kinsectElementId = parseInt(kinsectElement[0], 10);\n\t\t\t}\n\n\t\t\tconst level = itemGroup.match(levelRegex);\n\t\t\tif (level) {\n\t\t\t\tbuildItem.level = parseInt(level[0], 10);\n\t\t\t}\n\n\t\t\tswitch (index) {\n\t\t\t\tcase 1:\n\t\t\t\t\tbuild.weapon = buildItem;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tbuild.head = buildItem;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tbuild.chest = buildItem;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tbuild.hands = buildItem;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tbuild.legs = buildItem;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tbuild.feet = buildItem;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 7:\n\t\t\t\t\tbuild.charm = buildItem;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\tbuild.tool1 = buildItem;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 9:\n\t\t\t\t\tbuild.tool2 = buildItem;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tindex++;\n\t\t}\n\n\t\treturn build;\n\t}\n\n\tprivate loadBuildSlot(buildItem: BuildItemModel, slot: ItemSlotComponent, updateStats: boolean = false) {\n\t\tif (buildItem.itemId) {\n\t\t\tlet item: ItemModel;\n\t\t\tswitch (this.dataService.getEquipmentCategory(slot.slotName)) {\n\t\t\t\tcase EquipmentCategoryType.Weapon:\n\t\t\t\t\titem = this.dataService.getWeapon(buildItem.itemId);\n\t\t\t\t\tbreak;\n\t\t\t\tcase EquipmentCategoryType.Armor:\n\t\t\t\t\titem = this.dataService.getArmor(buildItem.itemId);\n\t\t\t\t\tbreak;\n\t\t\t\tcase EquipmentCategoryType.Charm:\n\t\t\t\t\titem = this.dataService.getCharm(buildItem.itemId);\n\t\t\t\t\tbreak;\n\t\t\t\tcase EquipmentCategoryType.Tool:\n\t\t\t\t\titem = this.dataService.getTool(buildItem.itemId, slot.slotName);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (item) {\n\t\t\t\tif (buildItem.level) {\n\t\t\t\t\titem.equippedLevel = buildItem.level;\n\t\t\t\t}\n\n\t\t\t\tthis.slotService.selectItemSlot(slot);\n\t\t\t\tthis.slotService.selectItem(item, updateStats);\n\n\t\t\t\tthis.changeDetector.detectChanges();\n\n\t\t\t\tif (item.equipmentCategory == EquipmentCategoryType.Weapon) {\n\t\t\t\t\tlet weaponIndex = 0;\n\t\t\t\t\tfor (const types in WeaponType) {\n\t\t\t\t\t\tif (isNaN(Number(types))) {\n\t\t\t\t\t\t\tif (types == item.weaponType) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tweaponIndex += 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// -------------------- Element\n\t\t\t\t\tif (buildItem.elementId != null && buildItem.elementId > 0) {\n\t\t\t\t\t\titem.element = this.dataService.getElement(buildItem.elementId);\n\t\t\t\t\t\tif (item.upgradeType == 2) {\n\t\t\t\t\t\t\tif (item.element != null) {\n\t\t\t\t\t\t\t\titem.elementBaseAttack = this.dataService.getSafiElementAttack(weaponIndex);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\titem.elementBaseAttack = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// -------------------- Ailment\n\t\t\t\t\tif (buildItem.ailmentId != null && buildItem.ailmentId > 0) {\n\t\t\t\t\t\titem.ailment = this.dataService.getAilment(buildItem.ailmentId);\n\t\t\t\t\t\tif (item.upgradeType == 2) {\n\t\t\t\t\t\t\tif (item.ailment != null) {\n\t\t\t\t\t\t\t\tlet ailmentType = 0;\n\t\t\t\t\t\t\t\tif (item.ailment == AilmentType.Poison || item.ailment == AilmentType.Blast) {\n\t\t\t\t\t\t\t\t\tailmentType = 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\titem.ailmentBaseAttack = this.dataService.getSafiAilmentAttack(weaponIndex, ailmentType);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\titem.ailmentBaseAttack = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// --------------------\n\t\t\t\t\tif (item.upgradeType == 2\n\t\t\t\t\t\t&& item.weaponType != WeaponType.LightBowgun\n\t\t\t\t\t\t&& item.weaponType != WeaponType.HeavyBowgun\n\t\t\t\t\t\t&& (buildItem.elementId != null || buildItem.ailmentId != null)) {\n\t\t\t\t\t\titem.name = this.dataService.getSafiWeaponName(item.weaponType, item.element, item.ailment);\n\t\t\t\t\t}\n\t\t\t\t\t// -------------------- Awakenings\n\t\t\t\t\tif (buildItem.awakenings != null) {\n\t\t\t\t\t\tconst awakeningLevels: AwakeningLevelModel[] = [];\n\t\t\t\t\t\tfor (const awk of buildItem.awakenings) {\n\t\t\t\t\t\t\tconst awkAux = this.dataService.getAwakening(awk[0]);\n\t\t\t\t\t\t\tawakeningLevels.push({\n\t\t\t\t\t\t\t\tid: awkAux.id,\n\t\t\t\t\t\t\t\ttype: awkAux.type,\n\t\t\t\t\t\t\t\tname: awkAux.name,\n\t\t\t\t\t\t\t\tshort: awkAux.short,\n\t\t\t\t\t\t\t\tlevel: awk[1],\n\t\t\t\t\t\t\t\tminLevel: awkAux.minLevel,\n\t\t\t\t\t\t\t\tmaxLevel: awkAux.maxLevel\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tslot.awakeningSlot.awakenings = awakeningLevels;\n\t\t\t\t\t\tthis.slotService.selectAwakenings(awakeningLevels);\n\t\t\t\t\t}\n\t\t\t\t\t// -------------------- Setbonus\n\t\t\t\t\tif (buildItem.setbonusId != null) {\n\t\t\t\t\t\tconst setbonus = this.dataService.getSetBonusByBuildId(buildItem.setbonusId);\n\t\t\t\t\t\tif (setbonus) {\n\t\t\t\t\t\t\tif (slot.awakeningSlot) {\n\t\t\t\t\t\t\t\tslot.awakeningSlot.setbonus = setbonus;\n\t\t\t\t\t\t\t\tthis.slotService.selectSetbonusSlot(slot.awakeningSlot);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.slotService.selectSetbonus(setbonus);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// --------------------\n\n\t\t\t\t\t// -------------------- Augmentations\n\t\t\t\t\tif (buildItem.augmentationIds) {\n\t\t\t\t\t\tfor (let i = 0; i < 9 - item.rarity; i++) {\n\t\t\t\t\t\t\tconst augId = buildItem.augmentationIds[i];\n\t\t\t\t\t\t\tif (augId) {\n\t\t\t\t\t\t\t\tconst aug = this.dataService.getAugmentation(augId);\n\t\t\t\t\t\t\t\tif (aug) {\n\t\t\t\t\t\t\t\t\tthis.slotService.selectAugmentationSlot(slot.augmentationSlots.toArray()[i]);\n\t\t\t\t\t\t\t\t\tconst newAug = Object.assign({}, aug);\n\t\t\t\t\t\t\t\t\tthis.slotService.selectAugmentation(newAug, updateStats);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// -------------------- Upgrades\n\t\t\t\t\tif (buildItem.upgradeLevels && slot.upgradeSlot) {\n\t\t\t\t\t\tconst upgrades = this.dataService.getUpgrades();\n\t\t\t\t\t\tconst upgradeContainer = new UpgradeContainerModel();\n\t\t\t\t\t\tupgradeContainer.hasCustomUpgrades = item.upgradeType == 1;\n\t\t\t\t\t\tupgradeContainer.weaponType = item.weaponType;\n\t\t\t\t\t\tif (item.rarity == 10) {\n\t\t\t\t\t\t\tupgradeContainer.slots = 10;\n\t\t\t\t\t\t} else if (item.rarity == 11) {\n\t\t\t\t\t\t\tupgradeContainer.slots = 8;\n\t\t\t\t\t\t} else if (item.rarity == 12) {\n\t\t\t\t\t\t\tupgradeContainer.slots = 6;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tupgradeContainer.slots = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (let i = 0; i < buildItem.upgradeLevels.length; i++) {\n\t\t\t\t\t\t\tconst detail = new UpgradeLevelModel;\n\t\t\t\t\t\t\tdetail.type = upgrades[i].type;\n\t\t\t\t\t\t\tdetail.level = buildItem.upgradeLevels[i];\n\t\t\t\t\t\t\tif (detail.level > 0) {\n\t\t\t\t\t\t\t\tdetail.requiredSlots = upgrades[i].levels[buildItem.upgradeLevels[i] - 1].requiredSlots;\n\t\t\t\t\t\t\t\tdetail.totalSlots = upgrades[i].levels[buildItem.upgradeLevels[i] - 1].totalSlots;\n\n\t\t\t\t\t\t\t\tdetail.passiveAttack = upgrades[i].levels[buildItem.upgradeLevels[i] - 1].passiveAttack;\n\t\t\t\t\t\t\t\tdetail.passiveAffinity = upgrades[i].levels[buildItem.upgradeLevels[i] - 1].passiveAffinity;\n\t\t\t\t\t\t\t\tdetail.passiveDefense = upgrades[i].levels[buildItem.upgradeLevels[i] - 1].passiveDefense;\n\t\t\t\t\t\t\t\tdetail.slotLevel = upgrades[i].levels[buildItem.upgradeLevels[i] - 1].slotLevel;\n\t\t\t\t\t\t\t\tdetail.healOnHitPercent = upgrades[i].levels[buildItem.upgradeLevels[i] - 1].healOnHitPercent;\n\t\t\t\t\t\t\t\tdetail.passiveElement = upgrades[i].levels[buildItem.upgradeLevels[i] - 1].passiveElement;\n\t\t\t\t\t\t\t\tdetail.passiveAilment = upgrades[i].levels[buildItem.upgradeLevels[i] - 1].passiveAilment;\n\n\t\t\t\t\t\t\t\tdetail.description = upgrades[i].levels[buildItem.upgradeLevels[i] - 1].description;\n\n\t\t\t\t\t\t\t\tif (upgrades[i].WeaponLevels) {\n\t\t\t\t\t\t\t\t\tconst overrideValue = upgrades[i].WeaponLevels[weaponIndex][buildItem.upgradeLevels[i] - 1];\n\t\t\t\t\t\t\t\t\tthis.overrideUpgrageLevel(detail, i, overrideValue);\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tupgradeContainer.used += detail.totalSlots;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdetail.requiredSlots = 0;\n\t\t\t\t\t\t\t\tdetail.totalSlots = 0;\n\n\t\t\t\t\t\t\t\tdetail.passiveAttack = 0;\n\t\t\t\t\t\t\t\tdetail.passiveAffinity = 0;\n\t\t\t\t\t\t\t\tdetail.passiveDefense = 0;\n\t\t\t\t\t\t\t\tdetail.slotLevel = 0;\n\t\t\t\t\t\t\t\tdetail.healOnHitPercent = 0;\n\t\t\t\t\t\t\t\tdetail.passiveElement = 0;\n\t\t\t\t\t\t\t\tdetail.passiveAilment = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tupgradeContainer.upgradeDetails.push(detail);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (buildItem.customLevelIds) {\n\t\t\t\t\t\t\tupgradeContainer.customUpgradeIds = buildItem.customLevelIds;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tslot.upgradeSlot.upgradeContainer = upgradeContainer;\n\n\t\t\t\t\t\tthis.slotService.selectUpgradeSlot(slot.upgradeSlot);\n\t\t\t\t\t\tconst newUpg = JSON.parse(JSON.stringify(upgradeContainer));\n\t\t\t\t\t\tthis.slotService.selectUpgradeContainer(newUpg, updateStats);\n\t\t\t\t\t}\n\t\t\t\t\t// --------------------\n\t\t\t\t\tswitch (item.weaponType) {\n\t\t\t\t\t\tcase WeaponType.InsectGlaive:\n\t\t\t\t\t\t\tif (buildItem.kinsectId) {\n\t\t\t\t\t\t\t\tconst kinsect = this.dataService.getKinsect(buildItem.kinsectId);\n\t\t\t\t\t\t\t\tif (kinsect) {\n\t\t\t\t\t\t\t\t\tthis.slotService.selectKinsectSlot(slot.kinsectSlot);\n\t\t\t\t\t\t\t\t\tconst newKinsect = Object.assign({}, kinsect);\n\t\t\t\t\t\t\t\t\tthis.slotService.selectKinsect(newKinsect, updateStats);\n\t\t\t\t\t\t\t\t\tif (buildItem.kinsectElementId) {\n\t\t\t\t\t\t\t\t\t\tconst keys = Object.keys(ElementType);\n\t\t\t\t\t\t\t\t\t\tfor (const key in keys) {\n\t\t\t\t\t\t\t\t\t\t\tif (key == buildItem.kinsectElementId.toString()) {\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = keys[key];\n\t\t\t\t\t\t\t\t\t\t\t\tnewKinsect.element = (<any>ElementType)[value]; // There must be a better way to do this...\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnewKinsect.element = ElementType.None;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase WeaponType.LightBowgun:\n\t\t\t\t\t\tcase WeaponType.HeavyBowgun:\n\t\t\t\t\t\t\tif (buildItem.modificationIds) {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < buildItem.modificationIds.length; i++) {\n\t\t\t\t\t\t\t\t\tconst modId = buildItem.modificationIds[i];\n\t\t\t\t\t\t\t\t\tif (modId) {\n\t\t\t\t\t\t\t\t\t\tconst mod = this.dataService.getModification(modId);\n\t\t\t\t\t\t\t\t\t\tif (mod) {\n\t\t\t\t\t\t\t\t\t\t\tthis.slotService.selectModificationSlot(slot.modificationSlots.toArray()[i]);\n\t\t\t\t\t\t\t\t\t\t\tconst newAug = Object.assign({}, mod);\n\t\t\t\t\t\t\t\t\t\t\tthis.slotService.selectModification(newAug, updateStats);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.changeDetector.detectChanges();\n\n\t\t\t\tif (buildItem.decorationIds) {\n\t\t\t\t\tlet i = 0;\n\t\t\t\t\tfor (const decorationId of buildItem.decorationIds) {\n\t\t\t\t\t\tconst decoration = this.dataService.getDecoration(decorationId);\n\t\t\t\t\t\tif (decoration) {\n\t\t\t\t\t\t\tthis.slotService.selectDecorationSlot(slot.decorationSlots.toArray()[i]);\n\t\t\t\t\t\t\tconst newDecoration = Object.assign({}, decoration);\n\t\t\t\t\t\t\tthis.slotService.selectDecoration(newDecoration, updateStats);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.slotService.clearItemSlot(slot);\n\t\t}\n\t}\n\n\tprivate updateBuildId() {\n\t\tconst weapon = this.equipmentService.items.find(item => item.equipmentCategory == EquipmentCategoryType.Weapon);\n\t\tconst head = this.equipmentService.items.find(item => item.itemType == ItemType.Head);\n\t\tconst chest = this.equipmentService.items.find(item => item.itemType == ItemType.Chest);\n\t\tconst hands = this.equipmentService.items.find(item => item.itemType == ItemType.Arms);\n\t\tconst legs = this.equipmentService.items.find(item => item.itemType == ItemType.Waist);\n\t\tconst feet = this.equipmentService.items.find(item => item.itemType == ItemType.Legs);\n\t\tconst charm = this.equipmentService.items.find(item => item.itemType == ItemType.Charm);\n\t\tconst tool1 = this.equipmentService.items.find(item => item.itemType == ItemType.Tool1);\n\t\tconst tool2 = this.equipmentService.items.find(item => item.itemType == ItemType.Tool2);\n\n\t\tlet buildId = 'v3';\n\n\t\tthis.changeDetector.detectChanges();\n\n\t\tbuildId += this.getItemBuildString(weapon);\n\t\tbuildId += this.getItemBuildString(head);\n\t\tbuildId += this.getItemBuildString(chest);\n\t\tbuildId += this.getItemBuildString(hands);\n\t\tbuildId += this.getItemBuildString(legs);\n\t\tbuildId += this.getItemBuildString(feet);\n\t\tbuildId += this.getItemBuildString(charm);\n\t\tbuildId += this.getItemBuildString(tool1);\n\t\tbuildId += this.getItemBuildString(tool2);\n\n\t\tthis.buildIdUpdated$.next(buildId);\n\t}\n\n\tprivate getItemBuildString(item: ItemModel): string {\n\t\tlet result = 'i';\n\n\t\tif (item) {\n\t\t\tresult += item.id.toString();\n\n\t\t\tif (item.equippedLevel) {\n\t\t\t\tresult += `l${item.equippedLevel}`;\n\t\t\t}\n\n\t\t\tif (item.equipmentCategory == EquipmentCategoryType.Weapon) {\n\t\t\t\tif (item.rarity >= 6) {\n\t\t\t\t\t// -------------------- Augmentations\n\n\t\t\t\t\tfor (const aug of this.equipmentService.augmentations) {\n\t\t\t\t\t\tif (aug.id) {\n\t\t\t\t\t\t\tresult += `a${aug.id}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// -------------------- Upgrades\n\t\t\t\t\tif (this.equipmentService.upgradeContainer) {\n\t\t\t\t\t\tresult += 'u';\n\t\t\t\t\t\tfor (const detail of this.equipmentService.upgradeContainer.upgradeDetails) {\n\t\t\t\t\t\t\tif (detail.level) {\n\t\t\t\t\t\t\t\tresult += `${detail.level}`;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresult += '0';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult += 'c';\n\t\t\t\t\t\tfor (const customId of this.equipmentService.upgradeContainer.customUpgradeIds) {\n\t\t\t\t\t\t\tresult += customId;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult += 'u000000c0000000';\n\t\t\t\t\t}\n\t\t\t\t\t// -------------------- Awakenings\n\t\t\t\t\tif (this.equipmentService.awakenings.length) {\n\t\t\t\t\t\tfor (const awakening of this.equipmentService.awakenings) {\n\t\t\t\t\t\t\tresult += `w${awakening.id}l${awakening.level}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// --------------------\n\n\t\t\t\t\t// -------------------- Setbonus\n\t\t\t\t\tif (this.equipmentService.awakeningSetbonus) {\n\t\t\t\t\t\tresult += `s${this.equipmentService.awakeningSetbonus.buildId}`;\n\t\t\t\t\t}\n\t\t\t\t\t// --------------------\n\t\t\t\t}\n\n\t\t\t\tfor (const mod of this.equipmentService.modifications) {\n\t\t\t\t\tif (mod.id) {\n\t\t\t\t\t\tresult += `m${mod.id}`;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.equipmentService.kinsect) {\n\t\t\t\t\tresult += `k${this.equipmentService.kinsect.id}`;\n\n\t\t\t\t\tif (this.equipmentService.kinsect.element) {\n\t\t\t\t\t\tconst keys = Object.keys(ElementType);\n\t\t\t\t\t\tlet elementIndex = '0';\n\t\t\t\t\t\tfor (const key in keys) {\n\t\t\t\t\t\t\tif (keys.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tconst value = keys[key];\n\t\t\t\t\t\t\t\tif (this.equipmentService.kinsect.element == value) {\n\t\t\t\t\t\t\t\t\telementIndex = key;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult += `e${elementIndex}`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (item.element) {\n\t\t\t\t\tconst elementId = this.dataService.getElementId(item.element);\n\t\t\t\t\tresult += `f${elementId}`;\n\t\t\t\t} else {\n\t\t\t\t\tresult += `f${0}`;\n\t\t\t\t}\n\t\t\t\tif (item.ailment) {\n\t\t\t\t\tconst ailmentId = this.dataService.getAilmentId(item.ailment);\n\t\t\t\t\tresult += `g${ailmentId}`;\n\t\t\t\t} else {\n\t\t\t\t\tresult += `g${0}`;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (item.slots) {\n\t\t\t\tlet decorations = this.equipmentService.decorations.filter(d => d.itemId === item.id);\n\t\t\t\tdecorations = decorations.sort((a, b) => (a.level < b.level) ? 1 : ((a.level > b.level) ? -1 : 0));\n\t\t\t\tfor (let i = 0; i < item.slots.length; i++) {\n\t\t\t\t\tconst slot = item.slots[i];\n\t\t\t\t\tconst decoration = decorations.find(d => d.itemId == item.id && d.level <= slot.level);\n\t\t\t\t\tdecorations = decorations.filter(d => !(d === decoration));\n\t\t\t\t\tif (decoration) {\n\t\t\t\t\t\tresult += `d${decoration.id.toString()}`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate overrideUpgrageLevel(upgradeLevel: UpgradeLevelModel, augIndex: number, value: number) {\n\t\tswitch (augIndex) {\n\t\t\tcase 0:\n\t\t\t\tupgradeLevel.passiveAttack = value;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tupgradeLevel.passiveAffinity = value;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tupgradeLevel.passiveDefense = value;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tupgradeLevel.slotLevel = value;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tupgradeLevel.healOnHitPercent = value;\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tupgradeLevel.passiveAilment = value;\n\t\t\t\tupgradeLevel.passiveElement = value;\n\t\t\t\tbreak;\n\t\t\tcase 6:\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tupgradeLevel.description = '+' + value;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { AmmoCapacitiesModel } from '../models/ammo-capacities.model';\nimport { CalculationVariableModel } from '../models/calculation-variable.model';\nimport { ExtraDataModel } from '../models/extra-data.model';\nimport { KinsectModel } from '../models/kinsect.model';\nimport { SharpnessBarModel } from '../models/sharpness-bar.model';\nimport { StatDetailModel } from '../models/stat-detail.model';\nimport { StatsModel } from '../models/stats.model';\nimport { AttackType } from '../types/attack.type';\n\n@Injectable()\nexport class CalculationService {\n\tpublic attackCalcsUpdated$ = new Subject<StatDetailModel[]>();\n\tpublic defenseCalcsUpdated$ = new Subject<StatDetailModel[]>();\n\tpublic ammoUpdated$ = new Subject<AmmoCapacitiesModel>();\n\tpublic kinsectUpdated$ = new Subject<KinsectModel>();\n\tpublic sharpnessUpdated$ = new Subject<SharpnessBarModel>();\n\tpublic extraDataUpdated$ = new Subject<ExtraDataModel>();\n\n\tattackCalcs = new Array<StatDetailModel>();\n\tdefenseCalcs = new Array<StatDetailModel>();\n\tsharpnessBar = new SharpnessBarModel;\n\textraData = new ExtraDataModel;\n\taffinityTotal = 0;\n\n\tconstructor() {\n\t\tthis.defenseCalcs.push({\n\t\t\tname: 'Defense',\n\t\t\tvalue: '',\n\t\t\ticon: 'defense'\n\t\t});\n\n\t\tthis.defenseCalcs.push({\n\t\t\tname: 'Health',\n\t\t\tvalue: '100',\n\t\t\ticon: 'health'\n\t\t});\n\n\t\tthis.defenseCalcs.push({\n\t\t\tname: 'Stamina',\n\t\t\tvalue: '100',\n\t\t\ticon: 'stamina'\n\t\t});\n\n\t\tthis.defenseCalcs.push({\n\t\t\tname: 'Fire Resist',\n\t\t\tvalue: '',\n\t\t\ticon: 'fire'\n\t\t});\n\n\t\tthis.defenseCalcs.push({\n\t\t\tname: 'Water Resist',\n\t\t\tvalue: '',\n\t\t\ticon: 'water'\n\t\t});\n\n\t\tthis.defenseCalcs.push({\n\t\t\tname: 'Thunder Resist',\n\t\t\tvalue: '',\n\t\t\ticon: 'thunder'\n\t\t});\n\n\t\tthis.defenseCalcs.push({\n\t\t\tname: 'Ice Resist',\n\t\t\tvalue: '',\n\t\t\ticon: 'ice'\n\t\t});\n\n\t\tthis.defenseCalcs.push({\n\t\t\tname: 'Dragon Resist',\n\t\t\tvalue: '',\n\t\t\ticon: 'dragon'\n\t\t});\n\t}\n\n\tupdateCalcs(stats: StatsModel) {\n\t\tthis.buildAttackCalcs(stats);\n\t\tthis.buildDefenseCalcs(stats);\n\t\tthis.buildAmmoCapacities(stats);\n\t\tthis.buildKinsect(stats);\n\t\tthis.getSharpnessBar(stats);\n\t\tthis.getExtraData(stats);\n\n\t\tthis.attackCalcsUpdated$.next(this.attackCalcs);\n\t\tthis.defenseCalcsUpdated$.next(this.defenseCalcs);\n\n\t\tthis.ammoUpdated$.next(stats.ammoCapacitiesUp);\n\t\tthis.kinsectUpdated$.next(stats.kinsect);\n\t\tthis.sharpnessUpdated$.next(this.sharpnessBar);\n\t\tthis.extraDataUpdated$.next(this.extraData);\n\t}\n\n\tprivate buildAttackCalcs(stats: StatsModel) {\n\t\tthis.attackCalcs = [];\n\n\t\tthis.attackCalcs.push(this.getAttack(stats));\n\t\tif (stats.activeAttack || stats.effectivePhysicalSharpnessModifier) {\n\t\t\tthis.attackCalcs.push(this.getAttackPotential(stats));\n\t\t}\n\n\t\tthis.attackCalcs.push(this.getAffinity(stats));\n\t\tif (stats.activeAffinity || stats.weakPointAffinity) {\n\t\t\tthis.affinityTotal = stats.affinity + stats.passiveAffinity + stats.weakPointAffinity + stats.activeAffinity;\n\t\t\tthis.attackCalcs.push(this.getAffinityPotential(stats));\n\t\t}\n\n\t\tthis.attackCalcs.push(this.getCriticalBoost(stats));\n\n\t\tif (stats.ailment) {\n\t\t\tconst ailmentCalc = this.getAilment(stats);\n\t\t\t// this.attackCalcs.push(ailmentCalc);\n\t\t\tthis.attackCalcs.push(this.getAilmentAttack(stats, ailmentCalc));\n\t\t}\n\n\t\tif (stats.element) {\n\t\t\tconst elementCalc = this.getElement(stats);\n\t\t\t// this.attackCalcs.push(elementCalc);\n\t\t\tthis.attackCalcs.push(this.getElementAttack(stats, elementCalc));\n\t\t}\n\n\t\tif (stats.element) {\n\t\t\tif (stats.trueCriticalElement) {\n\t\t\t\tthis.attackCalcs.push({\n\t\t\t\t\tname: 'Elemental Critical Boost',\n\t\t\t\t\tvalue: stats.trueCritElementModifier * 100 + '%',\n\t\t\t\t\ticon: stats.element.toLowerCase() + '-gray'\n\t\t\t\t});\n\t\t\t} else if (stats.criticalElement) {\n\t\t\t\tthis.attackCalcs.push({\n\t\t\t\t\tname: 'Elemental Critical Boost',\n\t\t\t\t\tvalue: stats.critElementModifier * 100 + '%',\n\t\t\t\t\ticon: stats.element.toLowerCase() + '-gray'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (stats.ailment) {\n\t\t\tif (stats.trueCriticalStatus) {\n\t\t\t\tthis.attackCalcs.push({\n\t\t\t\t\tname: 'Ailment Critical Boost',\n\t\t\t\t\tvalue: stats.trueCritStatusModifier * 100 + '%',\n\t\t\t\t\ticon: stats.ailment.toLowerCase() + '-gray'\n\t\t\t\t});\n\t\t\t} else if (stats.criticalStatus) {\n\t\t\t\tthis.attackCalcs.push({\n\t\t\t\t\tname: 'Ailment Critical Boost',\n\t\t\t\t\tvalue: stats.critStatusModifier * 100 + '%',\n\t\t\t\t\ticon: stats.ailment.toLowerCase() + '-gray'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (stats.elderseal) {\n\t\t\tthis.attackCalcs.push(this.getElderseal(stats));\n\t\t}\n\n\t\tif (stats.healOnHitPercent) {\n\t\t\tthis.attackCalcs.push({\n\t\t\t\tname: 'Heal on Hit',\n\t\t\t\tvalue: stats.healOnHitPercent + '%'\n\t\t\t});\n\t\t}\n\t\tif (stats.hastenRecovery != null) {\n\t\t\tthis.attackCalcs.push({\n\t\t\t\tname: 'Heal every 5 Hits',\n\t\t\t\tvalue: stats.hastenRecovery + 'HP'\n\t\t\t});\n\t\t}\n\t\tif (stats.frostcraft != null) {\n\t\t\tthis.attackCalcs.push({\n\t\t\t\tname: 'Frostcraft',\n\t\t\t\tvalue: `+[${stats.frostcraft.join(', ')}]% ATK`\n\t\t\t});\n\t\t}\n\n\t\tthis.attackCalcs.push(this.getRawAttack(stats));\n\t\tthis.attackCalcs.push(this.getRawAttackCritical(stats));\n\t\tif (this.affinityTotal < 100) {\n\t\t\tthis.attackCalcs.push(this.getRawAttackAverage(stats));\n\t\t}\n\t}\n\n\tprivate getAttack(stats: StatsModel): StatDetailModel {\n\t\tconst attackCalc: StatDetailModel = {\n\t\t\tname: 'Attack',\n\t\t\tvalue: stats.totalAttack,\n\t\t\tcalculationVariables: [\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Base Raw Attack',\n\t\t\t\t\tname: 'attack',\n\t\t\t\t\tvalue: Math.round(stats.attack / stats.weaponAttackModifier),\n\t\t\t\t\tcolorClass: 'blue'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Upgrade Attack',\n\t\t\t\t\tname: 'upgrade',\n\t\t\t\t\tvalue: stats.upgradeAttack,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Passive Attack',\n\t\t\t\t\tname: 'passiveAttack',\n\t\t\t\t\tvalue: stats.passiveAttack,\n\t\t\t\t\tcolorClass: 'yellow'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Weapon Modifier',\n\t\t\t\t\tname: 'weaponModifier',\n\t\t\t\t\tvalue: stats.weaponAttackModifier,\n\t\t\t\t\tcolorClass: 'ogreen'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\tif (stats.elementless) {\n\t\t\tattackCalc.calculationVariables.push(this.getElementlessVariable(stats));\n\t\t\tattackCalc.calculationTemplate =\n\t\t\t\t`({attack}  {elementlessBoostPercent} + {upgrade}${stats.awakeningAttack ? ' + {awakening}' : ''} + {passiveAttack})  {weaponModifier}  ${stats.totalAttack}`;\n\t\t} else {\n\t\t\tattackCalc.calculationTemplate =\n\t\t\t\t`({attack} + {upgrade}${stats.awakeningAttack ? ' + {awakening}' : ''} + {passiveAttack})  {weaponModifier}  ${stats.totalAttack}`;\n\t\t}\n\n\t\tif (stats.awakeningAttack > 0) {\n\t\t\tattackCalc.calculationVariables.splice(2, 0, this.getAwakeningVariable(stats));\n\t\t}\n\n\t\treturn attackCalc;\n\t}\n\n\tprivate getAttackPotential(stats: StatsModel): StatDetailModel {\n\t\tconst attackPotentialCalc: StatDetailModel = {\n\t\t\tname: 'Attack Potential',\n\t\t\tvalue: stats.totalAttackPotential,\n\t\t\tcalculationVariables: [\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Base Raw Attack',\n\t\t\t\t\tname: 'attack',\n\t\t\t\t\tvalue: Math.round(stats.attack / stats.weaponAttackModifier),\n\t\t\t\t\tcolorClass: 'blue'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Upgrade Attack',\n\t\t\t\t\tname: 'upgrade',\n\t\t\t\t\tvalue: stats.upgradeAttack,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Passive Attack',\n\t\t\t\t\tname: 'passiveAttack',\n\t\t\t\t\tvalue: stats.passiveAttack,\n\t\t\t\t\tcolorClass: 'yellow'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Active Attack',\n\t\t\t\t\tname: 'activeAttack',\n\t\t\t\t\tvalue: stats.activeAttack,\n\t\t\t\t\tcolorClass: 'orange'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Weapon Modifier',\n\t\t\t\t\tname: 'weaponModifier',\n\t\t\t\t\tvalue: stats.weaponAttackModifier,\n\t\t\t\t\tcolorClass: 'ogreen'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Physical Sharpness Modifier',\n\t\t\t\t\tname: 'sharpnessModifier',\n\t\t\t\t\tvalue: stats.effectivePhysicalSharpnessModifier,\n\t\t\t\t\tcolorClass: 'purple'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\tif (stats.elementlessBoostPercent > 0 && stats.totalAilmentAttack == 0 && stats.totalElementAttack == 0) {\n\t\t\tattackPotentialCalc.calculationTemplate =\n\t\t\t\t(stats.activeAttackPercent > 0 ? `(` : ``)\n\t\t\t\t+ `({attack}  {elementlessBoostPercent}`\n\t\t\t\t+ ` + {upgrade}${stats.awakeningAttack ? ` + {awakening}` : ``}`\n\t\t\t\t+ (stats.activeAttackPercent > 0 ? `)  {activeAttackPercent}` : ``)\n\t\t\t\t+ ` + {passiveAttack} + {activeAttack})`\n\t\t\t\t+ `<br>  {weaponModifier}  {sharpnessModifier}`\n\t\t\t\t+ `<br><br>${Math.round(stats.totalAttackPotential * stats.effectivePhysicalSharpnessModifier)}`;\n\t\t\tattackPotentialCalc.calculationVariables.push(this.getElementlessVariable(stats));\n\t\t} else {\n\t\t\tattackPotentialCalc.calculationTemplate =\n\t\t\t\t(stats.activeAttackPercent > 0 ? `(` : ``)\n\t\t\t\t+ `({attack}`\n\t\t\t\t+ ` + {upgrade}${stats.awakeningAttack ? ` + {awakening}` : ``}`\n\t\t\t\t+ (stats.activeAttackPercent > 0 ? `)  {activeAttackPercent}` : ``)\n\t\t\t\t+ ` + {passiveAttack} + {activeAttack})`\n\t\t\t\t+ `  {weaponModifier}  {sharpnessModifier}`\n\t\t\t\t+ `<br><br>${Math.round(stats.totalAttackPotential * stats.effectivePhysicalSharpnessModifier)}`;\n\t\t}\n\n\t\tif (stats.activeAttackPercent > 0) {\n\t\t\tattackPotentialCalc.calculationVariables.splice(4, 0, {\n\t\t\t\tdisplayName: 'Active Attack Percent',\n\t\t\t\tname: 'activeAttackPercent',\n\t\t\t\tvalue: stats.activeAttackPercent / 100,\n\t\t\t\tcolorClass: 'red'\n\t\t\t});\n\t\t}\n\n\t\tif (stats.awakeningAttack > 0) {\n\t\t\tattackPotentialCalc.calculationVariables.splice(2, 0, this.getAwakeningVariable(stats));\n\t\t}\n\n\t\treturn attackPotentialCalc;\n\t}\n\n\tprivate getElementlessVariable(stats: StatsModel): CalculationVariableModel {\n\t\treturn {\n\t\t\tdisplayName: 'Elementless Boost Modifier',\n\t\t\tname: 'elementlessBoostPercent',\n\t\t\tvalue: (1 + stats.elementlessBoostPercent / 100).toFixed(2),\n\t\t\tcolorClass: 'kakhi'\n\t\t};\n\t}\n\n\tprivate getAwakeningVariable(stats: StatsModel): CalculationVariableModel {\n\t\treturn {\n\t\t\tdisplayName: 'Awakening Attack',\n\t\t\tname: 'awakening',\n\t\t\tvalue: stats.awakeningAttack,\n\t\t\tcolorClass: 'green'\n\t\t};\n\t}\n\n\tprivate getSharpnessBar(stats: StatsModel) {\n\t\tif (stats.sharpnessLevelsBar && !isNaN(stats.sharpnessLevelsBar[0])) {\n\t\t\tthis.sharpnessBar.levels = JSON.parse(JSON.stringify(stats.sharpnessLevelsBar));\n\t\t\tthis.sharpnessBar.handicraftLevel = (stats.passiveSharpness / 10);\n\t\t\tthis.sharpnessBar.sharpnessDataNeeded = stats.sharpnessDataNeeded;\n\t\t} else {\n\t\t\tthis.sharpnessBar.levels = null;\n\t\t}\n\t}\n\n\tprivate getExtraData(stats: StatsModel) {\n\t\tthis.extraData = stats.extraData;\n\t}\n\n\tprivate getAffinity(stats: StatsModel): StatDetailModel {\n\t\tconst affinityValue = `${stats.affinity + stats.passiveAffinity}%`;\n\t\tconst affinityCalc: StatDetailModel = {\n\t\t\tname: 'Affinity',\n\t\t\tvalue: affinityValue,\n\t\t\tcalculationTemplate: `{affinity} + {passiveAffinity} = ${affinityValue}`,\n\t\t\tcalculationVariables: [\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Weapon Base Affinity',\n\t\t\t\t\tname: 'affinity',\n\t\t\t\t\tvalue: stats.affinity,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Passive Affinity',\n\t\t\t\t\tname: 'passiveAffinity',\n\t\t\t\t\tvalue: stats.passiveAffinity,\n\t\t\t\t\tcolorClass: 'blue'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\treturn affinityCalc;\n\t}\n\n\tprivate getAffinityPotential(stats: StatsModel): StatDetailModel {\n\t\tconst value = `${this.affinityTotal}%`;\n\t\tconst affinityPotentialCalc: StatDetailModel = {\n\t\t\tname: 'Affinity Potential',\n\t\t\tvalue: value,\n\t\t\tcalculationTemplate: `Base: {base} + {passive} + {weakPoint} + {active} = ${value}`,\n\t\t\tcalculationVariables: [\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Weapon Base Affinity',\n\t\t\t\t\tname: 'base',\n\t\t\t\t\tvalue: stats.affinity,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Passive Affinity',\n\t\t\t\t\tname: 'passive',\n\t\t\t\t\tvalue: stats.passiveAffinity,\n\t\t\t\t\tcolorClass: 'yellow'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Weak Point Affinity',\n\t\t\t\t\tname: 'weakPoint',\n\t\t\t\t\tvalue: stats.weakPointAffinity,\n\t\t\t\t\tcolorClass: 'blue'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Active Affinity',\n\t\t\t\t\tname: 'active',\n\t\t\t\t\tvalue: stats.activeAffinity,\n\t\t\t\t\tcolorClass: 'orange'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\treturn affinityPotentialCalc;\n\t}\n\n\tprivate getCriticalBoost(stats: StatsModel): StatDetailModel {\n\t\tconst critBoostValue = `${125 + stats.passiveCriticalBoostPercent}%`;\n\t\tconst critBoostCalc: StatDetailModel = {\n\t\t\tname: 'Critical Boost',\n\t\t\tvalue: critBoostValue,\n\t\t\tcalculationTemplate: `{base} + {passive} = ${critBoostValue}`,\n\t\t\tcalculationVariables: [\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Base Critical Boost',\n\t\t\t\t\tname: 'base',\n\t\t\t\t\tvalue: '125',\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Passive Critical Boost',\n\t\t\t\t\tname: 'passive',\n\t\t\t\t\tvalue: stats.passiveCriticalBoostPercent,\n\t\t\t\t\tcolorClass: 'blue'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\treturn critBoostCalc;\n\t}\n\n\tprivate getAilment(stats: StatsModel): StatDetailModel {\n\t\tconst ailmentCalc: StatDetailModel = {\n\t\t\tname: 'Ailment',\n\t\t\tvalue: stats.ailment,\n\t\t\tinfo: []\n\t\t};\n\n\t\tif (stats.ailmentCapped) {\n\t\t\tailmentCalc.info.push('Ailment attack is capped.');\n\t\t\tailmentCalc.color = 'yellow';\n\t\t}\n\n\t\tif (stats.ailmentHidden && stats.elementAttackMultiplier < 1) {\n\t\t\tailmentCalc.info.push('Effectiveness reduced due to hidden ailment.');\n\t\t\tailmentCalc.color = !stats.elementAttackMultiplier ? 'gray' : 'lightgray';\n\t\t}\n\n\t\treturn ailmentCalc;\n\t}\n\n\tprivate getAilmentAttack(stats: StatsModel, ailmentCalc: StatDetailModel): StatDetailModel {\n\t\tlet value = `${Math.round(stats.totalAilmentAttack)}`;\n\t\tif (stats.totalAilmentAttack != stats.totalAilmentAttackPotential) {\n\t\t\tvalue = `${stats.totalAilmentAttack} | ${stats.totalAilmentAttackPotential}`;\n\t\t}\n\t\tconst ailmentAttackCalc: StatDetailModel = {\n\t\t\tname: 'Ailment Attack',\n\t\t\tvalue: value,\n\t\t\tvalueColor: ailmentCalc.color,\n\t\t\ticon: stats.ailment.toLowerCase() + (stats.effectiveAilmentAttack == 0 ? '-gray' : ''),\n\t\t\tcolor: ailmentCalc.color,\n\t\t\tinfo: ailmentCalc.info,\n\t\t\tcalculationVariables: [\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Weapon Base Ailment Attack',\n\t\t\t\t\tname: 'base',\n\t\t\t\t\tvalue: stats.baseAilmentAttack - stats.upgradeAilmentAttack - stats.awakeningAilmentAttack,\n\t\t\t\t\tcolorClass: 'blue'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Weapon Upgrade Ailment Attack',\n\t\t\t\t\tname: 'upgrade',\n\t\t\t\t\tvalue: stats.upgradeAilmentAttack,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Weapon Awakening Ailment Attack',\n\t\t\t\t\tname: 'awakening',\n\t\t\t\t\tvalue: stats.awakeningAilmentAttack,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Passive Ailment Buildup Percent',\n\t\t\t\t\tname: 'passiveBuildup',\n\t\t\t\t\tvalue: stats.effectivePassiveAilmentBuildupPercent / 100,\n\t\t\t\t\tcolorClass: 'oyellow'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Passive Ailment Attack',\n\t\t\t\t\tname: 'passive',\n\t\t\t\t\tvalue: stats.effectivePassiveAilmentAttack,\n\t\t\t\t\tcolorClass: 'yellow'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Active Ailment Attack',\n\t\t\t\t\tname: 'active',\n\t\t\t\t\tvalue: stats.activeAilmentAttack,\n\t\t\t\t\tcolorClass: 'orange'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Active Ailment Buildup Percent',\n\t\t\t\t\tname: 'activeBuildup',\n\t\t\t\t\tvalue: stats.activeAilmentAttackBuildUpPercent / 100,\n\t\t\t\t\tcolorClass: 'red'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\tif (stats.ailmentHidden) {\n\t\t\tailmentAttackCalc.calculationVariables.push({\n\t\t\t\tdisplayName: 'Hidden Ailment Multiplier',\n\t\t\t\tname: 'multiplier',\n\t\t\t\tvalue: stats.elementAttackMultiplier,\n\t\t\t\tcolorClass: 'kakhi'\n\t\t\t});\n\n\t\t\tif (stats.elementAttackMultiplier) {\n\t\t\t\tailmentAttackCalc.calculationTemplate =\n\t\t\t\t\t`(({base} + {upgrade} + {awakening})  {multiplier} (1 + {passiveBuildup} + {activeBuildup}) + {passive} + {active}  ${stats.totalAilmentAttackPotential}`;\n\t\t\t} else {\n\t\t\t\tailmentAttackCalc.calculationTemplate =\n\t\t\t\t\t`(({base} + {upgrade} + {awakening})  (1 + {passiveBuildup} + {activeBuildup}) + {passive} + {active})  {multiplier}  ${stats.totalAilmentAttackPotential}`;\n\t\t\t}\n\t\t} else {\n\t\t\tailmentAttackCalc.calculationTemplate =\n\t\t\t\t`({base} + {upgrade} + {awakening})  (1 + {passiveBuildup} + {activeBuildup}) + {passive} + {active}  ${stats.totalAilmentAttackPotential}`;\n\t\t}\n\n\t\treturn ailmentAttackCalc;\n\t}\n\n\tprivate getElement(stats: StatsModel): StatDetailModel {\n\t\tconst elementCalc: StatDetailModel = {\n\t\t\tname: 'Element',\n\t\t\tvalue: stats.element,\n\t\t\tinfo: []\n\t\t};\n\n\t\tif (stats.elementCapped) {\n\t\t\telementCalc.info.push('Element attack is capped.');\n\t\t\telementCalc.color = 'yellow';\n\t\t}\n\n\t\tif (stats.elementHidden && stats.elementAttackMultiplier < 1) {\n\t\t\telementCalc.info.push('Effectiveness reduced due to hidden element.');\n\t\t\telementCalc.color = !stats.elementAttackMultiplier ? 'gray' : 'lightgray';\n\t\t}\n\n\t\treturn elementCalc;\n\t}\n\n\tprivate getElementAttack(stats: StatsModel, elementCalc: StatDetailModel): StatDetailModel {\n\t\tlet value = `${Math.round(stats.totalElementAttack)}`;\n\t\tif (stats.totalElementAttack != stats.totalElementAttackPotential) {\n\t\t\tvalue = `${stats.totalElementAttack} | ${stats.totalElementAttackPotential}`;\n\t\t}\n\t\tconst elementAttackCalc: StatDetailModel = {\n\t\t\tname: 'Elment Attack',\n\t\t\tvalue: value,\n\t\t\tvalueColor: elementCalc.color,\n\t\t\ticon: stats.element.toLowerCase() + (stats.effectiveElementAttack == 0 ? '-gray' : ''),\n\t\t\tcolor: elementCalc.color,\n\t\t\tinfo: elementCalc.info,\n\t\t\tcalculationVariables: [\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Weapon Base Element Attack',\n\t\t\t\t\tname: 'base',\n\t\t\t\t\tvalue: stats.baseElementAttack - stats.upgradeElementAttack - stats.awakeningElementAttack,\n\t\t\t\t\tcolorClass: 'blue'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Weapon Upgrade Element Attack',\n\t\t\t\t\tname: 'upgrade',\n\t\t\t\t\tvalue: stats.upgradeElementAttack,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Weapon Awakening Element Attack',\n\t\t\t\t\tname: 'awakening',\n\t\t\t\t\tvalue: stats.awakeningElementAttack,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Passive Element Attack',\n\t\t\t\t\tname: 'passive',\n\t\t\t\t\tvalue: stats.effectivePassiveElementAttack,\n\t\t\t\t\tcolorClass: 'yellow'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Active Element Attack',\n\t\t\t\t\tname: 'active',\n\t\t\t\t\tvalue: stats.activeElementAttack,\n\t\t\t\t\tcolorClass: 'orange'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\tif (stats.elementHidden) {\n\t\t\telementAttackCalc.calculationVariables.push({\n\t\t\t\tdisplayName: 'Hidden Element Multiplier',\n\t\t\t\tname: 'multiplier',\n\t\t\t\tvalue: stats.elementAttackMultiplier,\n\t\t\t\tcolorClass: 'kakhi'\n\t\t\t});\n\n\t\t\tif (stats.elementAttackMultiplier) {\n\t\t\t\telementAttackCalc.calculationTemplate = `({base} + {upgrade} + {awakening})  {multiplier} + {passive} + {active}  ${stats.totalElementAttackPotential}`;\n\t\t\t} else {\n\t\t\t\telementAttackCalc.calculationTemplate = `({base + {upgrade} + {awakening}} + {passive} + {active})  {multiplier}  ${stats.totalElementAttackPotential}`;\n\t\t\t}\n\t\t} else {\n\t\t\telementAttackCalc.calculationTemplate = `{base} + {upgrade} + {awakening} + {passive} + {active} = ${stats.totalElementAttackPotential}`;\n\t\t}\n\n\t\treturn elementAttackCalc;\n\t}\n\n\tprivate getElderseal(stats: StatsModel): StatDetailModel {\n\t\treturn {\n\t\t\tname: 'Elderseal',\n\t\t\tvalue: stats.elderseal\n\t\t};\n\t}\n\n\tprivate getRawAttack(stats: StatsModel): StatDetailModel {\n\t\tconst affinityPotentialTotal = Math.min(this.affinityTotal, 100);\n\n\t\tconst auxDivider = (stats.ailment && stats.element) ? 2 : 1;\n\n\t\tconst trueElement =\n\t\t\tthis.getElementAverage(\n\t\t\t\tstats.totalElementAttackPotential, // Attack\n\t\t\t\t0, // Affinity\n\t\t\t\t0, // Critical Modifier\n\t\t\t\tstats.effectiveElementalSharpnessModifier, // Weaponn Modifier\n\t\t\t\tauxDivider // Divider\n\t\t\t);\n\n\t\tconst trueAilment =\n\t\t\tthis.getAilmentAverage(\n\t\t\t\tstats.totalAilmentAttackPotential, // Attack\n\t\t\t\t0, // Affinity\n\t\t\t\t0, // Critical Modifier\n\t\t\t\tstats.effectiveElementalSharpnessModifier, // Weapon Modifier\n\t\t\t\tauxDivider // Divider\n\t\t\t);\n\n\t\tconst rawAttackAveragePotentialCalc: StatDetailModel = {\n\t\t\tname: 'True Raw',\n\t\t\tvalue: Number.isInteger(stats.totalAttackPotential) ?\n\t\t\t\t`${Math.round(stats.totalAttackPotential * stats.effectivePhysicalSharpnessModifier / stats.weaponAttackModifier)}`\n\t\t\t\t: 0,\n\t\t\textra1: stats.ailment && trueAilment ? trueAilment : null,\n\t\t\tclass1: stats.ailment && trueAilment ? stats.ailment : null,\n\t\t\textra2: stats.element && trueElement ? trueElement : null,\n\t\t\tclass2: stats.element && trueElement ? stats.element : null,\n\t\t\tcalculationTemplate:\n\t\t\t\t`<br><i class=\"fas fa-bullseye fa-xs\"></i> {totalAttackPotential}  {sharpnessModifier}  {weaponModifier}  ${Math.round(stats.totalAttackPotential * stats.effectivePhysicalSharpnessModifier / stats.weaponAttackModifier)}`,\n\t\t\tcalculationVariables: [\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Total Attack Potential',\n\t\t\t\t\tname: 'totalAttackPotential',\n\t\t\t\t\tvalue: stats.totalAttackPotential,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Total Affinity Potential',\n\t\t\t\t\tname: 'totalAffinityPotential',\n\t\t\t\t\tvalue: (affinityPotentialTotal / 100).toFixed(2),\n\t\t\t\t\tcolorClass: 'blue'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Physical Sharpness Modifier',\n\t\t\t\t\tname: 'sharpnessModifier',\n\t\t\t\t\tvalue: stats.effectivePhysicalSharpnessModifier,\n\t\t\t\t\tcolorClass: 'purple'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Weapon Modifier',\n\t\t\t\t\tname: 'weaponModifier',\n\t\t\t\t\tvalue: stats.weaponAttackModifier.toFixed(2),\n\t\t\t\t\tcolorClass: 'ogreen'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\tif (stats.ailment && trueAilment) {\n\t\t\trawAttackAveragePotentialCalc.extra1 = trueAilment;\n\t\t\trawAttackAveragePotentialCalc.class1 = stats.ailment;\n\t\t\trawAttackAveragePotentialCalc.calculationTemplate +=\n\t\t\t\t`<br><i class=\"fas fa-bullseye fa-xs\"></i> {totalAilment}  {elementSharpnessModifier}  <span class=\"ogreen\">30</span>${auxDivider == 2 ? '  2' : ''}  ${trueAilment}`;\n\t\t\trawAttackAveragePotentialCalc.calculationVariables.push(\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Ailement Attack',\n\t\t\t\t\tname: 'totalAilment',\n\t\t\t\t\tvalue: stats.totalAilmentAttackPotential,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\tif (stats.element && trueElement) {\n\t\t\trawAttackAveragePotentialCalc.extra2 = trueElement;\n\t\t\trawAttackAveragePotentialCalc.class2 = stats.element;\n\t\t\trawAttackAveragePotentialCalc.calculationTemplate +=\n\t\t\t\t`<br><i class=\"fas fa-bullseye fa-xs\"></i> {totalElement}  {elementSharpnessModifier}  <span class=\"ogreen\">10</span>${auxDivider == 2 ? '  2' : ''}  ${trueElement}`;\n\t\t\trawAttackAveragePotentialCalc.calculationVariables.push(\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Element Attack',\n\t\t\t\t\tname: 'totalElement',\n\t\t\t\t\tvalue: stats.totalElementAttackPotential,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (stats.ailment && trueAilment || stats.element && trueElement) {\n\t\t\trawAttackAveragePotentialCalc.calculationVariables.push({\n\t\t\t\tdisplayName: 'Element Sharpness Modifier',\n\t\t\t\tname: 'elementSharpnessModifier',\n\t\t\t\tvalue: stats.effectiveElementalSharpnessModifier.toFixed(2),\n\t\t\t\tcolorClass: 'purple'\n\t\t\t});\n\t\t}\n\n\t\treturn rawAttackAveragePotentialCalc;\n\t}\n\n\tprivate getRawAttackCritical(stats: StatsModel): StatDetailModel {\n\t\tconst affinityPotentialTotal = Math.min(this.affinityTotal, 100);\n\n\t\tconst auxDivider = (stats.ailment && stats.element) ? 2 : 1;\n\n\t\tlet elementCriticalBoost = 1;\n\t\tif (stats.trueCriticalElement) {\n\t\t\telementCriticalBoost = stats.trueCritElementModifier;\n\t\t} else if (stats.criticalElement) {\n\t\t\telementCriticalBoost = stats.critElementModifier;\n\t\t}\n\t\tconst trueElement =\n\t\t\tthis.getElementAverage(\n\t\t\t\tstats.totalElementAttackPotential,\n\t\t\t\t100,\n\t\t\t\telementCriticalBoost,\n\t\t\t\tstats.effectiveElementalSharpnessModifier,\n\t\t\t\tauxDivider\n\t\t\t);\n\n\t\tlet ailmentCriticalBoost = 1;\n\t\tif (stats.trueCriticalStatus) {\n\t\t\tailmentCriticalBoost = stats.trueCritStatusModifier;\n\t\t} else if (stats.criticalStatus) {\n\t\t\tailmentCriticalBoost = stats.critStatusModifier;\n\t\t}\n\t\tconst trueAilment =\n\t\t\tthis.getAilmentAverage(\n\t\t\t\tstats.totalAilmentAttackPotential,\n\t\t\t\t100,\n\t\t\t\tailmentCriticalBoost,\n\t\t\t\tstats.effectiveElementalSharpnessModifier,\n\t\t\t\tauxDivider\n\t\t\t);\n\n\t\tconst rawAttackAveragePotentialCalc: StatDetailModel = {\n\t\t\tname: 'True Critical Raw',\n\t\t\tvalue: Number.isInteger(stats.totalAttackPotential) ?\n\t\t\t\t`${Math.round(stats.totalAttackPotential * (1.25 + stats.passiveCriticalBoostPercent / 100) * stats.effectivePhysicalSharpnessModifier / stats.weaponAttackModifier)}`\n\t\t\t\t: 0,\n\t\t\textra1: stats.ailment && trueAilment ? trueAilment : null,\n\t\t\tclass1: stats.ailment && trueAilment ? stats.ailment : null,\n\t\t\textra2: stats.element && trueElement ? trueElement : null,\n\t\t\tclass2: stats.element && trueElement ? stats.element : null,\n\t\t\tcalculationTemplate:\n\t\t\t\t`<i class=\"fas fa-bullseye fa-xs\"></i> {totalAttackPotential}  {criticalBoost}  {sharpnessModifier}  {weaponModifier}  ${Math.round(stats.totalAttackPotential * (1.25 + stats.passiveCriticalBoostPercent / 100) * stats.effectivePhysicalSharpnessModifier / stats.weaponAttackModifier)}`,\n\t\t\tcalculationVariables: [\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Total Attack Potential',\n\t\t\t\t\tname: 'totalAttackPotential',\n\t\t\t\t\tvalue: stats.totalAttackPotential,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Total Affinity Potential',\n\t\t\t\t\tname: 'totalAffinityPotential',\n\t\t\t\t\tvalue: (affinityPotentialTotal / 100).toFixed(2),\n\t\t\t\t\tcolorClass: 'blue'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Total Critical Boost',\n\t\t\t\t\tname: 'criticalBoost',\n\t\t\t\t\tvalue: ((stats.passiveCriticalBoostPercent + 125) / 100).toFixed(2),\n\t\t\t\t\tcolorClass: 'oblue'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Physical Sharpness Modifier',\n\t\t\t\t\tname: 'sharpnessModifier',\n\t\t\t\t\tvalue: stats.effectivePhysicalSharpnessModifier,\n\t\t\t\t\tcolorClass: 'purple'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Weapon Modifier',\n\t\t\t\t\tname: 'weaponModifier',\n\t\t\t\t\tvalue: stats.weaponAttackModifier.toFixed(2),\n\t\t\t\t\tcolorClass: 'ogreen'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\tif (stats.ailment && trueAilment) {\n\t\t\trawAttackAveragePotentialCalc.extra1 = trueAilment;\n\t\t\trawAttackAveragePotentialCalc.class1 = stats.ailment;\n\t\t\trawAttackAveragePotentialCalc.calculationTemplate +=\n\t\t\t\t`<br><i class=\"fas fa-bullseye fa-xs\"></i> {totalAilment}  {criticalAilmentBoost}  {elementSharpnessModifier}  <span class=\"ogreen\">30<span>${auxDivider == 2 ? '  2' : ''}  ${trueAilment}`;\n\t\t\trawAttackAveragePotentialCalc.calculationVariables.push(\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Ailement Attack',\n\t\t\t\t\tname: 'totalAilment',\n\t\t\t\t\tvalue: stats.totalAilmentAttackPotential,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Ailment Critical Boost',\n\t\t\t\t\tname: 'criticalAilmentBoost',\n\t\t\t\t\tvalue: ailmentCriticalBoost.toFixed(2),\n\t\t\t\t\tcolorClass: 'oblue'\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\tif (stats.element && trueElement) {\n\t\t\trawAttackAveragePotentialCalc.extra2 = trueElement;\n\t\t\trawAttackAveragePotentialCalc.class2 = stats.element;\n\t\t\trawAttackAveragePotentialCalc.calculationTemplate +=\n\t\t\t\t`<br><i class=\"fas fa-bullseye fa-xs\"></i> {totalElement}  {criticalElementBoost}  {elementSharpnessModifier}  <span class=\"ogreen\">10</span>${auxDivider == 2 ? '  2' : ''}  ${trueElement}`;\n\t\t\trawAttackAveragePotentialCalc.calculationVariables.push(\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Element Attack',\n\t\t\t\t\tname: 'totalElement',\n\t\t\t\t\tvalue: stats.totalElementAttackPotential,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Element Critical Boost',\n\t\t\t\t\tname: 'criticalElementBoost',\n\t\t\t\t\tvalue: elementCriticalBoost.toFixed(2),\n\t\t\t\t\tcolorClass: 'oblue'\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (stats.ailment && trueAilment || stats.element && trueElement) {\n\t\t\trawAttackAveragePotentialCalc.calculationVariables.push({\n\t\t\t\tdisplayName: 'Element Sharpness Modifier',\n\t\t\t\tname: 'elementSharpnessModifier',\n\t\t\t\tvalue: stats.effectiveElementalSharpnessModifier.toFixed(2),\n\t\t\t\tcolorClass: 'purple'\n\t\t\t});\n\t\t}\n\n\t\treturn rawAttackAveragePotentialCalc;\n\t}\n\n\tprivate getRawAttackAverage(stats: StatsModel): StatDetailModel {\n\t\tconst affinityPotentialTotal = Math.min(this.affinityTotal, 100);\n\t\tconst rawAttackAveragePotential =\n\t\t\tthis.getRawAverage(\n\t\t\t\tstats.totalAttackPotential,\n\t\t\t\taffinityPotentialTotal,\n\t\t\t\tstats.passiveCriticalBoostPercent,\n\t\t\t\tstats.weaponAttackModifier\n\t\t\t);\n\n\t\tconst auxDivider = (stats.ailment && stats.element) ? 2 : 1;\n\n\t\tlet elementCriticalBoost = 1;\n\t\tif (stats.trueCriticalElement) {\n\t\t\telementCriticalBoost = stats.trueCritElementModifier;\n\t\t} else if (stats.criticalElement) {\n\t\t\telementCriticalBoost = stats.critElementModifier;\n\t\t}\n\t\tconst trueElementPotential =\n\t\t\tthis.getElementAverage(\n\t\t\t\tstats.totalElementAttackPotential,\n\t\t\t\tMath.max(affinityPotentialTotal, 0),\n\t\t\t\telementCriticalBoost,\n\t\t\t\tstats.effectiveElementalSharpnessModifier,\n\t\t\t\tauxDivider\n\t\t\t);\n\n\t\tlet ailmentCriticalBoost = 1;\n\t\tif (stats.trueCriticalStatus) {\n\t\t\tailmentCriticalBoost = stats.trueCritStatusModifier;\n\t\t} else if (stats.criticalStatus) {\n\t\t\tailmentCriticalBoost = stats.critStatusModifier;\n\t\t}\n\t\tconst trueAilmentPotential =\n\t\t\tthis.getAilmentAverage(\n\t\t\t\tstats.totalAilmentAttackPotential,\n\t\t\t\tMath.max(affinityPotentialTotal, 0),\n\t\t\t\tailmentCriticalBoost,\n\t\t\t\tstats.effectiveElementalSharpnessModifier,\n\t\t\t\tauxDivider\n\t\t\t);\n\n\t\tconst rawAttackAveragePotentialCalc: StatDetailModel = {\n\t\t\tname: 'True Average Raw',\n\t\t\tvalue: Number.isInteger(rawAttackAveragePotential) ? Math.round(rawAttackAveragePotential * stats.effectivePhysicalSharpnessModifier) : 0,\n\t\t\tcalculationTemplate:\n\t\t\t\t`<i class=\"fas fa-bullseye fa-sm\"></i> ({totalAttackPotential}  {totalAffinityPotential}  {criticalBoost} + {totalAttackPotential}  (1 - {totalAffinityPotential}))`\n\t\t\t\t+ `<br> {sharpnessModifier}  {weaponModifier}  ${rawAttackAveragePotential}`,\n\t\t\tcalculationVariables: [\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Total Attack Potential',\n\t\t\t\t\tname: 'totalAttackPotential',\n\t\t\t\t\tvalue: stats.totalAttackPotential,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Total Affinity Potential',\n\t\t\t\t\tname: 'totalAffinityPotential',\n\t\t\t\t\tvalue: (affinityPotentialTotal / 100).toFixed(2),\n\t\t\t\t\tcolorClass: 'blue'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Total Critical Boost',\n\t\t\t\t\tname: 'criticalBoost',\n\t\t\t\t\tvalue: ((stats.passiveCriticalBoostPercent + 125) / 100).toFixed(2),\n\t\t\t\t\tcolorClass: 'oblue'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Physical Sharpness Modifier',\n\t\t\t\t\tname: 'sharpnessModifier',\n\t\t\t\t\tvalue: stats.effectivePhysicalSharpnessModifier,\n\t\t\t\t\tcolorClass: 'purple'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Weapon Modifier',\n\t\t\t\t\tname: 'weaponModifier',\n\t\t\t\t\tvalue: stats.weaponAttackModifier.toFixed(2),\n\t\t\t\t\tcolorClass: 'ogreen'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\tif (stats.ailment && trueAilmentPotential) {\n\t\t\trawAttackAveragePotentialCalc.extra1 = trueAilmentPotential;\n\t\t\trawAttackAveragePotentialCalc.class1 = stats.ailment;\n\t\t\trawAttackAveragePotentialCalc.calculationTemplate +=\n\t\t\t\t`<br><i class=\"fas fa-bullseye fa-xs\"></i> ({totalAilmentPotential}  {totalAffinityPotential}  {criticalAilmentBoost} + {totalAilmentPotential}  (1 - {totalAffinityPotential}))`\n\t\t\t\t+ `<br>  {elementSharpnessModifier}  <span class=\"ogreen\">30</span>${auxDivider == 2 ? '  2' : ''}  ${trueAilmentPotential}`;\n\t\t\trawAttackAveragePotentialCalc.calculationVariables.push(\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Ailement Attack Potential',\n\t\t\t\t\tname: 'totalAilmentPotential',\n\t\t\t\t\tvalue: stats.totalAilmentAttackPotential,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Ailment Critical Boost',\n\t\t\t\t\tname: 'criticalAilmentBoost',\n\t\t\t\t\tvalue: ailmentCriticalBoost.toFixed(2),\n\t\t\t\t\tcolorClass: 'oblue'\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\tif (stats.element && trueElementPotential) {\n\t\t\trawAttackAveragePotentialCalc.extra2 = trueElementPotential;\n\t\t\trawAttackAveragePotentialCalc.class2 = stats.element;\n\t\t\trawAttackAveragePotentialCalc.calculationTemplate +=\n\t\t\t\t`<br><i class=\"fas fa-bullseye fa-xs\"></i> ({totalElementPotential}  {totalAffinityPotential}  {criticalElementBoost} + {totalElementPotential}  (1 - {totalAffinityPotential}))`\n\t\t\t\t+ `<br>  {elementSharpnessModifier}  <span class=\"ogreen\">10</span>${auxDivider == 2 ? '  2' : ''}  ${trueElementPotential}`;\n\t\t\trawAttackAveragePotentialCalc.calculationVariables.push(\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Element Attack Potential',\n\t\t\t\t\tname: 'totalElementPotential',\n\t\t\t\t\tvalue: stats.totalElementAttackPotential,\n\t\t\t\t\tcolorClass: 'green'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplayName: 'Element Critical Boost',\n\t\t\t\t\tname: 'criticalElementBoost',\n\t\t\t\t\tvalue: elementCriticalBoost.toFixed(2),\n\t\t\t\t\tcolorClass: 'oblue'\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (stats.ailment && trueAilmentPotential || stats.element && trueElementPotential) {\n\t\t\trawAttackAveragePotentialCalc.calculationVariables.push({\n\t\t\t\tdisplayName: 'Element Sharpness Modifier',\n\t\t\t\tname: 'elementSharpnessModifier',\n\t\t\t\tvalue: stats.effectiveElementalSharpnessModifier.toFixed(2),\n\t\t\t\tcolorClass: 'purple'\n\t\t\t});\n\t\t}\n\n\t\treturn rawAttackAveragePotentialCalc;\n\t}\n\n\tprivate buildDefenseCalcs(stats: StatsModel) {\n\t\tlet defValue = '';\n\t\tfor (let i = 0; i < stats.defense.length; i++) {\n\t\t\tlet def = stats.defense[i];\n\t\t\tif (i == stats.defense.length - 1) {\n\t\t\t\tdef += 101;\n\t\t\t}\n\t\t\tdefValue += Math.round(def * (1 + stats.passiveDefensePercent / 100) + stats.passiveDefense + stats.activeDefense);\n\t\t\tif (i < stats.defense.length - 2) {\n\t\t\t\tdefValue += '  ';\n\t\t\t} else if (i < stats.defense.length - 1) {\n\t\t\t\tdefValue += '  ';\n\t\t\t}\n\t\t}\n\n\t\t// Defense [0]\n\t\tthis.defenseCalcs[0].value = defValue;\n\t\t// Health [1]\n\t\tif (stats.passiveHealth) {\n\t\t\tthis.defenseCalcs[1].value = 100 + stats.passiveHealth;\n\t\t}\n\t\t// Stamina [2]\n\t\tif (stats.passiveStamina) {\n\t\t\tthis.defenseCalcs[2].value = 100 + stats.passiveStamina;\n\t\t}\n\t\t// Fire [3]\n\t\tthis.defenseCalcs[3].value = stats.fireResist + stats.passiveFireResist;\n\t\t// Water [4]\n\t\tthis.defenseCalcs[4].value = stats.waterResist + stats.passiveWaterResist;\n\t\t// Thunder [5]\n\t\tthis.defenseCalcs[5].value = stats.thunderResist + stats.passiveThunderResist;\n\t\t// Ice [6]\n\t\tthis.defenseCalcs[6].value = stats.iceResist + stats.passiveIceResist;\n\t\t// Dragon [7]\n\t\tthis.defenseCalcs[7].value = stats.dragonResist + stats.passiveDragonResist;\n\t}\n\n\tprivate buildAmmoCapacities(stats: StatsModel) {\n\t\tif (stats.ammoCapacities) {\n\t\t\tstats.ammoCapacitiesUp = JSON.parse(JSON.stringify(stats.ammoCapacities));\n\t\t\tif (stats.ammoUp >= 1) {\n\t\t\t\tfor (const ammo of stats.ammoCapacitiesUp.ammo) {\n\t\t\t\t\tif (ammo.levels.length == 3) {\n\t\t\t\t\t\tif (ammo.name !== 'sticky' && ammo.name !== 'cluster') {\n\t\t\t\t\t\t\tammo.levels[0].capacity\n\t\t\t\t\t\t\t\t+= (ammo.levels[0].capacity >= 5 ? 2 : (ammo.levels[0].capacity > 0 ? 1 : 0));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tammo.levels[0].capacity\n\t\t\t\t\t\t\t\t+= (ammo.levels[0].capacity < 3 && ammo.levels[0].capacity > 0 ? 1 : 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (stats.ammoUp >= 2) {\n\t\t\t\tfor (const ammo of stats.ammoCapacitiesUp.ammo) {\n\t\t\t\t\tif (ammo.levels.length == 3) {\n\t\t\t\t\t\tif (ammo.name !== 'sticky' && ammo.name !== 'cluster') {\n\t\t\t\t\t\t\tammo.levels[1].capacity\n\t\t\t\t\t\t\t\t+= (ammo.levels[1].capacity >= 5 ? 2 : (ammo.levels[1].capacity > 0 ? 1 : 0));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tammo.levels[1].capacity\n\t\t\t\t\t\t\t\t+= (ammo.levels[1].capacity < 3 && ammo.levels[1].capacity > 0 ? 1 : 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (ammo.levels.length == 2) {\n\t\t\t\t\t\tammo.levels[0].capacity\n\t\t\t\t\t\t\t+= (ammo.levels[0].capacity >= 5 ? 2 : (ammo.levels[0].capacity > 0 ? 1 : 0));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (stats.ammoUp >= 3) {\n\t\t\t\tfor (const ammo of stats.ammoCapacitiesUp.ammo) {\n\t\t\t\t\tif (ammo.levels.length == 3) {\n\t\t\t\t\t\tif (ammo.name !== 'sticky' && ammo.name !== 'cluster') {\n\t\t\t\t\t\t\tammo.levels[2].capacity\n\t\t\t\t\t\t\t\t+= (ammo.levels[2].capacity >= 5 ? 2 : (ammo.levels[2].capacity > 0 ? 1 : 0));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tammo.levels[2].capacity\n\t\t\t\t\t\t\t\t+= (ammo.levels[2].capacity < 3 && ammo.levels[2].capacity > 0 ? 1 : 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (ammo.levels.length == 2) {\n\t\t\t\t\t\tammo.levels[1].capacity\n\t\t\t\t\t\t\t+= (ammo.levels[1].capacity >= 5 ? 2 : (ammo.levels[1].capacity > 0 ? 1 : 0));\n\t\t\t\t\t}\n\t\t\t\t\tif (ammo.levels.length == 1) {\n\t\t\t\t\t\tif (ammo.name == 'wyvern') {\n\t\t\t\t\t\t} else if (ammo.name !== 'dragon' && ammo.name !== 'slicing') {\n\t\t\t\t\t\t\tammo.levels[0].capacity\n\t\t\t\t\t\t\t\t+= (ammo.levels[0].capacity >= 5 ? 2 : (ammo.levels[0].capacity > 0 ? 1 : 0));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tammo.levels[0].capacity\n\t\t\t\t\t\t\t\t+= (ammo.levels[0].capacity < 3 && ammo.levels[0].capacity > 0 ? 1 : 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate buildKinsect(stats: StatsModel) {\n\t\tif (stats.kinsect) {\n\t\t\tif (stats.extraData) {\n\t\t\t\tswitch (stats.extraData.otherData[0].value) {\n\t\t\t\t\tcase 'Blunt':\n\t\t\t\t\t\tif (stats.kinsect.attackType == AttackType.Blunt) {\n\t\t\t\t\t\t\t// stats.kinsect.power += 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Sever':\n\t\t\t\t\t\tif (stats.kinsect.attackType == AttackType.Sever) {\n\t\t\t\t\t\t\t// stats.kinsect.power += 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Element':\n\t\t\t\t\t\tif (stats.kinsect.element) {\n\t\t\t\t\t\t\t// stats.kinsect.powerElement += 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Health':\n\t\t\t\t\t\t// stats.kinsect.heal += 2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Speed':\n\t\t\t\t\t\t// stats.kinsect.speed += 2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Stamina':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getRawAverage(attack: number, affinity: number, criticalBoostPercent: number, weaponAttackModifier: number): number {\n\t\tconst attackWithAffinity = attack * (Math.min(affinity, 100) / 100) * (Math.min(affinity, 100) > 0 ? (criticalBoostPercent + 125) / 100 : 1.25);\n\t\tconst attackWithoutAffinity = attack * (1 - Math.min(affinity, 100) / 100);\n\t\treturn Math.round((attackWithAffinity + attackWithoutAffinity) / weaponAttackModifier);\n\t}\n\n\tprivate getAilmentAverage(attack: number, affinity: number, criticalModifier: number, sharpnessModifier: number, auxDivider: number): number {\n\t\tconst ailmentWithAffinity = attack * (Math.min(affinity, 100) / 100) * (Math.min(affinity, 100) > 0 ? criticalModifier : 1);\n\t\tconst ailmentWithoutAffinity = attack * (1 - Math.min(affinity, 100) / 100);\n\t\treturn Math.round((ailmentWithAffinity + ailmentWithoutAffinity) * sharpnessModifier / 30 / (auxDivider ? auxDivider : 1));\n\t}\n\n\tprivate getElementAverage(attack: number, affinity: number, criticalModifier: number, sharpnessModifier: number, auxDivider: number): number {\n\t\tconst elementWithAffinity = attack * (Math.min(affinity, 100) / 100) * criticalModifier;\n\t\tconst elementWithoutAffinity = attack * (1 - Math.min(affinity, 100) / 100);\n\t\treturn Math.round((elementWithAffinity + elementWithoutAffinity) * sharpnessModifier / 10 / (auxDivider ? auxDivider : 1));\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport * as _ from 'lodash';\nimport { AmmoCapacitiesModel } from '../models/ammo-capacities.model';\nimport { AugmentationModel } from '../models/augmentation.model';\nimport { AwakeningModel } from '../models/awakening.model';\nimport { DecorationModel } from '../models/decoration.model';\nimport { ItemModel } from '../models/item.model';\nimport { KinsectModel } from '../models/kinsect.model';\nimport { MelodiesDetailModel, MelodiesModel } from '../models/melodies.model';\nimport { ModificationModel } from '../models/modification.model';\nimport { SetBonusModel } from '../models/set-bonus.model';\nimport { SharpnessModifierModel } from '../models/sharpness-modifier.model';\nimport { SkillReferenceModel } from '../models/skill-reference.model';\nimport { SkillModel } from '../models/skill.model';\nimport { ToolModel } from '../models/tool.model';\nimport { UpgradeModel } from '../models/upgrade.model';\nimport { WeaponModifierModel } from '../models/weapon-modifier.model';\nimport { AppDataProvider } from '../providers/app-data.provider';\nimport { AilmentType } from '../types/ailment.type';\nimport { DamageType } from '../types/damage.type';\nimport { ElementType } from '../types/element.type';\nimport { EquipmentCategoryType } from '../types/equipment-category.type';\nimport { ItemType } from '../types/item.type';\nimport { WeaponType } from '../types/weapon.type';\n\n@Injectable()\nexport class DataService {\n\tconstructor(\n\t\tprivate appDataProvider: AppDataProvider\n\t) { }\n\n\tgetWeapons(weaponType?: WeaponType): ItemModel[] {\n\t\tlet result = new Array<ItemModel>();\n\t\tif (weaponType) {\n\t\t\tresult = this.appDataProvider.appData.weapons.filter(w => w.weaponType == weaponType);\n\t\t} else {\n\t\t\tresult = this.appDataProvider.appData.weapons;\n\t\t}\n\t\treturn result;\n\t}\n\n\tgetWeapon(id: number): ItemModel {\n\t\tconst weapon: ItemModel = _.find(this.appDataProvider.appData.weapons, w => w.id === id);\n\t\tif (weapon.weaponType == WeaponType.LightBowgun || weapon.weaponType == WeaponType.HeavyBowgun) {\n\t\t\tweapon.ammoCapacities = this.getAmmoCapacities(weapon.id);\n\t\t} else if (weapon.weaponType == WeaponType.HuntingHorn && weapon.otherData) {\n\t\t\tweapon.melodies = this.getMelodies(weapon.otherData.map(item => item.value).join(';'));\n\t\t}\n\t\treturn weapon;\n\t}\n\n\tgetArmors(armorType?: ItemType): ItemModel[] {\n\t\tlet result = new Array<ItemModel>();\n\t\tif (armorType) {\n\t\t\tresult = this.appDataProvider.appData.armors.filter(armor => armor.itemType);\n\t\t} else {\n\t\t\tresult = this.appDataProvider.appData.armors;\n\t\t}\n\t\treturn result;\n\t}\n\n\tgetArmor(id: number): ItemModel {\n\t\treturn _.find(this.appDataProvider.appData.armors, armor => armor.id === id);\n\t}\n\n\tgetCharm(id: number): ItemModel {\n\t\treturn _.find(this.appDataProvider.appData.charms, charm => charm.id === id);\n\t}\n\n\tgetTool(id: number, type: ItemType): ItemModel {\n\t\tconst item = _.find(this.appDataProvider.appData.tools, tool => tool.id === id);\n\t\titem.itemType = type;\n\t\treturn item;\n\t}\n\n\tgetArmorByType(type: ItemType): ItemModel[] {\n\t\treturn _.filter(this.appDataProvider.appData.armors, armor => armor.itemType === type);\n\t}\n\n\tgetCharms(): ItemModel[] {\n\t\treturn this.appDataProvider.appData.charms;\n\t}\n\n\tgetTools(type: ItemType): ToolModel[] {\n\t\tconst items = this.appDataProvider.appData.tools.map(x => Object.assign({}, x));\n\t\t_.each(items, tool => {\n\t\t\ttool.itemType = type;\n\t\t});\n\t\treturn items;\n\t}\n\n\tgetDecorations(level?: number): DecorationModel[] {\n\t\tlet result = new Array<DecorationModel>();\n\t\tif (level) {\n\t\t\tresult = this.appDataProvider.appData.decorations.filter(d => d.level <= level);\n\t\t} else {\n\t\t\tresult = this.appDataProvider.appData.decorations;\n\t\t}\n\t\treturn result;\n\t}\n\n\tgetSetBonuses(): SetBonusModel[] {\n\t\treturn this.appDataProvider.appData.setBonuses.filter(setBonus => setBonus.buildId);\n\t}\n\n\tgetSetBonus(id: string): SetBonusModel {\n\t\treturn _.find(this.appDataProvider.appData.setBonuses, setBonus => setBonus.id === id);\n\t}\n\n\tgetSetBonusByBuildId(buildId: number): SetBonusModel {\n\t\treturn _.find(this.appDataProvider.appData.setBonuses, setBonus => setBonus.buildId === buildId);\n\t}\n\n\tgetSkill(id: string): SkillModel {\n\t\treturn _.find(this.appDataProvider.appData.skills, skill => skill.id === id);\n\t}\n\n\tgetSkills(itemSkills: SkillReferenceModel[]): SkillModel[] {\n\t\treturn _.filter(this.appDataProvider.appData.skills, skill => {\n\t\t\treturn _.some(itemSkills, itemSkill => skill.id == itemSkill.id);\n\t\t});\n\t}\n\n\tgetWeaponModifier(weaponType: WeaponType): WeaponModifierModel {\n\t\treturn _.find(this.appDataProvider.appData.weaponModifiers, (mod: WeaponModifierModel) => {\n\t\t\treturn mod.type == weaponType;\n\t\t});\n\t}\n\n\tgetSharpnessModifier(damageType: DamageType, colorIndex: number): SharpnessModifierModel {\n\t\treturn _.find(this.appDataProvider.appData.sharpnessModifiers, mod => {\n\t\t\treturn mod.damageType == damageType && mod.colorIndex == colorIndex;\n\t\t});\n\t}\n\n\tgetDecoration(id: number): DecorationModel {\n\t\treturn _.find(this.appDataProvider.appData.decorations, decoration => decoration.id == id);\n\t}\n\n\tgetAugmentations(): AugmentationModel[] {\n\t\treturn this.appDataProvider.appData.augmentations;\n\t}\n\n\tgetAugmentation(id: number): AugmentationModel {\n\t\treturn _.find(this.appDataProvider.appData.augmentations, augmentation => augmentation.id == id);\n\t}\n\n\tgetUpgrades(): UpgradeModel[] {\n\t\treturn this.appDataProvider.appData.upgrades;\n\t}\n\n\tgetAwakenings(): AwakeningModel[] {\n\t\treturn this.appDataProvider.appData.awakenings;\n\t}\n\tgetAwakening(id: number): AwakeningModel {\n\t\treturn _.find(this.appDataProvider.appData.awakenings, awakening => awakening.id == id);\n\t}\n\n\tgetSafiElementAttack(weaponIndex: number): number {\n\t\tlet elementAttack = 0;\n\t\tconst elementAwakening: AwakeningModel = this.appDataProvider.appData.awakenings.find(x => x.id == 6);\n\t\telementAttack = elementAwakening.safiElements[weaponIndex];\n\t\treturn elementAttack;\n\t}\n\n\tgetSafiAilmentAttack(weaponIndex: number, ailmentType: number): number {\n\t\tlet ailmentAttack = 0;\n\t\tconst ailmentAwakening = this.appDataProvider.appData.awakenings.find(x => x.id == 5);\n\t\tailmentAttack = ailmentAwakening.safiAilments[weaponIndex][ailmentType];\n\t\treturn ailmentAttack;\n\t}\n\n\tgetSafiElementName(element: ElementType): string {\n\t\tlet elementName = '';\n\t\tswitch (element) {\n\t\t\tcase ElementType.Fire:\n\t\t\t\telementName = 'Hell';\n\t\t\t\tbreak;\n\t\t\tcase ElementType.Water:\n\t\t\t\telementName = 'Aqua';\n\t\t\t\tbreak;\n\t\t\tcase ElementType.Thunder:\n\t\t\t\telementName = 'Bolt';\n\t\t\t\tbreak;\n\t\t\tcase ElementType.Ice:\n\t\t\t\telementName = 'Frost';\n\t\t\t\tbreak;\n\t\t\tcase ElementType.Dragon:\n\t\t\t\telementName = 'Drak';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn elementName;\n\t}\n\n\tgetSafiAilmentName(ailment: AilmentType): string {\n\t\tlet ailmentName = '';\n\t\tswitch (ailment) {\n\t\t\tcase AilmentType.Paralysis:\n\t\t\t\tailmentName = 'Bind';\n\t\t\t\tbreak;\n\t\t\tcase AilmentType.Sleep:\n\t\t\t\tailmentName = 'Dream';\n\t\t\t\tbreak;\n\t\t\tcase AilmentType.Poison:\n\t\t\t\tailmentName = 'Venom';\n\t\t\t\tbreak;\n\t\t\tcase AilmentType.Blast:\n\t\t\t\tailmentName = 'Shatter';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn ailmentName;\n\t}\n\n\tgetSafiName(weaponType: WeaponType): string {\n\t\tlet name = '';\n\t\tswitch (weaponType) {\n\t\t\tcase WeaponType.GreatSword:\n\t\t\t\tname = 'splitter';\n\t\t\t\tbreak;\n\t\t\tcase WeaponType.LongSword:\n\t\t\t\tname = 'blade';\n\t\t\t\tbreak;\n\t\t\tcase WeaponType.SwordAndShield:\n\t\t\t\tname = 'fang';\n\t\t\t\tbreak;\n\t\t\tcase WeaponType.DualBlades:\n\t\t\t\tname = 'claws';\n\t\t\t\tbreak;\n\t\t\tcase WeaponType.Hammer:\n\t\t\t\tname = 'crusher';\n\t\t\t\tbreak;\n\t\t\tcase WeaponType.HuntingHorn:\n\t\t\t\tname = 'horn';\n\t\t\t\tbreak;\n\t\t\tcase WeaponType.Lance:\n\t\t\t\tname = 'snout';\n\t\t\t\tbreak;\n\t\t\tcase WeaponType.Gunlance:\n\t\t\t\tname = 'buster';\n\t\t\t\tbreak;\n\t\t\tcase WeaponType.SwitchAxe:\n\t\t\t\tname = 'axe';\n\t\t\t\tbreak;\n\t\t\tcase WeaponType.ChargeBlade:\n\t\t\t\tname = 'shield';\n\t\t\t\tbreak;\n\t\t\tcase WeaponType.InsectGlaive:\n\t\t\t\tname = 'spear';\n\t\t\t\tbreak;\n\t\t\tcase WeaponType.LightBowgun:\n\t\t\t\tname = 'shot';\n\t\t\t\tbreak;\n\t\t\tcase WeaponType.HeavyBowgun:\n\t\t\t\tname = 'cannon';\n\t\t\t\tbreak;\n\t\t\tcase WeaponType.Bow:\n\t\t\t\tname = 'bow';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn name;\n\t}\n\n\tgetSafiWeaponName(weaponType: WeaponType, weaponElement: ElementType, weaponAilment: AilmentType): string {\n\t\tlet weaponName = 'Safi\\'s ';\n\n\t\tconst safiName = this.getSafiName(weaponType);\n\t\tlet elementName = '';\n\n\t\tif (weaponElement != ElementType.None) {\n\t\t\telementName = this.getSafiElementName(weaponElement);\n\t\t}\n\n\t\tlet ailmentName = '';\n\n\t\tif (weaponAilment != AilmentType.None) {\n\t\t\tailmentName = this.getSafiAilmentName(weaponAilment);\n\t\t}\n\n\t\tif (elementName != '' || ailmentName != '') {\n\t\t\tif (ailmentName == '') {\n\t\t\t\tweaponName += elementName + safiName;\n\t\t\t} else if (elementName == '') {\n\t\t\t\tweaponName += ailmentName + safiName;\n\t\t\t} else {\n\t\t\t\tweaponName += elementName + safiName + '/' + ailmentName + safiName;\n\t\t\t}\n\t\t} else {\n\t\t\tweaponName += safiName;\n\t\t}\n\t\treturn weaponName;\n\t}\n\n\tgetModifications(): ModificationModel[] {\n\t\treturn this.appDataProvider.appData.modifications;\n\t}\n\n\tgetModification(id: number): ModificationModel {\n\t\treturn _.find(this.appDataProvider.appData.modifications, modification => modification.id == id);\n\t}\n\n\tgetKinsects(): KinsectModel[] {\n\t\treturn this.appDataProvider.appData.kinsects;\n\t}\n\n\tgetKinsect(id: number): KinsectModel {\n\t\treturn _.find(this.appDataProvider.appData.kinsects, kinsect => kinsect.id == id);\n\t}\n\n\tgetWeaponTypeName(weaponType: WeaponType): string {\n\t\tswitch (weaponType) {\n\t\t\tcase WeaponType.ChargeBlade:\n\t\t\t\treturn 'Charge Blade';\n\t\t\tcase WeaponType.DualBlades:\n\t\t\t\treturn 'Dual Blades';\n\t\t\tcase WeaponType.GreatSword:\n\t\t\t\treturn 'Great Sword';\n\t\t\tcase WeaponType.HeavyBowgun:\n\t\t\t\treturn 'Heavy Bowgun';\n\t\t\tcase WeaponType.HuntingHorn:\n\t\t\t\treturn 'Hunting Horn';\n\t\t\tcase WeaponType.InsectGlaive:\n\t\t\t\treturn 'Insect Glaive';\n\t\t\tcase WeaponType.LightBowgun:\n\t\t\t\treturn 'Light Bowgun';\n\t\t\tcase WeaponType.LongSword:\n\t\t\t\treturn 'Long Sword';\n\t\t\tcase WeaponType.SwitchAxe:\n\t\t\t\treturn 'Switch Axe';\n\t\t\tcase WeaponType.SwordAndShield:\n\t\t\t\treturn 'Sword and Shield';\n\t\t\tdefault:\n\t\t\t\treturn weaponType;\n\t\t}\n\t}\n\n\tgetWeaponTypeIcon(weaponType: WeaponType): string {\n\t\treturn this.getWeaponTypeName(weaponType).toLowerCase().split(' ').join('');\n\t}\n\n\tgetEquipmentCategory(itemType: ItemType): EquipmentCategoryType {\n\t\tswitch (itemType) {\n\t\t\tcase ItemType.Weapon:\n\t\t\t\treturn EquipmentCategoryType.Weapon;\n\t\t\tcase ItemType.Charm:\n\t\t\t\treturn EquipmentCategoryType.Charm;\n\t\t\tcase ItemType.Tool1:\n\t\t\tcase ItemType.Tool2:\n\t\t\t\treturn EquipmentCategoryType.Tool;\n\t\t\tcase ItemType.Head:\n\t\t\tcase ItemType.Chest:\n\t\t\tcase ItemType.Arms:\n\t\t\tcase ItemType.Waist:\n\t\t\tcase ItemType.Legs:\n\t\t\t\treturn EquipmentCategoryType.Armor;\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n\n\tgetElementId(element: ElementType): number {\n\t\tlet elementId = 0;\n\t\tswitch (element) {\n\t\t\tcase ElementType.Fire:\n\t\t\t\telementId = 1;\n\t\t\t\tbreak;\n\t\t\tcase ElementType.Water:\n\t\t\t\telementId = 2;\n\t\t\t\tbreak;\n\t\t\tcase ElementType.Thunder:\n\t\t\t\telementId = 3;\n\t\t\t\tbreak;\n\t\t\tcase ElementType.Ice:\n\t\t\t\telementId = 4;\n\t\t\t\tbreak;\n\t\t\tcase ElementType.Dragon:\n\t\t\t\telementId = 5;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn elementId;\n\t}\n\n\tgetAilmentId(ailment: AilmentType): number {\n\t\tlet ailmentId = 0;\n\t\tswitch (ailment) {\n\t\t\tcase AilmentType.Paralysis:\n\t\t\t\tailmentId = 1;\n\t\t\t\tbreak;\n\t\t\tcase AilmentType.Sleep:\n\t\t\t\tailmentId = 2;\n\t\t\t\tbreak;\n\t\t\tcase AilmentType.Poison:\n\t\t\t\tailmentId = 3;\n\t\t\t\tbreak;\n\t\t\tcase AilmentType.Blast:\n\t\t\t\tailmentId = 4;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn ailmentId;\n\t}\n\n\tgetElement(elementId: number): ElementType {\n\t\tlet element = null;\n\t\tswitch (elementId) {\n\t\t\tcase 1:\n\t\t\t\telement = ElementType.Fire;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\telement = ElementType.Water;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\telement = ElementType.Thunder;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\telement = ElementType.Ice;\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\telement = ElementType.Dragon;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn element;\n\t}\n\n\tgetAilment(ailmentId: number): AilmentType {\n\t\tlet ailment = null;\n\t\tswitch (ailmentId) {\n\t\t\tcase 1:\n\t\t\t\tailment = AilmentType.Paralysis;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tailment = AilmentType.Sleep;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tailment = AilmentType.Poison;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tailment = AilmentType.Blast;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn ailment;\n\t}\n\n\tgetAmmoCapacities(weaponId: number): AmmoCapacitiesModel {\n\t\treturn this.appDataProvider.appData.ammoCapacities.find(c => c.id === weaponId);\n\t}\n\n\tgetMelodies(notes: string): MelodiesModel {\n\t\tconst melody: MelodiesModel = this.appDataProvider.appData.melodies.find(c => c.notes.join(';') === notes);\n\t\treturn this.getMelodyDetails(melody);\n\t}\n\n\tgetMelodiesById(melodyId: number): MelodiesModel {\n\t\tconst melody: MelodiesModel = this.appDataProvider.appData.melodies.find(c => c.id === melodyId);\n\t\treturn this.getMelodyDetails(melody);\n\t}\n\n\tgetMelodyDetails(melody: MelodiesModel): MelodiesModel {\n\t\tmelody.melodyEffects = [];\n\t\tfor (let i = 0; i < melody.melodies.length; i++) {\n\t\t\tconst melodyEffect = new MelodiesDetailModel();\n\t\t\tmelodyEffect.melody = melody.melodies[i];\n\t\t\tmelodyEffect.effects = melody.melodiesEffect.filter(e => e.index == i);\n\t\t\tfor (const effect of melodyEffect.effects) {\n\t\t\t\teffect.name = this.appDataProvider.appData.melodyEffect.find(m => m.id == effect.id).name;\n\t\t\t}\n\t\t\tmelody.melodyEffects.push(melodyEffect);\n\t\t}\n\n\t\treturn melody;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport * as _ from 'lodash';\nimport { AugmentationModel } from '../models/augmentation.model';\nimport { AwakeningLevelModel } from '../models/awakening-level.model';\nimport { BuffModel } from '../models/buffs.model';\nimport { DecorationModel } from '../models/decoration.model';\nimport { EquippedSkillModel } from '../models/equipped-skill.model';\nimport { ItemModel } from '../models/item.model';\nimport { KinsectModel } from '../models/kinsect.model';\nimport { MelodiesModel } from '../models/melodies.model';\nimport { ModificationModel } from '../models/modification.model';\nimport { SetBonusModel } from '../models/set-bonus.model';\nimport { UpgradeContainerModel } from '../models/upgrade-container.model';\nimport { AilmentType } from '../types/ailment.type';\nimport { EldersealType } from '../types/elderseal.type';\nimport { ElementType } from '../types/element.type';\nimport { ItemType } from '../types/item.type';\nimport { SkillService } from './skill.service';\nimport { StatService } from './stat.service';\n\n@Injectable()\nexport class EquipmentService {\n\tpublic skills: EquippedSkillModel[];\n\tpublic items: ItemModel[];\n\tpublic decorations: DecorationModel[];\n\tpublic augmentations: AugmentationModel[];\n\tpublic upgradeContainer: UpgradeContainerModel;\n\tpublic awakenings: AwakeningLevelModel[];\n\tpublic awakeningSetbonus: SetBonusModel;\n\tpublic modifications: ModificationModel[];\n\tpublic kinsect: KinsectModel;\n\tpublic buffs: BuffModel;\n\n\tconstructor(\n\t\tprivate skillService: SkillService,\n\t\tprivate statService: StatService\n\t) {\n\t\tthis.items = [];\n\t\tthis.decorations = [];\n\t\tthis.augmentations = [];\n\t\tthis.awakenings = [];\n\t\tthis.awakeningSetbonus = null;\n\t\tthis.modifications = [];\n\t\tthis.buffs = new BuffModel();\n\n\t\tthis.skillService.skillsUpdated$.subscribe(skills => {\n\t\t\tthis.skills = skills;\n\t\t\tthis.statService.update(\n\t\t\t\tskills,\n\t\t\t\tthis.items,\n\t\t\t\tthis.augmentations,\n\t\t\t\tthis.upgradeContainer,\n\t\t\t\tthis.awakenings,\n\t\t\t\tthis.modifications,\n\t\t\t\tthis.kinsect,\n\t\t\t\tthis.buffs\n\t\t\t);\n\t\t});\n\t}\n\n\taddItem(item: ItemModel, updateStats: boolean = true) {\n\t\t// console.log(\"addItem\",item);\n\t\tthis.items.push(item);\n\t\tif (updateStats) {\n\t\t\tthis.updateSkills();\n\t\t}\n\t}\n\n\taddDecoration(decoration: DecorationModel, updateStats: boolean = true) {\n\t\t// console.log(\"addDecoration\");\n\t\tthis.decorations.push(decoration);\n\t\tif (updateStats) {\n\t\t\tthis.updateSkills();\n\t\t}\n\t}\n\n\taddAugmentation(augmentation: AugmentationModel, updateStats: boolean = true) {\n\t\t// console.log(\"addAugmentation\");\n\t\tthis.augmentations.push(augmentation);\n\t\tif (updateStats) {\n\t\t\tthis.updateSkills();\n\t\t}\n\t}\n\n\taddUpgrade(upgradeContainer: UpgradeContainerModel, updateStats: boolean = true) {\n\t\t// console.log(\"addUpgrade\");\n\t\tthis.upgradeContainer = upgradeContainer;\n\t\tif (updateStats) {\n\t\t\tthis.statService.update(\n\t\t\t\tthis.skills,\n\t\t\t\tthis.items,\n\t\t\t\tthis.augmentations,\n\t\t\t\tthis.upgradeContainer,\n\t\t\t\tthis.awakenings,\n\t\t\t\tthis.modifications,\n\t\t\t\tthis.kinsect,\n\t\t\t\tthis.buffs);\n\t\t}\n\t}\n\n\taddAwakenings(awakenings: AwakeningLevelModel[], updateStats: boolean = true) {\n\t\t// console.log(\"addAwakening\");\n\t\tthis.awakenings = awakenings;\n\t\tif (awakenings.length && updateStats) {\n\t\t\tthis.statService.update(\n\t\t\t\tthis.skills,\n\t\t\t\tthis.items,\n\t\t\t\tthis.augmentations,\n\t\t\t\tthis.upgradeContainer,\n\t\t\t\tthis.awakenings,\n\t\t\t\tthis.modifications,\n\t\t\t\tthis.kinsect,\n\t\t\t\tthis.buffs\n\t\t\t);\n\t\t}\n\t}\n\n\taddSetbonus(setbonus: SetBonusModel, updateStats: boolean = true) {\n\t\t// console.log(\"addSetbonus\");\n\t\tthis.awakeningSetbonus = setbonus;\n\t\tconst weapon = this.items.find(x => x.itemType == ItemType.Weapon);\n\t\tif (!weapon.skills.find(skill => skill.id == setbonus.id)) {\n\t\t\tweapon.skills.push({\n\t\t\t\tid: setbonus.id,\n\t\t\t\tlevel: null\n\t\t\t});\n\t\t}\n\n\t\tif (updateStats) {\n\t\t\tthis.updateSkills();\n\t\t}\n\t}\n\n\taddModification(modification: ModificationModel, updateStats: boolean = true) {\n\t\t// console.log(\"addModification\");\n\t\tthis.modifications.push(modification);\n\t\tif (updateStats) {\n\t\t\tif (modification.id < 4) {\n\t\t\t\tthis.updateSkills();\n\t\t\t}\n\t\t}\n\t}\n\n\taddKinsect(kinsect: KinsectModel, updateStats: boolean = true) {\n\t\t// console.log(\"addKinsect\");\n\t\tthis.kinsect = kinsect;\n\t\tif (updateStats) {\n\t\t\tthis.statService.update(\n\t\t\t\tthis.skills,\n\t\t\t\tthis.items,\n\t\t\t\tthis.augmentations,\n\t\t\t\tthis.upgradeContainer,\n\t\t\t\tthis.awakenings,\n\t\t\t\tthis.modifications,\n\t\t\t\tthis.kinsect,\n\t\t\t\tthis.buffs\n\t\t\t);\n\t\t}\n\t}\n\n\tremoveItem(item: ItemModel) {\n\t\t// console.log(\"removeItem\");\n\t\tif (item && item.itemType == ItemType.Weapon) {\n\t\t\tthis.awakenings = [];\n\t\t}\n\t\tthis.items = _.reject(this.items, i => i === item);\n\t\tthis.updateSkills();\n\t}\n\n\tremoveDecoration(decoration: DecorationModel) {\n\t\t// console.log(\"removeDeco\");\n\t\tthis.decorations = _.reject(this.decorations, d => d === decoration);\n\t\tthis.updateSkills();\n\t}\n\n\tremoveAugmentation(augmentation: AugmentationModel) {\n\t\t// console.log(\"RemoveAug\");\n\t\tthis.augmentations = _.reject(this.augmentations, a => a === augmentation);\n\t\tthis.updateSkills();\n\t}\n\n\tremoveUpgrade() {\n\t\t// console.log(\"RemoveUpgrade\");\n\t\tthis.upgradeContainer = null;\n\t\tthis.updateSkills();\n\t}\n\n\tremoveAwakening() {\n\t\t// console.log(\"RemoveAwake\");\n\t\tthis.awakenings = [];\n\t\tthis.awakeningSetbonus = null;\n\t\tthis.updateSkills();\n\t}\n\n\tremoveSetbonus() {\n\t\t// console.log(\"RemoveSetbonus\");\n\t\tif (this.awakeningSetbonus && this.awakeningSetbonus.id) {\n\t\t\tconst weapon = this.items.find(x => x.itemType == ItemType.Weapon);\n\t\t\tweapon.skills.splice(weapon.skills.findIndex(skill => skill.id == this.awakeningSetbonus.id), 1);\n\t\t\tthis.awakeningSetbonus = null;\n\t\t\tthis.updateSkills();\n\t\t}\n\t}\n\n\tremoveMelody() {\n\t\tconst weapon = this.items.find(x => x.itemType == ItemType.Weapon);\n\t}\n\n\tremoveModification(modification: ModificationModel) {\n\t\t// console.log(\"RemoveModification\");\n\t\tthis.modifications = _.reject(this.modifications, a => a === modification);\n\t\tthis.updateSkills();\n\t}\n\n\tremoveKinsect() {\n\t\t// console.log(\"RemoveKin\");\n\t\tthis.kinsect = null;\n\t}\n\n\tchangeElement(element: ElementType, elementAttack: number, updateStats: boolean = true) {\n\t\t// console.log(\"changeElement\");\n\t\tconst weapon = this.items.find(x => x.itemType == ItemType.Weapon);\n\t\tif (element != ElementType.None) {\n\t\t\tweapon.element = element;\n\t\t\tweapon.elementBaseAttack = elementAttack;\n\t\t\tif (element == ElementType.Dragon) {\n\t\t\t\tweapon.elderseal = EldersealType.Average;\n\t\t\t}\n\t\t} else {\n\t\t\tweapon.element = null;\n\t\t\tweapon.elementBaseAttack = null;\n\t\t\tweapon.elderseal = null;\n\t\t}\n\t\tif (updateStats) {\n\t\t\tthis.statService.update(\n\t\t\t\tthis.skills,\n\t\t\t\tthis.items,\n\t\t\t\tthis.augmentations,\n\t\t\t\tthis.upgradeContainer,\n\t\t\t\tthis.awakenings,\n\t\t\t\tthis.modifications,\n\t\t\t\tthis.kinsect,\n\t\t\t\tthis.buffs\n\t\t\t);\n\t\t}\n\t}\n\n\tchangeAilment(ailment: AilmentType, ailmentAttack: number, updateStats: boolean = true) {\n\t\t// console.log(\"changeAilment\");\n\t\tconst weapon = this.items.find(x => x.itemType == ItemType.Weapon);\n\t\tif (ailment != AilmentType.None) {\n\t\t\tweapon.ailment = ailment;\n\t\t\tweapon.ailmentBaseAttack = ailmentAttack;\n\t\t} else {\n\t\t\tweapon.ailment = null;\n\t\t\tweapon.ailmentBaseAttack = null;\n\t\t}\n\t\tif (updateStats) {\n\t\t\tthis.statService.update(\n\t\t\t\tthis.skills,\n\t\t\t\tthis.items,\n\t\t\t\tthis.augmentations,\n\t\t\t\tthis.upgradeContainer,\n\t\t\t\tthis.awakenings,\n\t\t\t\tthis.modifications,\n\t\t\t\tthis.kinsect,\n\t\t\t\tthis.buffs\n\t\t\t);\n\t\t}\n\t}\n\n\tchangeWeaponName(weaponName: string) {\n\t\t// console.log(\"changeWeaponName\");\n\t\tconst weapon = this.items.find(x => x.itemType == ItemType.Weapon);\n\t\tweapon.name = weaponName;\n\t}\n\n\tchangeWeaponMelody(melodies: MelodiesModel) {\n\t\tconst weapon = this.items.find(x => x.itemType == ItemType.Weapon);\n\t\tweapon.melodies = melodies;\n\t}\n\n\tupdateItemLevel() {\n\t\t// console.log(\"updateItemLevel\");\n\t\tthis.updateSkills();\n\t}\n\n\tupdateItemActive() {\n\t\t// console.log(\"updateItemActive\");\n\t\tthis.updateSkills();\n\t}\n\n\tupdateSkillMode(equippedSkills: EquippedSkillModel[]) {\n\t\t// console.log(\"UpdateSkillMode\");\n\t\tthis.statService.update(\n\t\t\tequippedSkills,\n\t\t\tthis.items,\n\t\t\tthis.augmentations,\n\t\t\tthis.upgradeContainer,\n\t\t\tthis.awakenings,\n\t\t\tthis.modifications,\n\t\t\tthis.kinsect,\n\t\t\tthis.buffs\n\t\t);\n\t}\n\n\tupdateElementBuff(value: number) {\n\t\tthis.buffs.elementBuff = value;\n\t\tthis.statService.update(\n\t\t\tthis.skills,\n\t\t\tthis.items,\n\t\t\tthis.augmentations,\n\t\t\tthis.upgradeContainer,\n\t\t\tthis.awakenings,\n\t\t\tthis.modifications,\n\t\t\tthis.kinsect,\n\t\t\tthis.buffs\n\t\t);\n\t}\n\n\tprivate updateSkills() {\n\t\tthis.skillService.updateSkills(this.items, this.decorations, this.augmentations);\n\t}\n}\n","import { Location } from '@angular/common';\nimport { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { SavedSetModel } from '../models/saved-set.model';\nimport { WeaponType } from '../types/weapon.type';\nimport { BuildService } from './build.service';\nimport { StatService } from './stat.service';\n\n@Injectable()\nexport class SetService {\n\tsets: SavedSetModel[] = [];\n\tpublic setsUpdated$ = new Subject<SavedSetModel[]>();\n\tselectedSetIndex = -1;\n\n\tconstructor(\n\t\tprivate location: Location,\n\t\tprivate buildService: BuildService,\n\t\tprivate statService: StatService) {\n\t\tthis.loadSets();\n\t}\n\n\tloadSets() {\n\t\tconst stringSets = localStorage.getItem('mhwSets');\n\t\tif (stringSets) {\n\t\t\ttry {\n\t\t\t\tthis.sets = JSON.parse(stringSets);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log('LocalStorage-Error:', stringSets);\n\t\t\t}\n\t\t}\n\t}\n\n\timportSet() {\n\t\tconst buildParts = location.hash.split('&');\n\t\tconst buildId = buildParts[0];\n\t\tconst buildV = buildId.substring(0, 3);\n\t\tif (buildId.length > 0) {\n\t\t\tconst itemGroupRegex = /(i[.]*[^i]*)/g;\n\t\t\tconst itemGroups = buildId.match(itemGroupRegex);\n\t\t\tlet itemGroupsLenght = 0;\n\t\t\tif (buildV == '#v3') {\n\t\t\t\titemGroupsLenght = 9;\n\t\t\t} else if (buildV == '#v2') {\n\t\t\t\titemGroupsLenght = 9;\n\t\t\t} else if (buildId.substring(0, 3) == '#v1') {\n\t\t\t\titemGroupsLenght = 8;\n\t\t\t}\n\t\t\tif (itemGroups.length > itemGroupsLenght && itemGroups[itemGroupsLenght].length > 1) {\n\t\t\t\tconst setName = itemGroups[itemGroupsLenght].substring(1, itemGroups[itemGroupsLenght].length);\n\t\t\t\titemGroups.splice(-1, 1);\n\t\t\t\tthis.location.replaceState(this.location.path(false), buildV + itemGroups.join(''));\n\t\t\t\tthis.buildService.loadBuild(buildV + itemGroups.join(''));\n\t\t\t\tthis.save(setName + '_IMPORTED', false);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetSets(): SavedSetModel[] {\n\t\treturn this.sets;\n\t}\n\n\tsave(setName: string, overwrite: boolean = true): number {\n\t\tthis.loadSets();\n\t\tlet setItem = this.sets.find(s => s.setName === setName);\n\t\tconst stats = this.statService.stats;\n\t\tif (setItem && overwrite) {\n\t\t\tsetItem.hashString = location.hash;\n\t\t\tsetItem.hashString = setItem.hashString.replace('#v1', '#v2');\n\t\t\tsetItem.weaponType = stats.weaponType;\n\t\t\tsetItem.totalAttack = stats.totalAttack;\n\t\t\tsetItem.affinity = stats.affinity;\n\t\t\tsetItem.element = stats.element;\n\t\t\tsetItem.elementAttack = stats.totalElementAttack;\n\t\t\tsetItem.ailment = stats.ailment;\n\t\t\tsetItem.ailmentAttack = stats.totalAilmentAttack;\n\t\t\tsetItem.defense = stats.defense;\n\t\t\tsetItem.resistances = [\n\t\t\t\tstats.fireResist,\n\t\t\t\tstats.waterResist,\n\t\t\t\tstats.thunderResist,\n\t\t\t\tstats.iceResist,\n\t\t\t\tstats.dragonResist];\n\t\t\tsetItem.confirm = false;\n\t\t\tthis.selectedSetIndex = this.sets.indexOf(setItem);\n\t\t} else {\n\t\t\tsetItem = {\n\t\t\t\tsetName: setName,\n\t\t\t\thashString: location.hash.replace('#v1', '#v2'),\n\t\t\t\tweaponType: stats.weaponType,\n\t\t\t\ttotalAttack: stats.totalAttack,\n\t\t\t\taffinity: stats.affinity,\n\t\t\t\telement: stats.element,\n\t\t\t\telementAttack: stats.totalElementAttack,\n\t\t\t\tailment: stats.ailment,\n\t\t\t\tailmentAttack: stats.totalAilmentAttack,\n\t\t\t\tdefense: stats.defense,\n\t\t\t\tresistances: [\n\t\t\t\t\tstats.fireResist,\n\t\t\t\t\tstats.waterResist,\n\t\t\t\t\tstats.thunderResist,\n\t\t\t\t\tstats.iceResist,\n\t\t\t\t\tstats.dragonResist],\n\t\t\t\tconfirm: false\n\t\t\t};\n\t\t\tthis.sets.push(setItem);\n\t\t\tthis.selectedSetIndex = this.sets.length - 1;\n\t\t}\n\t\tlocalStorage.setItem('mhwSets', JSON.stringify(this.sets));\n\t\tthis.setsUpdated$.next(this.sets);\n\t\tdocument.title = setName + ' - [MHWBuilder]';\n\t\treturn this.selectedSetIndex;\n\t}\n\n\tsaveSets() {\n\t\tlocalStorage.setItem('mhwSets', JSON.stringify(this.sets));\n\t\tthis.setsUpdated$.next(this.sets);\n\t}\n\n\tsortSets() {\n\t\tthis.sets.sort((a, b) => {\n\t\t\tconst w1 = this.getWeaponTypeIndex(a.weaponType);\n\t\t\tconst w2 = this.getWeaponTypeIndex(b.weaponType);\n\n\t\t\tif (w1 > w2) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (w1 < w2) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (w1 == w2) {\n\t\t\t\treturn a.setName.localeCompare(b.setName);\n\t\t\t}\n\t\t});\n\n\t\tthis.setsUpdated$.next(this.sets);\n\t}\n\n\tremove(index: number) {\n\t\tif (this.sets[index].confirm) {\n\t\t\tthis.sets.splice(index, 1);\n\t\t\tlocalStorage.setItem('mhwSets', JSON.stringify(this.sets));\n\t\t} else {\n\t\t\tthis.sets[index].confirm = true;\n\t\t}\n\t\tthis.setsUpdated$.next(this.sets);\n\t}\n\n\tselect(set: SavedSetModel): number {\n\t\tthis.location.replaceState(this.location.path(false), set.hashString);\n\t\tthis.buildService.loadBuild(location.hash);\n\t\tthis.selectedSetIndex = this.sets.indexOf(set);\n\t\tdocument.title = set.setName + ' - [MHWBuilder]';\n\t\treturn this.selectedSetIndex;\n\t}\n\n\tprivate getWeaponTypeIndex(weaponType?: WeaponType): number {\n\t\tif (weaponType == null) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (weaponType == WeaponType.GreatSword) {\n\t\t\treturn 0;\n\t\t} else if (weaponType == WeaponType.SwordAndShield) {\n\t\t\treturn 1;\n\t\t} else if (weaponType == WeaponType.DualBlades) {\n\t\t\treturn 2;\n\t\t} else if (weaponType == WeaponType.LongSword) {\n\t\t\treturn 3;\n\t\t} else if (weaponType == WeaponType.Hammer) {\n\t\t\treturn 4;\n\t\t} else if (weaponType == WeaponType.HuntingHorn) {\n\t\t\treturn 5;\n\t\t} else if (weaponType == WeaponType.Lance) {\n\t\t\treturn 6;\n\t\t} else if (weaponType == WeaponType.Gunlance) {\n\t\t\treturn 7;\n\t\t} else if (weaponType == WeaponType.SwitchAxe) {\n\t\t\treturn 8;\n\t\t} else if (weaponType == WeaponType.ChargeBlade) {\n\t\t\treturn 9;\n\t\t} else if (weaponType == WeaponType.InsectGlaive) {\n\t\t\treturn 10;\n\t\t} else if (weaponType == WeaponType.Bow) {\n\t\t\treturn 11;\n\t\t} else if (weaponType == WeaponType.LightBowgun) {\n\t\t\treturn 12;\n\t\t} else if (weaponType == WeaponType.HeavyBowgun) {\n\t\t\treturn 13;\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport * as _ from 'lodash';\nimport { Subject } from 'rxjs';\nimport { AugmentationModel } from '../models/augmentation.model';\nimport { DecorationModel } from '../models/decoration.model';\nimport { EquippedSetBonusDetailModel, EquippedSetBonusModel } from '../models/equipped-set-bonus.model';\nimport { EquippedSkillModel } from '../models/equipped-skill.model';\nimport { ItemModel } from '../models/item.model';\nimport { ItemType } from '../types/item.type';\nimport { ModeType } from '../types/mode.type';\nimport { DataService } from './data.service';\n\n@Injectable()\nexport class SkillService {\n\tpublic skillsUpdated$ = new Subject<EquippedSkillModel[]>();\n\tpublic setBonusesUpdated$ = new Subject<EquippedSetBonusModel[]>();\n\n\tpublic skills: EquippedSkillModel[];\n\tpublic setBonuses: EquippedSetBonusModel[];\n\n\tconstructor(\n\t\tprivate dataService: DataService\n\t) { }\n\n\tupdateSkills(items: ItemModel[], decorations: DecorationModel[], augmentations: AugmentationModel[]) {\n\t\tconst equippedSkills = new Array<EquippedSkillModel>();\n\t\tconst equippedSetBonuses = new Array<EquippedSetBonusModel>();\n\n\t\tfor (const item of items) {\n\t\t\tfor (const decoration of decorations.filter(d => d.itemType == item.itemType)) {\n\t\t\t\tdecoration.active = item.active;\n\t\t\t}\n\t\t}\n\t\t// IMPROVEMENT: this code loops through items several times. Neftal Michelet: Fixed :)\n\t\tthis.addItemSkills(items, equippedSkills);\n\t\tthis.addDecorationSkills(decorations, equippedSkills);\n\t\tthis.addSetSkills(items, equippedSkills, equippedSetBonuses);\n\t\tthis.addAugmentationSkills(augmentations, equippedSkills);\n\t\tthis.skills = equippedSkills;\n\t\tthis.setBonuses = equippedSetBonuses;\n\n\t\tthis.skillsUpdated$.next(this.skills);\n\t\tthis.setBonusesUpdated$.next(this.setBonuses);\n\t}\n\n\tprivate addItemSkills(items: ItemModel[], equippedSkills: EquippedSkillModel[]) {\n\t\tfor (const item of items) {\n\t\t\tif (!item.skills) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tfor (const itemSkill of item.skills) {\n\t\t\t\tif (!itemSkill.level) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tlet equippedSkill: EquippedSkillModel = _.find(equippedSkills, es => es.id == itemSkill.id);\n\t\t\t\tconst level = itemSkill.level * (item.equippedLevel ? item.equippedLevel : 1);\n\t\t\t\tif (!equippedSkill) {\n\t\t\t\t\tequippedSkill = this.createEquippedSkill(itemSkill.id, level, item.itemType);\n\t\t\t\t\tequippedSkills.push(equippedSkill);\n\t\t\t\t} else {\n\t\t\t\t\tequippedSkill.equippedArmorCount += level;\n\t\t\t\t\tequippedSkill.equippedCount += level;\n\t\t\t\t\tthis.countSkillItemPart(equippedSkill, level, item.itemType);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate addDecorationSkills(decorations: DecorationModel[], equippedSkills: EquippedSkillModel[]) {\n\t\tfor (const decoration of decorations) {\n\t\t\tif (!decoration.skills) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tfor (const itemSkill of decoration.skills) {\n\t\t\t\tif (!itemSkill.level) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tlet equippedSkill: EquippedSkillModel = _.find(equippedSkills, es => es.id == itemSkill.id);\n\t\t\t\tconst level = itemSkill.level;\n\t\t\t\tif (!equippedSkill) {\n\t\t\t\t\tequippedSkill = this.createEquippedSkill(itemSkill.id, level, decoration.itemType, decoration.active);\n\t\t\t\t\tequippedSkills.push(equippedSkill);\n\t\t\t\t} else {\n\t\t\t\t\tif (decoration.itemType == ItemType.Tool1) {\n\t\t\t\t\t\tif (decoration.active) {\n\t\t\t\t\t\t\tequippedSkill.equippedToolActiveCount += level;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tequippedSkill.equippedTool1Count += level;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (decoration.itemType == ItemType.Tool2) {\n\t\t\t\t\t\tif (decoration.active) {\n\t\t\t\t\t\t\tequippedSkill.equippedToolActiveCount += level;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tequippedSkill.equippedTool2Count += level;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tequippedSkill.equippedArmorCount += level;\n\t\t\t\t\t}\n\t\t\t\t\tequippedSkill.equippedCount = equippedSkill.equippedArmorCount + equippedSkill.equippedToolActiveCount;\n\n\t\t\t\t\tthis.countSkillItemPart(equippedSkill, level, decoration.itemType);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate addSetSkills(items: ItemModel[], equippedSkills: EquippedSkillModel[], equippedSetBonuses: EquippedSetBonusModel[]) {\n\t\tlet setBonusNames = new Array<string>();\n\t\tconst setBonusParts = [];\n\n\t\tfor (const item of items) {\n\t\t\tif (!item.skills) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tfor (const skill of item.skills) {\n\t\t\t\tif (!skill.level && skill.id.length > 1) {\n\t\t\t\t\tsetBonusNames.push(skill.id);\n\t\t\t\t\tsetBonusParts.push([skill.id, item.itemType]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst setCounts = _.countBy(setBonusNames);\n\t\tsetBonusNames = _.uniq(setBonusNames);\n\t\tfor (const setBonusName of setBonusNames) {\n\t\t\tconst setBonus = this.dataService.getSetBonus(setBonusName);\n\t\t\tconst setLevels = _.filter(setBonus.setLevels, sl => sl.pieces <= setCounts[setBonusName]);\n\t\t\tconst setParts = _.filter(setBonusParts, x => x[0].localeCompare(setBonusName) == 0);\n\n\t\t\tconst weaponCount = _.filter(setParts, x => x[1] == ItemType.Weapon).length > 0 ? 1 : 0;\n\t\t\tconst headCount = _.filter(setParts, x => x[1] == ItemType.Head).length > 0 ? 1 : 0;\n\t\t\tconst chestCount = _.filter(setParts, x => x[1] == ItemType.Chest).length > 0 ? 1 : 0;\n\t\t\tconst armsCount = _.filter(setParts, x => x[1] == ItemType.Arms).length > 0 ? 1 : 0;\n\t\t\tconst waistCount = _.filter(setParts, x => x[1] == ItemType.Waist).length > 0 ? 1 : 0;\n\t\t\tconst legsCount = _.filter(setParts, x => x[1] == ItemType.Legs).length > 0 ? 1 : 0;\n\t\t\tif (setLevels) {\n\t\t\t\tfor (const setLevel of setLevels) {\n\t\t\t\t\tlet equippedSkill = _.find(equippedSkills, es => es.id == setLevel.id);\n\n\t\t\t\t\tif (!equippedSkill) {\n\t\t\t\t\t\tconst skill = this.dataService.getSkill(setLevel.id);\n\t\t\t\t\t\tequippedSkill = new EquippedSkillModel();\n\t\t\t\t\t\tequippedSkill.skill = skill;\n\t\t\t\t\t\tequippedSkill.id = skill.id;\n\t\t\t\t\t\tequippedSkill.name = skill.name;\n\t\t\t\t\t\tequippedSkill.description = skill.description;\n\t\t\t\t\t\tequippedSkill.headCount = headCount;\n\t\t\t\t\t\tequippedSkill.chestCount = chestCount;\n\t\t\t\t\t\tequippedSkill.armsCount = armsCount;\n\t\t\t\t\t\tequippedSkill.waistCount = waistCount;\n\t\t\t\t\t\tequippedSkill.legsCount = legsCount;\n\t\t\t\t\t\tequippedSkill.isSetBonus = true;\n\t\t\t\t\t\tequippedSkill.equippedCount = 1;\n\t\t\t\t\t\tequippedSkill.equippedArmorCount = 1;\n\t\t\t\t\t\tequippedSkill.totalLevelCount = skill.levels.length;\n\t\t\t\t\t\tequippedSkills.push(equippedSkill);\n\n\t\t\t\t\t\tif (skill.mode == null) {\n\t\t\t\t\t\t\tif (skill.hasActiveStats) {\n\t\t\t\t\t\t\t\tskill.mode = ModeType.AllSkillActive;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tskill.mode = ModeType.Active;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (skill.raiseSkillId) {\n\t\t\t\t\t\t\tconst equippedSkillToRaise = _.find(equippedSkills, es => es.id == skill.raiseSkillId);\n\n\t\t\t\t\t\t\tif (equippedSkillToRaise) {\n\t\t\t\t\t\t\t\tequippedSkillToRaise.secretLevelCount = equippedSkillToRaise.skill.levels.length - equippedSkillToRaise.totalLevelCount;\n\t\t\t\t\t\t\t\tequippedSkillToRaise.totalLevelCount = equippedSkillToRaise.skill.levels.length;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Fatalis Setbonus\n\t\t\t\t\t\tif (skill.id == 'inheritance') {\n\t\t\t\t\t\t\tfor (const equipped of equippedSkills) {\n\t\t\t\t\t\t\t\tif (equipped.skill.maxLevel) {\n\t\t\t\t\t\t\t\t\tequipped.secretLevelCount = equipped.skill.levels.length - equipped.totalLevelCount;\n\t\t\t\t\t\t\t\t\tequipped.totalLevelCount = equipped.skill.levels.length;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tequippedSkill.equippedCount = 2;\n\t\t\t\t\t\tequippedSkill.equippedArmorCount = 2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst equippedSetBonus = new EquippedSetBonusModel();\n\t\t\tequippedSetBonus.id = setBonus.id;\n\t\t\tequippedSetBonus.name = setBonus.name;\n\t\t\tequippedSetBonus.equippedCount = setCounts[setBonusName];\n\t\t\tequippedSetBonus.weaponCount = weaponCount;\n\t\t\tequippedSetBonus.headCount = headCount;\n\t\t\tequippedSetBonus.chestCount = chestCount;\n\t\t\tequippedSetBonus.armsCount = armsCount;\n\t\t\tequippedSetBonus.waistCount = waistCount;\n\t\t\tequippedSetBonus.legsCount = legsCount;\n\t\t\tequippedSetBonus.details = [];\n\n\t\t\tfor (const bonusLevel of setBonus.setLevels) {\n\t\t\t\tconst detail = new EquippedSetBonusDetailModel();\n\t\t\t\tdetail.requiredCount = bonusLevel.pieces;\n\t\t\t\tdetail.skill = this.dataService.getSkill(bonusLevel.id);\n\t\t\t\tif (!detail.skill.levels[0].activeSkills) {\n\t\t\t\t\tdetail.mode = ModeType.AllSkillActive;\n\t\t\t\t}\n\t\t\t\tequippedSetBonus.details.push(detail);\n\t\t\t}\n\t\t\tequippedSetBonuses.push(equippedSetBonus);\n\t\t}\n\t}\n\n\tprivate addAugmentationSkills(augmentations: AugmentationModel[], equippedSkills: EquippedSkillModel[]) {\n\t\tconst augGroups = _.groupBy(augmentations, 'id');\n\t\tfor (const key in augGroups) {\n\t\t\tif (augGroups.hasOwnProperty(key)) {\n\t\t\t\tconst value = augGroups[key];\n\n\t\t\t\tconst level = value[0].levels[value.length - 1];\n\t\t\t\tif (level && level.skills) {\n\t\t\t\t\tfor (const skillRef of level.skills) {\n\n\t\t\t\t\t\tlet equippedSkill = _.find(equippedSkills, es => es.id == skillRef.id);\n\n\t\t\t\t\t\t// Augmentation skills (as of this writing) do not build on skills from other sources. If the augmentation skill level is higher, it overwrites.\n\t\t\t\t\t\tif (!equippedSkill) {\n\t\t\t\t\t\t\tconst skill = this.dataService.getSkill(skillRef.id);\n\t\t\t\t\t\t\tequippedSkill = new EquippedSkillModel();\n\t\t\t\t\t\t\tequippedSkill.skill = skill;\n\t\t\t\t\t\t\tequippedSkill.id = skill.id;\n\t\t\t\t\t\t\tequippedSkill.name = skill.name;\n\t\t\t\t\t\t\tequippedSkill.description = skill.description;\n\t\t\t\t\t\t\tequippedSkill.equippedCount = skillRef.level;\n\t\t\t\t\t\t\tequippedSkill.totalLevelCount = skill.levels.length;\n\t\t\t\t\t\t\tequippedSkills.push(equippedSkill);\n\t\t\t\t\t\t} else if (equippedSkill.equippedCount < skillRef.level) {\n\t\t\t\t\t\t\tequippedSkill.equippedCount = skillRef.level;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate countSkillItemPart(equippedSkill: EquippedSkillModel, actualCount: number, itemType?: ItemType) {\n\t\tif (itemType == ItemType.Weapon) {\n\t\t\tequippedSkill.weaponCount += actualCount;\n\t\t} else if (itemType == ItemType.Head) {\n\t\t\tequippedSkill.headCount += actualCount;\n\t\t} else if (itemType == ItemType.Chest) {\n\t\t\tequippedSkill.chestCount += actualCount;\n\t\t} else if (itemType == ItemType.Arms) {\n\t\t\tequippedSkill.armsCount += actualCount;\n\t\t} else if (itemType == ItemType.Waist) {\n\t\t\tequippedSkill.waistCount += actualCount;\n\t\t} else if (itemType == ItemType.Legs) {\n\t\t\tequippedSkill.legsCount += actualCount;\n\t\t} else if (itemType == ItemType.Charm) {\n\t\t\tequippedSkill.charmCount += actualCount;\n\t\t} else if (itemType == ItemType.Tool1 || itemType == ItemType.Tool2) {\n\t\t\tequippedSkill.toolCount += actualCount;\n\t\t}\n\t}\n\n\tcreateEquippedSkill(skillId: string, level: number, itemType?: ItemType, active?: boolean): EquippedSkillModel {\n\t\tconst skill = this.dataService.getSkill(skillId);\n\t\tconst equippedSkill = new EquippedSkillModel();\n\t\tequippedSkill.skill = skill;\n\t\tequippedSkill.id = skill.id;\n\t\tequippedSkill.name = skill.name;\n\t\tequippedSkill.description = skill.description;\n\n\t\tif (itemType == ItemType.Tool1) {\n\t\t\tif (active) {\n\t\t\t\tequippedSkill.equippedToolActiveCount = level;\n\t\t\t} else {\n\t\t\t\tequippedSkill.equippedTool1Count = level;\n\t\t\t}\n\t\t} else if (itemType == ItemType.Tool2) {\n\t\t\tif (active) {\n\t\t\t\tequippedSkill.equippedToolActiveCount = level;\n\t\t\t} else {\n\t\t\t\tequippedSkill.equippedTool2Count = level;\n\t\t\t}\n\t\t} else {\n\t\t\tequippedSkill.equippedArmorCount = level;\n\t\t}\n\n\t\tequippedSkill.equippedCount = equippedSkill.equippedArmorCount + equippedSkill.equippedToolActiveCount;\n\n\t\tequippedSkill.totalLevelCount = skill.maxLevel ? skill.maxLevel : skill.levels.length;\n\t\tthis.countSkillItemPart(equippedSkill, level, itemType);\n\t\tequippedSkill.hasActiveStats = skill.hasActiveStats;\n\n\t\tif (skill.mode == null) {\n\t\t\tif (skill.hasActiveStats) {\n\t\t\t\tskill.mode = ModeType.AllSkillActive;\n\t\t\t} else {\n\t\t\t\tskill.mode = ModeType.Active;\n\t\t\t}\n\t\t}\n\n\t\treturn equippedSkill;\n\t}\n}\n","import { ChangeDetectorRef, Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { AugmentationSlotComponent } from '../components/augmentation-slot/augmentation-slot.component';\nimport { AwakeningSlotComponent } from '../components/awakening-slot/awakening-slot.component';\nimport { DecorationSlotComponent } from '../components/decoration-slot/decoration-slot.component';\nimport { ItemSlotComponent } from '../components/item-slot/item-slot.component';\nimport { KinsectSlotComponent } from '../components/kinsect-slot/kinsect-slot.component';\nimport { ModificationSlotComponent } from '../components/modification-slot/modification-slot.component';\nimport { UpgradeSlotComponent } from '../components/upagrade-slot/upgrade-slot.component';\nimport { AugmentationModel } from '../models/augmentation.model';\nimport { AwakeningLevelModel } from '../models/awakening-level.model';\nimport { DecorationModel } from '../models/decoration.model';\nimport { ItemModel } from '../models/item.model';\nimport { KinsectModel } from '../models/kinsect.model';\nimport { ModificationModel } from '../models/modification.model';\nimport { SetBonusModel } from '../models/set-bonus.model';\nimport { SlotEventModel } from '../models/slot-event.model';\nimport { UpgradeContainerModel } from '../models/upgrade-container.model';\nimport { AilmentType } from '../types/ailment.type';\nimport { AwakeningType } from '../types/awakening.type';\nimport { ElementType } from '../types/element.type';\nimport { EquipmentCategoryType } from '../types/equipment-category.type';\nimport { ItemType } from '../types/item.type';\nimport { WeaponType } from '../types/weapon.type';\nimport { EquipmentService } from './equipment.service';\n\n@Injectable()\nexport class SlotService {\n\tpublic anySlotSelected$ =\n\t\tnew Subject<ItemSlotComponent | DecorationSlotComponent | AugmentationSlotComponent | UpgradeSlotComponent | AwakeningSlotComponent | ModificationSlotComponent | KinsectSlotComponent>();\n\n\tpublic itemSelected$ = new Subject<SlotEventModel<ItemSlotComponent, ItemModel>>();\n\tpublic itemSelectedNew$ = new Subject<SlotEventModel<ItemSlotComponent, ItemModel>>();\n\tpublic decorationSelected$ = new Subject<SlotEventModel<DecorationSlotComponent, DecorationModel>>();\n\tpublic augmentationSelected$ = new Subject<SlotEventModel<AugmentationSlotComponent, AugmentationModel>>();\n\tpublic upgradeSelected$ = new Subject<SlotEventModel<UpgradeSlotComponent, UpgradeContainerModel>>();\n\tpublic setbonusSelected$ = new Subject();\n\tpublic modificationSelected$ = new Subject<SlotEventModel<ModificationSlotComponent, ModificationModel>>();\n\tpublic kinsectSelected$ = new Subject<SlotEventModel<KinsectSlotComponent, KinsectModel>>();\n\tpublic itemLevelChanged$ = new Subject();\n\tpublic itemActiveChanged$ = new Subject();\n\tpublic weaponSlotSelected$ = new Subject();\n\tpublic armorSlotSelected$ = new Subject();\n\n\tpublic weaponModSelected$ = new Subject();\n\n\tweaponSlot: ItemSlotComponent;\n\theadSlot: ItemSlotComponent;\n\tchestSlot: ItemSlotComponent;\n\thandsSlot: ItemSlotComponent;\n\tlegsSlot: ItemSlotComponent;\n\tfeetSlot: ItemSlotComponent;\n\tcharmSlot: ItemSlotComponent;\n\ttool1Slot: ItemSlotComponent;\n\ttool2Slot: ItemSlotComponent;\n\n\tchangeDetector: ChangeDetectorRef;\n\n\tselectedItemSlot: ItemSlotComponent;\n\tselectedDecorationSlot: DecorationSlotComponent;\n\tselectedAugmentationSlot: AugmentationSlotComponent;\n\tselectedUpgradeSlot: UpgradeSlotComponent;\n\tselectedAwakeningSlot: AwakeningSlotComponent;\n\tselectedModificationSlot: ModificationSlotComponent;\n\tselectedKinsectSlot: KinsectSlotComponent;\n\tselectedSetbonusSlot: AwakeningSlotComponent;\n\n\tonlyIceborne: boolean;\n\n\tconstructor(\n\t\tprivate equipmentService: EquipmentService\n\t) {\n\t\tthis.onlyIceborne = true;\n\t}\n\n\tinitialize(\n\t\tweaponSlot: ItemSlotComponent,\n\t\theadSlot: ItemSlotComponent,\n\t\tchestSlot: ItemSlotComponent,\n\t\thandsSlot: ItemSlotComponent,\n\t\tlegsSlot: ItemSlotComponent,\n\t\tfeetSlot: ItemSlotComponent,\n\t\tcharmSlot: ItemSlotComponent,\n\t\ttool1Slot: ItemSlotComponent,\n\t\ttool2Slot: ItemSlotComponent,\n\t\tchangeDetector: ChangeDetectorRef\n\t) {\n\t\tthis.weaponSlot = weaponSlot;\n\t\tthis.headSlot = headSlot;\n\t\tthis.chestSlot = chestSlot;\n\t\tthis.handsSlot = handsSlot;\n\t\tthis.legsSlot = legsSlot;\n\t\tthis.feetSlot = feetSlot;\n\t\tthis.charmSlot = charmSlot;\n\t\tthis.tool1Slot = tool1Slot;\n\t\tthis.tool2Slot = tool2Slot;\n\t\tthis.changeDetector = changeDetector;\n\t}\n\n\tselectItemSlot(slot: ItemSlotComponent) {\n\t\tthis.clearSlotSelect();\n\t\tthis.selectedItemSlot = slot;\n\n\t\tif (this.selectedItemSlot) {\n\t\t\tthis.selectedItemSlot.selected = true;\n\t\t\tthis.anySlotSelected$.next(this.selectedItemSlot);\n\t\t\tif (this.selectedItemSlot && this.selectedItemSlot.item) {\n\t\t\t\tif (this.selectedItemSlot.item.equipmentCategory == EquipmentCategoryType.Weapon) {\n\t\t\t\t\tthis.weaponSlotSelected$.next();\n\t\t\t\t} else if (this.selectedItemSlot.item.equipmentCategory == EquipmentCategoryType.Armor) {\n\t\t\t\t\tthis.armorSlotSelected$.next();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tselectDecorationSlot(slot: DecorationSlotComponent) {\n\t\tthis.clearSlotSelect();\n\t\tthis.selectedDecorationSlot = slot;\n\n\t\tif (this.selectedDecorationSlot) {\n\t\t\tthis.selectedDecorationSlot.selected = true;\n\t\t\tthis.anySlotSelected$.next(this.selectedDecorationSlot);\n\t\t}\n\t}\n\n\tselectAugmentationSlot(slot: AugmentationSlotComponent) {\n\t\tthis.clearSlotSelect();\n\t\tthis.selectedAugmentationSlot = slot;\n\n\t\tif (this.selectedAugmentationSlot) {\n\t\t\tthis.selectedAugmentationSlot.selected = true;\n\t\t\tthis.anySlotSelected$.next(this.selectedAugmentationSlot);\n\t\t}\n\t}\n\n\tselectUpgradeSlot(slot: UpgradeSlotComponent) {\n\t\tthis.clearSlotSelect();\n\t\tthis.selectedUpgradeSlot = slot;\n\n\t\tif (this.selectedUpgradeSlot) {\n\t\t\tthis.selectedUpgradeSlot.selected = true;\n\t\t\tthis.anySlotSelected$.next(this.selectedUpgradeSlot);\n\t\t}\n\t}\n\n\tselectSetbonusSlot(slot: AwakeningSlotComponent) {\n\t\tthis.clearSlotSelect();\n\t\tthis.selectedSetbonusSlot = slot;\n\n\t\tif (this.selectedSetbonusSlot) {\n\t\t\tthis.selectedSetbonusSlot.selected = true;\n\t\t\tthis.anySlotSelected$.next(this.selectedSetbonusSlot);\n\t\t}\n\t}\n\n\tselectModificationSlot(slot: ModificationSlotComponent) {\n\t\tthis.clearSlotSelect();\n\t\tthis.selectedModificationSlot = slot;\n\n\t\tif (this.selectedModificationSlot) {\n\t\t\tthis.selectedModificationSlot.selected = true;\n\t\t\tthis.anySlotSelected$.next(this.selectedModificationSlot);\n\t\t}\n\t}\n\n\tselectKinsectSlot(slot: KinsectSlotComponent) {\n\t\tthis.clearSlotSelect();\n\t\tthis.selectedKinsectSlot = slot;\n\n\t\tif (this.selectedKinsectSlot) {\n\t\t\tthis.selectedKinsectSlot.selected = true;\n\t\t\tthis.anySlotSelected$.next(this.selectedKinsectSlot);\n\t\t}\n\t}\n\n\tclearItemSlot(slot: ItemSlotComponent) {\n\t\tthis.clearSlotItems(slot);\n\n\t\tslot.item = null;\n\t\tthis.itemSelected$.next({ slot: slot, equipment: null });\n\t}\n\tclearArmorSlot(slot: ItemSlotComponent) {\n\t\tthis.clearSlotItems(slot);\n\n\t\tslot.item = null;\n\t\tthis.itemSelectedNew$.next({ slot: slot, equipment: null });\n\t}\n\n\tclearDecorationSlot(slot: DecorationSlotComponent) {\n\t\tthis.equipmentService.removeDecoration(slot.decoration);\n\t\tslot.decoration = null;\n\t\tthis.decorationSelected$.next({ slot: slot, equipment: null });\n\t}\n\n\tclearAugmentationSlot(slot: AugmentationSlotComponent) {\n\t\tthis.equipmentService.removeAugmentation(slot.augmentation);\n\t\tthis.applySlotAugmentation();\n\t\tslot.augmentation = null;\n\t\tthis.augmentationSelected$.next({ slot: slot, equipment: null });\n\t}\n\n\tclearUpgradeSlot(slot: UpgradeSlotComponent) {\n\t\tthis.equipmentService.removeUpgrade();\n\t\tthis.applySlotUpgrade();\n\t\tif (slot.upgradeContainer) {\n\t\t\tthis.clearUpgradeContainer(slot.upgradeContainer);\n\t\t}\n\t\tthis.upgradeSelected$.next({ slot: slot, equipment: null });\n\t}\n\n\tclearAwakeningSlot(slot: AwakeningSlotComponent, update: boolean = true) {\n\t\tthis.equipmentService.removeAwakening();\n\t\tslot.awakenings = [];\n\t\tthis.clearSkillSlot(slot, false);\n\t\tif (update) {\n\t\t\tthis.weaponModSelected$.next({ slot: slot, equipment: null });\n\t\t}\n\t}\n\n\tclearSkillSlot(slot: AwakeningSlotComponent, update: boolean = true) {\n\t\tthis.equipmentService.removeSetbonus();\n\t\tslot.setbonus = null;\n\t\tif (update) {\n\t\t\tthis.weaponModSelected$.next({ slot: slot, equipment: null });\n\t\t}\n\t}\n\n\tclearModificationSlot(slot: ModificationSlotComponent) {\n\t\tthis.equipmentService.removeModification(slot.modification);\n\t\tslot.modification = null;\n\t\tthis.modificationSelected$.next({ slot: slot, equipment: null });\n\t}\n\n\tclearKinsectSlot(slot: KinsectSlotComponent) {\n\t\tthis.equipmentService.removeKinsect();\n\t\tslot.kinsect = null;\n\t\tthis.kinsectSelected$.next({ slot: slot, equipment: null });\n\t}\n\n\tselectItem(item: ItemModel, updateStats: boolean = true) {\n\t\tif (this.selectedItemSlot) {\n\t\t\tthis.clearSlotItems(this.selectedItemSlot);\n\n\t\t\tif (!item.equippedLevel && item.itemType == ItemType.Charm) {\n\t\t\t\titem.equippedLevel = item.levels;\n\t\t\t}\n\t\t\tif (item.itemType == ItemType.Tool1 || item.itemType == ItemType.Tool2) {\n\t\t\t\titem.active = false;\n\t\t\t} else {\n\t\t\t\titem.active = true;\n\t\t\t}\n\n\t\t\tthis.equipmentService.addItem(item, updateStats);\n\t\t\tthis.selectedItemSlot.item = item;\n\n\t\t\tif (item.equipmentCategory == EquipmentCategoryType.Weapon) {\n\t\t\t\tthis.selectedItemSlot.augmentations = [];\n\n\t\t\t\tif (this.selectedItemSlot.upgradeSlot) {\n\t\t\t\t\tthis.clearUpgradeSlot(this.selectedItemSlot.upgradeSlot);\n\t\t\t\t}\n\n\t\t\t\tthis.selectedItemSlot.upgradeContainer = new UpgradeContainerModel();\n\t\t\t\tthis.selectedItemSlot.upgradeContainer.hasCustomUpgrades = item.upgradeType == 1;\n\t\t\t\tthis.selectedItemSlot.upgradeContainer.weaponType = item.weaponType;\n\n\t\t\t\tif (item.rarity == 6) {\n\t\t\t\t\tthis.selectedItemSlot.augmentations = [\n\t\t\t\t\t\tnew AugmentationModel(),\n\t\t\t\t\t\tnew AugmentationModel(),\n\t\t\t\t\t\tnew AugmentationModel()\n\t\t\t\t\t];\n\t\t\t\t} else if (item.rarity == 7) {\n\t\t\t\t\tthis.selectedItemSlot.augmentations = [\n\t\t\t\t\t\tnew AugmentationModel(),\n\t\t\t\t\t\tnew AugmentationModel()\n\t\t\t\t\t];\n\t\t\t\t} else if (item.rarity == 8) {\n\t\t\t\t\tthis.selectedItemSlot.augmentations = [\n\t\t\t\t\t\tnew AugmentationModel()\n\t\t\t\t\t];\n\t\t\t\t} else if (item.rarity == 10) {\n\t\t\t\t\tthis.selectedItemSlot.upgradeContainer.slots = 10;\n\t\t\t\t} else if (item.rarity == 11) {\n\t\t\t\t\tthis.selectedItemSlot.upgradeContainer.slots = 8;\n\t\t\t\t} else if (item.rarity == 12) {\n\t\t\t\t\tthis.selectedItemSlot.upgradeContainer.slots = 6;\n\t\t\t\t}\n\n\t\t\t\tif (item.upgradeType == 2) {\n\t\t\t\t\tthis.selectedItemSlot.awakenings = [\n\t\t\t\t\t\tnew AwakeningLevelModel(),\n\t\t\t\t\t\tnew AwakeningLevelModel(),\n\t\t\t\t\t\tnew AwakeningLevelModel(),\n\t\t\t\t\t\tnew AwakeningLevelModel(),\n\t\t\t\t\t\tnew AwakeningLevelModel()\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\tthis.selectedItemSlot.kinsect = null;\n\t\t\t\tthis.selectedItemSlot.modifications = [];\n\t\t\t\tswitch (item.weaponType) {\n\t\t\t\t\tcase WeaponType.InsectGlaive:\n\t\t\t\t\t\tthis.selectedItemSlot.kinsect = new KinsectModel();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase WeaponType.LightBowgun:\n\t\t\t\t\t\tthis.selectedItemSlot.modifications = [\n\t\t\t\t\t\t\tnew ModificationModel(),\n\t\t\t\t\t\t\tnew ModificationModel(),\n\t\t\t\t\t\t\tnew ModificationModel()\n\t\t\t\t\t\t];\n\t\t\t\t\t\tif (item.rarity >= 10) {\n\t\t\t\t\t\t\tthis.selectedItemSlot.modifications.push(new ModificationModel());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (item.rarity >= 12) {\n\t\t\t\t\t\t\tthis.selectedItemSlot.modifications.push(new ModificationModel());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase WeaponType.HeavyBowgun:\n\t\t\t\t\t\tthis.selectedItemSlot.modifications = [\n\t\t\t\t\t\t\tnew ModificationModel(),\n\t\t\t\t\t\t\tnew ModificationModel(),\n\t\t\t\t\t\t\tnew ModificationModel()\n\t\t\t\t\t\t];\n\t\t\t\t\t\tif (item.rarity >= 9) {\n\t\t\t\t\t\t\tthis.selectedItemSlot.modifications.push(new ModificationModel());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (item.rarity >= 10) {\n\t\t\t\t\t\t\tthis.selectedItemSlot.modifications.push(new ModificationModel());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (item.rarity >= 12) {\n\t\t\t\t\t\t\tthis.selectedItemSlot.modifications.push(new ModificationModel());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (updateStats) {\n\t\t\t\tthis.itemSelected$.next({ slot: this.selectedItemSlot, equipment: item });\n\t\t\t}\n\t\t}\n\t}\n\n\tselectArmorItemByType(item: ItemModel, closeModal?: boolean, updateStats: boolean = true) {\n\t\tlet slotAux: ItemSlotComponent;\n\t\tswitch (item.itemType) {\n\t\t\tcase ItemType.Head:\n\t\t\t\tslotAux = this.headSlot;\n\t\t\t\tbreak;\n\t\t\tcase ItemType.Chest:\n\t\t\t\tslotAux = this.chestSlot;\n\t\t\t\tbreak;\n\t\t\tcase ItemType.Arms:\n\t\t\t\tslotAux = this.handsSlot;\n\t\t\t\tbreak;\n\t\t\tcase ItemType.Waist:\n\t\t\t\tslotAux = this.legsSlot;\n\t\t\t\tbreak;\n\t\t\tcase ItemType.Legs:\n\t\t\t\tslotAux = this.feetSlot;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tlet currentId = 0;\n\t\tif (slotAux.item) {\n\t\t\tcurrentId = slotAux.item.id;\n\t\t}\n\t\tif (currentId != item.id) {\n\t\t\tthis.clearSlotItems(slotAux);\n\t\t\tthis.equipmentService.addItem(item, updateStats);\n\t\t\tslotAux.item = item;\n\t\t\tif (closeModal) {\n\t\t\t\tthis.itemSelected$.next({ slot: slotAux, equipment: item });\n\t\t\t} else {\n\t\t\t\tthis.itemSelectedNew$.next({ slot: slotAux, equipment: item });\n\t\t\t}\n\t\t} else {\n\t\t\tthis.clearArmorSlot(slotAux);\n\t\t}\n\t}\n\n\tselectDecoration(decoration: DecorationModel, updateStats: boolean = true) {\n\t\tif (this.selectedDecorationSlot) {\n\t\t\tif (this.selectedDecorationSlot.decoration) {\n\t\t\t\tthis.equipmentService.removeDecoration(this.selectedDecorationSlot.decoration);\n\t\t\t}\n\n\t\t\tdecoration.itemId = this.selectedDecorationSlot.itemId;\n\t\t\tdecoration.itemType = this.selectedDecorationSlot.itemType;\n\t\t\tthis.equipmentService.addDecoration(decoration, updateStats);\n\t\t\tthis.selectedDecorationSlot.decoration = decoration;\n\t\t\tthis.decorationSelected$.next({ slot: this.selectedDecorationSlot, equipment: decoration });\n\t\t}\n\t}\n\n\tselectAugmentation(augmentation: AugmentationModel, updateStats: boolean = true) {\n\t\tif (this.selectedAugmentationSlot) {\n\t\t\tif (this.selectedAugmentationSlot.augmentation) {\n\t\t\t\tthis.equipmentService.removeAugmentation(this.selectedAugmentationSlot.augmentation);\n\t\t\t}\n\n\t\t\tthis.equipmentService.addAugmentation(augmentation, updateStats);\n\t\t\tthis.applySlotAugmentation();\n\t\t\tthis.selectedAugmentationSlot.augmentation = augmentation;\n\t\t\tthis.augmentationSelected$.next({ slot: this.selectedAugmentationSlot, equipment: augmentation });\n\t\t}\n\t}\n\n\tselectUpgradeContainer(upgradeContainer: UpgradeContainerModel, updateStats: boolean = true) {\n\t\tif (this.selectedUpgradeSlot) {\n\t\t\tif (this.selectedUpgradeSlot.upgradeContainer) {\n\t\t\t\tthis.equipmentService.removeUpgrade();\n\t\t\t}\n\n\t\t\tthis.equipmentService.addUpgrade(upgradeContainer, updateStats);\n\n\t\t\tthis.applySlotUpgrade();\n\n\t\t\tthis.selectedUpgradeSlot.upgradeContainer = upgradeContainer;\n\t\t\tthis.upgradeSelected$.next({ slot: this.selectedUpgradeSlot, equipment: upgradeContainer });\n\t\t}\n\t}\n\n\tselectAwakenings(awakenings: AwakeningLevelModel[], updateStats: boolean = true) {\n\t\tif (this.selectedAwakeningSlot) {\n\t\t} else {\n\t\t\tthis.selectedAwakeningSlot = this.weaponSlot.awakeningSlot;\n\t\t}\n\t\tthis.equipmentService.addAwakenings(awakenings, updateStats);\n\t\tthis.applySlotAwakening();\n\n\t\tthis.selectedAwakeningSlot.awakenings = awakenings;\n\t\tthis.weaponModSelected$.next({ slot: this.selectedAwakeningSlot, equipment: awakenings });\n\t}\n\n\tselectSetbonus(setbonus: SetBonusModel, updateStats: boolean = true) {\n\t\tif (this.selectedSetbonusSlot) {\n\t\t\tif (this.selectedSetbonusSlot.setbonus) {\n\t\t\t\tthis.equipmentService.removeSetbonus();\n\t\t\t}\n\t\t\tthis.equipmentService.addSetbonus(setbonus, updateStats);\n\t\t\tthis.selectedSetbonusSlot.setbonus = setbonus;\n\t\t\tthis.setbonusSelected$.next({ slot: this.selectedSetbonusSlot, equipment: setbonus });\n\t\t}\n\t}\n\n\tselectModification(modification: ModificationModel, updateStats: boolean = true) {\n\t\tif (this.selectedModificationSlot) {\n\t\t\tif (this.selectedModificationSlot.modification) {\n\t\t\t\tthis.equipmentService.removeModification(this.selectedModificationSlot.modification);\n\t\t\t}\n\n\t\t\tthis.equipmentService.addModification(modification);\n\t\t\tthis.selectedModificationSlot.modification = modification;\n\t\t\tthis.modificationSelected$.next({ slot: this.selectedModificationSlot, equipment: modification });\n\t\t}\n\t}\n\n\tselectKinsect(kinsect: KinsectModel, updateStats: boolean = true) {\n\t\tif (this.selectedKinsectSlot) {\n\t\t\tif (this.selectedKinsectSlot.kinsect) {\n\t\t\t\tthis.equipmentService.removeKinsect();\n\t\t\t}\n\t\t\tthis.equipmentService.addKinsect(kinsect, updateStats);\n\t\t\tthis.selectedKinsectSlot.kinsect = kinsect;\n\t\t\tthis.kinsectSelected$.next({ slot: this.selectedKinsectSlot, equipment: kinsect });\n\t\t}\n\t}\n\n\tupdateItemLevel() {\n\t\tthis.itemLevelChanged$.next();\n\t\tthis.equipmentService.updateItemLevel();\n\t}\n\n\tselectWeaponElement(element: ElementType, elementAttack: number) {\n\t\tthis.equipmentService.changeElement(element, elementAttack);\n\t\tthis.weaponModSelected$.next(element);\n\t}\n\n\tselectWeaponAilment(ailment: AilmentType, ailmentAttack: number) {\n\t\tthis.equipmentService.changeAilment(ailment, ailmentAttack);\n\t\tthis.weaponModSelected$.next(ailment);\n\t}\n\n\tchangeWeaponName(weaponName: string) {\n\t\tthis.equipmentService.changeWeaponName(weaponName);\n\t}\n\n\tactiveItemTool(itemType: ItemType, active: boolean) {\n\t\tif (active) {\n\t\t\tif (itemType == ItemType.Tool1 && this.tool2Slot.item) {\n\t\t\t\tthis.tool2Slot.item.active = false;\n\t\t\t}\n\t\t\tif (itemType == ItemType.Tool2 && this.tool1Slot.item) {\n\t\t\t\tthis.tool1Slot.item.active = false;\n\t\t\t}\n\t\t}\n\t\tthis.itemActiveChanged$.next();\n\t\tthis.equipmentService.updateItemActive();\n\t}\n\n\tprivate clearUpgradeContainer(upgradeContainer: UpgradeContainerModel) {\n\t\tupgradeContainer.used = 0;\n\t\tfor (const detail of upgradeContainer.upgradeDetails) {\n\t\t\tdetail.level = 0;\n\t\t\tdetail.totalSlots = 0;\n\t\t\tdetail.requiredSlots = 0;\n\n\t\t\tdetail.passiveAttack = 0;\n\t\t\tdetail.passiveAffinity = 0;\n\t\t\tdetail.passiveDefense = 0;\n\t\t\tdetail.slotLevel = 0;\n\t\t\tdetail.healOnHitPercent = 0;\n\t\t\tdetail.passiveElement = 0;\n\t\t\tdetail.passiveAilment = 0;\n\t\t}\n\t\tupgradeContainer.customUpgradeIds = [0, 0, 0, 0, 0, 0, 0];\n\t}\n\n\tprivate applySlotAugmentation() {\n\t\tconst slotAugs = this.equipmentService.augmentations.filter(aug => aug.id == 4);\n\t\tconst augDecorationSlot = this.weaponSlot.item.slots.find(slot => slot.augmentation);\n\n\t\tif (slotAugs && slotAugs.length) {\n\t\t\tthis.changeDetector.detectChanges();\n\n\t\t\tif (augDecorationSlot) {\n\t\t\t\taugDecorationSlot.level = slotAugs[0].levels[slotAugs.length - 1].slotLevel;\n\t\t\t\tconst decoSlot = this.weaponSlot.decorationSlots.last;\n\t\t\t\tif (decoSlot && decoSlot.decoration && augDecorationSlot.level < decoSlot.decoration.level) {\n\t\t\t\t\tthis.clearDecorationSlot(decoSlot);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!this.weaponSlot.item.slots) {\n\t\t\t\t\tthis.weaponSlot.item.slots = [];\n\t\t\t\t}\n\t\t\t\tthis.weaponSlot.item.slots.push({ level: slotAugs[0].levels[slotAugs.length - 1].slotLevel, augmentation: true });\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.weaponSlot.item.slots.some(decorationSlot => decorationSlot.augmentation)) {\n\t\t\t\tthis.weaponSlot.item.slots = this.weaponSlot.item.slots.filter(decorationSlot => !(decorationSlot === augDecorationSlot)); // Was Reject\n\t\t\t\tthis.equipmentService.removeDecoration(this.weaponSlot.decorationSlots.last.decoration);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate applySlotUpgrade() {\n\t\tconst upgradeContainer = this.equipmentService.upgradeContainer;\n\t\tif (upgradeContainer && upgradeContainer.upgradeDetails && upgradeContainer.upgradeDetails.length > 0) {\n\t\t\tthis.applySlotIncrement(upgradeContainer.upgradeDetails[3].level, ItemType.Upgrade);\n\t\t} else {\n\t\t\tthis.applySlotIncrement(0, ItemType.Upgrade);\n\t\t}\n\t}\n\n\tprivate applySlotAwakening() {\n\t\tconst slotAwakening = this.equipmentService.awakenings.find(x => x.type == AwakeningType.Slot);\n\t\tif (slotAwakening && slotAwakening.level - 1 > 0) {\n\t\t\tthis.applySlotIncrement(slotAwakening.level - 1, ItemType.Awakening);\n\t\t} else {\n\t\t\tthis.applySlotIncrement(0, ItemType.Awakening);\n\t\t}\n\t}\n\n\tprivate applySlotIncrement(extraSlots: number, itemType: ItemType) {\n\t\tconst decoSlotsIncremented = this.weaponSlot.item.slots.filter(x => x.slotsAdded && x.slotsAdded.some(y => y.itemType == itemType));\n\t\tlet totalAdded = 0;\n\t\tif (decoSlotsIncremented) {\n\t\t\tfor (const decoSlot of decoSlotsIncremented) {\n\t\t\t\tif (decoSlot.slotsAdded.length) {\n\t\t\t\t\tfor (const added of decoSlot.slotsAdded) {\n\t\t\t\t\t\tif (added.itemType == itemType) {\n\t\t\t\t\t\t\ttotalAdded += added.level;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (totalAdded != extraSlots) {\n\t\t\t\tthis.slotsIncrementRecursive(extraSlots - totalAdded, itemType);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate slotsIncrementRecursive(extraSlots: number, itemType: ItemType) {\n\t\tif (extraSlots > 0) {\n\t\t\tfor (const slot of this.weaponSlot.item.slots) {\n\t\t\t\tif (slot.level < 4) {\n\t\t\t\t\tconst toAdd = Math.min(4 - slot.level, extraSlots);\n\n\t\t\t\t\tif (!slot.slotsAdded) {\n\t\t\t\t\t\tslot.slotsAdded = [];\n\t\t\t\t\t}\n\t\t\t\t\tconst added = slot.slotsAdded.find(x => x.itemType == itemType);\n\t\t\t\t\tif (added) {\n\t\t\t\t\t\tadded.level += toAdd;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tslot.slotsAdded.push({ level: toAdd, itemType: itemType });\n\t\t\t\t\t}\n\n\t\t\t\t\tslot.level += toAdd;\n\t\t\t\t\textraSlots -= toAdd;\n\t\t\t\t}\n\t\t\t\tif (extraSlots == 0) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (extraSlots > 0 && this.weaponSlot.item.slots.length < 3) {\n\t\t\t\tif (!this.weaponSlot.item.slots) {\n\t\t\t\t\tthis.weaponSlot.item.slots = [];\n\t\t\t\t}\n\t\t\t\tthis.weaponSlot.item.slots.push({ level: 0 });\n\t\t\t\tthis.slotsIncrementRecursive(extraSlots, itemType);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (let i = this.weaponSlot.item.slots.length - 1; i >= 0; i--) {\n\t\t\t\tconst slot = this.weaponSlot.item.slots[i];\n\t\t\t\tconst toRemove = Math.min(slot.level, -extraSlots);\n\t\t\t\tif (slot.slotsAdded) {\n\t\t\t\t\tconst added = slot.slotsAdded.find(x => x.itemType == itemType);\n\t\t\t\t\tif (added) {\n\t\t\t\t\t\tadded.level -= toRemove;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst decoSlot = this.weaponSlot.decorationSlots.toArray()[i];\n\t\t\t\tif (decoSlot && decoSlot.decoration && decoSlot.decoration.level > slot.level - toRemove) {\n\t\t\t\t\tthis.clearDecorationSlot(decoSlot);\n\t\t\t\t}\n\t\t\t\tslot.level -= toRemove;\n\t\t\t\textraSlots += toRemove;\n\t\t\t\tif (slot.level == 0) {\n\t\t\t\t\tthis.weaponSlot.item.slots.pop();\n\t\t\t\t}\n\t\t\t\tif (extraSlots == 0) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate clearSlotItems(slot: ItemSlotComponent) {\n\t\tif (slot.item) {\n\t\t\tthis.equipmentService.removeItem(slot.item);\n\n\t\t\tslot.decorationSlots.forEach(ds => {\n\t\t\t\tthis.equipmentService.removeDecoration(ds.decoration);\n\t\t\t});\n\n\t\t\tslot.augmentationSlots.forEach(as => {\n\t\t\t\tthis.equipmentService.removeAugmentation(as.augmentation);\n\t\t\t});\n\n\t\t\tslot.modificationSlots.forEach(md => {\n\t\t\t\tthis.equipmentService.removeModification(md.modification);\n\t\t\t});\n\n\t\t\tif (slot.awakeningSlot) {\n\t\t\t\tthis.equipmentService.removeAwakening();\n\t\t\t\tslot.awakeningSlot.setbonus = null;\n\t\t\t}\n\t\t}\n\t\tif (slot.upgradeContainer) {\n\t\t\tslot.upgradeContainer.slots = 0;\n\t\t\tslot.upgradeContainer.used = 0;\n\t\t\tslot.upgradeContainer.hasCustomUpgrades = false;\n\t\t\tthis.clearUpgradeContainer(slot.upgradeContainer);\n\t\t\tthis.equipmentService.upgradeContainer = slot.upgradeContainer;\n\t\t}\n\t}\n\n\tprivate clearSlotSelect() {\n\t\tif (this.selectedItemSlot) {\n\t\t\tthis.selectedItemSlot.selected = false;\n\t\t}\n\n\t\tif (this.selectedDecorationSlot) {\n\t\t\tthis.selectedDecorationSlot.selected = false;\n\t\t}\n\n\t\tif (this.selectedAugmentationSlot) {\n\t\t\tthis.selectedAugmentationSlot.selected = false;\n\t\t}\n\n\t\tif (this.selectedUpgradeSlot) {\n\t\t\tthis.selectedUpgradeSlot.selected = false;\n\t\t}\n\n\t\tif (this.selectedSetbonusSlot) {\n\t\t\tthis.selectedSetbonusSlot.selected = false;\n\t\t}\n\n\t\tif (this.selectedModificationSlot) {\n\t\t\tthis.selectedModificationSlot.selected = false;\n\t\t}\n\n\t\tif (this.selectedKinsectSlot) {\n\t\t\tthis.selectedKinsectSlot.selected = false;\n\t\t}\n\n\t\tthis.selectedItemSlot = null;\n\t\tthis.selectedDecorationSlot = null;\n\t\tthis.selectedAugmentationSlot = null;\n\t\tthis.selectedUpgradeSlot = null;\n\t\tthis.selectedSetbonusSlot = null;\n\t\tthis.selectedModificationSlot = null;\n\t\tthis.selectedKinsectSlot = null;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport * as _ from 'lodash';\nimport { Subject } from 'rxjs';\nimport { AugmentationModel } from '../models/augmentation.model';\nimport { AwakeningLevelModel } from '../models/awakening-level.model';\nimport { AwakeningModel } from '../models/awakening.model';\nimport { BuffModel } from '../models/buffs.model';\nimport { EquippedSkillModel } from '../models/equipped-skill.model';\nimport { ItemModel } from '../models/item.model';\nimport { KinsectModel } from '../models/kinsect.model';\nimport { ModificationModel } from '../models/modification.model';\nimport { SkillLevelModel } from '../models/skill-level.model';\nimport { StatsModel } from '../models/stats.model';\nimport { UpgradeContainerModel } from '../models/upgrade-container.model';\nimport { WeaponModifierModel } from '../models/weapon-modifier.model';\nimport { AilmentType } from '../types/ailment.type';\nimport { AmmoType } from '../types/ammo.type';\nimport { AwakeningType } from '../types/awakening.type';\nimport { DamageType } from '../types/damage.type';\nimport { EldersealType } from '../types/elderseal.type';\nimport { ElementType } from '../types/element.type';\nimport { ItemType } from '../types/item.type';\nimport { ModeType } from '../types/mode.type';\nimport { WeaponType } from '../types/weapon.type';\nimport { CalculationService } from './calculation.service';\nimport { DataService } from './data.service';\n\n@Injectable()\nexport class StatService {\n\tpublic statsUpdated$ = new Subject<StatsModel>();\n\n\treadonly defaultElementAttackIncreaseCap = 10.0;\n\n\tstats = new StatsModel();\n\tweaponModifier: WeaponModifierModel;\n\n\tawakeningsData: AwakeningModel[] = [];\n\n\tconstructor(\n\t\tprivate dataService: DataService,\n\t\tprivate calcService: CalculationService\n\t) {\n\t\tthis.awakeningsData = this.dataService.getAwakenings();\n\t}\n\n\tupdate(\n\t\tskills: EquippedSkillModel[],\n\t\titems: ItemModel[],\n\t\taugmentations: AugmentationModel[],\n\t\tupgradeContainer: UpgradeContainerModel,\n\t\tawakenings: AwakeningLevelModel[],\n\t\tmodifications: ModificationModel[],\n\t\tkinsect: KinsectModel,\n\t\tbuffs: BuffModel\n\t) {\n\n\t\tthis.stats = new StatsModel();\n\n\t\t// ---------------------------- Weapon\n\t\tconst weapon = items.find(x => x.itemType == ItemType.Weapon);\n\t\tif (weapon) {\n\t\t\tthis.weaponModifier = this.dataService.getWeaponModifier(weapon.weaponType);\n\n\t\t\tswitch (weapon.weaponType) {\n\t\t\t\tcase WeaponType.HeavyBowgun:\n\t\t\t\tcase WeaponType.LightBowgun:\n\t\t\t\t\tthis.stats.ammoCapacities = weapon.ammoCapacities;\n\t\t\t\t\tbreak;\n\t\t\t\tcase WeaponType.InsectGlaive:\n\t\t\t\t\tthis.stats.kinsect = kinsect;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.stats.weaponType = weapon.weaponType;\n\t\t}\n\t\t// ---------------------------- Awakenings\n\t\tif (weapon && awakenings.length) {\n\t\t\tthis.updateAwakenings(weapon, awakenings);\n\t\t}\n\t\t// ---------------------------- Upgrades\n\t\tif (upgradeContainer) {\n\t\t\tthis.updateUpgrades(upgradeContainer);\n\t\t}\n\t\t// ----------------------------\n\t\tthis.updateItemStats(items, buffs);\n\t\tthis.updateSkillStats(skills);\n\t\tthis.updateAugmentations(augmentations);\n\n\t\tthis.updateModifications(modifications);\n\n\t\tthis.calculateAttack(weapon);\n\n\t\tthis.statsUpdated$.next(this.stats);\n\n\t\tthis.calcService.updateCalcs(this.stats);\n\t}\n\n\tprivate updateItemStats(items: ItemModel[], buffs: BuffModel) {\n\t\tfor (const item of items) {\n\t\t\tif (item.itemType != ItemType.Tool1 && item.itemType != ItemType.Tool2) {\n\t\t\t\tif (item.baseAttack) {\n\t\t\t\t\tthis.stats.attack += item.baseAttack;\n\t\t\t\t\tthis.stats.attack = this.nearestTen(this.stats.attack * 10) / 10;\n\t\t\t\t}\n\t\t\t\tif (item.baseAffinityPercent) { this.stats.affinity += item.baseAffinityPercent; }\n\t\t\t\tif (item.itemType == ItemType.Weapon) {\n\t\t\t\t\tif (item.defense) {\n\t\t\t\t\t\tfor (let i = 0; i < this.stats.defense.length; i++) {\n\t\t\t\t\t\t\tthis.stats.defense[i] += item.defense[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (item.defense) {\n\t\t\t\t\t\tfor (let i = 0; i < this.stats.defense.length; i++) {\n\t\t\t\t\t\t\tthis.stats.defense[i] += item.defense[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (item.fireResist) { this.stats.fireResist += item.fireResist; }\n\t\t\t\tif (item.waterResist) { this.stats.waterResist += item.waterResist; }\n\t\t\t\tif (item.thunderResist) { this.stats.thunderResist += item.thunderResist; }\n\t\t\t\tif (item.iceResist) { this.stats.iceResist += item.iceResist; }\n\t\t\t\tif (item.dragonResist) { this.stats.dragonResist += item.dragonResist; }\n\t\t\t\tif (item.element) { this.stats.element = item.element; }\n\t\t\t\tif (item.elementBaseAttack) { this.stats.baseElementAttack += item.elementBaseAttack; }\n\t\t\t\tif (item.ailment) { this.stats.ailment = item.ailment; }\n\t\t\t\tif (item.ailmentBaseAttack) { this.stats.baseAilmentAttack += item.ailmentBaseAttack; }\n\t\t\t\tif (item.elderseal) { this.stats.elderseal = item.elderseal; }\n\t\t\t}\n\t\t}\n\n\t\tthis.stats.fireResist += (buffs.elementBuff * 5);\n\t\tthis.stats.waterResist += (buffs.elementBuff * 5);\n\t\tthis.stats.thunderResist += (buffs.elementBuff * 5);\n\t\tthis.stats.iceResist += (buffs.elementBuff * 5);\n\t\tthis.stats.dragonResist += (buffs.elementBuff * 5);\n\t}\n\n\tprivate updateSkillStats(equippedSkills: EquippedSkillModel[]) {\n\t\tfor (const equippedSkill of equippedSkills) {\n\t\t\tlet level: SkillLevelModel;\n\n\t\t\tif (equippedSkill.equippedCount) {\n\t\t\t\tconst levelIndex = Math.min(equippedSkill.equippedCount, equippedSkill.skill.levels.length) - 1;\n\t\t\t\tlevel = equippedSkill.skill.levels[levelIndex];\n\t\t\t}\n\t\t\tif (level) {\n\t\t\t\tif (equippedSkill.skill.mode == ModeType.AllSkillActive) {\n\t\t\t\t\tconst skillUpgrade = equippedSkills.find(x => x.id == 'true' + equippedSkill.id.substring(0, 1).toUpperCase() + equippedSkill.id.substring(1, equippedSkill.id.length));\n\t\t\t\t\tif (skillUpgrade == null || skillUpgrade.skill.mode == ModeType.Active) {\n\t\t\t\t\t\tif (level.activeElementAttack) { this.stats.activeElementAttack += level.activeElementAttack; }\n\t\t\t\t\t\tif (level.activeAilmentAttack) { this.stats.activeAilmentAttack += level.activeAilmentAttack; }\n\t\t\t\t\t\tif (level.activeAilmentAttackBuildUpPercent) { this.stats.activeAilmentAttackBuildUpPercent += level.activeAilmentAttackBuildUpPercent; }\n\t\t\t\t\t\tif (level.activeAttack) { this.stats.activeAttack += level.activeAttack; }\n\t\t\t\t\t\tif (level.activeAttackPercent) { this.stats.activeAttackPercent += level.activeAttackPercent; }\n\t\t\t\t\t\tif (level.activeAffinity) { this.stats.activeAffinity += level.activeAffinity; }\n\t\t\t\t\t\tif (level.activeWeakPointAffinity) { this.stats.weakPointAffinity += level.activeWeakPointAffinity; }\n\t\t\t\t\t\tif (level.activeDefense) { this.stats.activeDefense += level.activeDefense; }\n\t\t\t\t\t\tif (equippedSkill.skill.id == 'frostcraft') {\n\t\t\t\t\t\t\tthis.stats.activeAttackPercent += this.weaponModifier.frostcraft[2];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (equippedSkill.skill.mode == ModeType.Active || equippedSkill.skill.mode == ModeType.AllSkillActive) {\n\t\t\t\t\tif (level.passiveAttack) { this.stats.passiveAttack += level.passiveAttack; }\n\t\t\t\t\tif (level.elementlessBoostPercent) { this.stats.elementlessBoostPercent += level.elementlessBoostPercent; }\n\t\t\t\t\tif (level.passiveAffinity) { this.stats.passiveAffinity += level.passiveAffinity; }\n\t\t\t\t\tif (level.weakPointAffinity) { this.stats.weakPointAffinity += level.weakPointAffinity; }\n\t\t\t\t\tif (level.passiveSharpness) { this.stats.passiveSharpness += level.passiveSharpness; }\n\n\t\t\t\t\tif (level.passiveCriticalBoostPercent) { this.stats.passiveCriticalBoostPercent += level.passiveCriticalBoostPercent; }\n\t\t\t\t\tif (level.criticalElement) { this.stats.criticalElement = true; }\n\t\t\t\t\tif (level.criticalStatus) { this.stats.criticalStatus = true; }\n\t\t\t\t\tif (level.trueCriticalElement) { this.stats.trueCriticalElement = true; }\n\t\t\t\t\tif (level.trueCriticalStatus) { this.stats.trueCriticalStatus = true; }\n\n\t\t\t\t\tif (level.passiveFireAttack) { this.stats.passiveFireAttack += level.passiveFireAttack; }\n\t\t\t\t\tif (level.passiveWaterAttack) { this.stats.passiveWaterAttack += level.passiveWaterAttack; }\n\t\t\t\t\tif (level.passiveThunderAttack) { this.stats.passiveThunderAttack += level.passiveThunderAttack; }\n\t\t\t\t\tif (level.passiveIceAttack) { this.stats.passiveIceAttack += level.passiveIceAttack; }\n\t\t\t\t\tif (level.passiveDragonAttack) { this.stats.passiveDragonAttack += level.passiveDragonAttack; }\n\n\t\t\t\t\tif (level.passiveFireAttackPercent) { this.stats.passiveFireAttackPercent += level.passiveFireAttackPercent; }\n\t\t\t\t\tif (level.passiveWaterAttackPercent) { this.stats.passiveWaterAttackPercent += level.passiveWaterAttackPercent; }\n\t\t\t\t\tif (level.passiveThunderAttackPercent) { this.stats.passiveThunderAttackPercent += level.passiveThunderAttackPercent; }\n\t\t\t\t\tif (level.passiveIceAttackPercent) { this.stats.passiveIceAttackPercent += level.passiveIceAttackPercent; }\n\t\t\t\t\tif (level.passiveDragonAttackPercent) { this.stats.passiveDragonAttackPercent += level.passiveDragonAttackPercent; }\n\n\t\t\t\t\tif (level.passivePoisonAttack) { this.stats.passivePoisonAttack += level.passivePoisonAttack; }\n\t\t\t\t\tif (level.passiveSleepAttack) { this.stats.passiveSleepAttack += level.passiveSleepAttack; }\n\t\t\t\t\tif (level.passiveParalysisAttack) { this.stats.passiveParalysisAttack += level.passiveParalysisAttack; }\n\t\t\t\t\tif (level.passiveBlastAttack) { this.stats.passiveBlastAttack += level.passiveBlastAttack; }\n\t\t\t\t\tif (level.passiveStunAttack) { this.stats.passiveStunAttack += level.passiveStunAttack; }\n\n\t\t\t\t\tif (level.passivePoisonBuildupPercent) { this.stats.passivePoisonBuildupPercent += level.passivePoisonBuildupPercent; }\n\t\t\t\t\tif (level.passiveSleepBuildupPercent) { this.stats.passiveSleepBuildupPercent += level.passiveSleepBuildupPercent; }\n\t\t\t\t\tif (level.passiveParalysisBuildupPercent) { this.stats.passiveParalysisBuildupPercent += level.passiveParalysisBuildupPercent; }\n\t\t\t\t\tif (level.passiveBlastBuildupPercent) { this.stats.passiveBlastBuildupPercent += level.passiveBlastBuildupPercent; }\n\t\t\t\t\tif (level.passiveStunBuildupPercent) { this.stats.passiveStunBuildupPercent += level.passiveStunBuildupPercent; }\n\n\t\t\t\t\tif (level.passiveDefense) { this.stats.passiveDefense += level.passiveDefense; }\n\t\t\t\t\tif (level.passiveDefensePercent) { this.stats.passiveDefensePercent += level.passiveDefensePercent; }\n\t\t\t\t\tif (level.passiveHealth) { this.stats.passiveHealth += level.passiveHealth; }\n\t\t\t\t\tif (level.passiveStamina) { this.stats.passiveStamina += level.passiveStamina; }\n\n\t\t\t\t\tif (level.passiveFireResist) { this.stats.passiveFireResist += level.passiveFireResist; }\n\t\t\t\t\tif (level.passiveWaterResist) { this.stats.passiveWaterResist += level.passiveWaterResist; }\n\t\t\t\t\tif (level.passiveThunderResist) { this.stats.passiveThunderResist += level.passiveThunderResist; }\n\t\t\t\t\tif (level.passiveIceResist) { this.stats.passiveIceResist += level.passiveIceResist; }\n\t\t\t\t\tif (level.passiveDragonResist) { this.stats.passiveDragonResist += level.passiveDragonResist; }\n\n\t\t\t\t\tif (level.passiveElementResistPercent) { this.stats.passiveElementResistPercent = level.passiveElementResistPercent; }\n\n\t\t\t\t\tif (level.hiddenElementUp) { this.stats.elementAttackMultiplier = level.hiddenElementUp; }\n\t\t\t\t\tif (level.ammoUp) { this.stats.ammoUp += level.ammoUp; }\n\t\t\t\t\tif (level.eldersealLevelBoost) { this.stats.eldersealLevelBoost = level.eldersealLevelBoost; }\n\t\t\t\t}\n\t\t\t\tif (equippedSkill.skill.id == 'hastenRecovery') {\n\t\t\t\t\tthis.stats.hastenRecovery = 0;\n\t\t\t\t}\n\t\t\t\tif (equippedSkill.skill.id == 'frostcraft') {\n\t\t\t\t\tthis.stats.frostcraft = [];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.stats.passiveElementResistPercent) {\n\t\t\tthis.stats.passiveFireResist += (this.stats.fireResist + this.stats.passiveFireResist) * this.stats.passiveElementResistPercent / 100;\n\t\t\tthis.stats.passiveWaterResist += (this.stats.waterResist + this.stats.passiveWaterResist) * this.stats.passiveElementResistPercent / 100;\n\t\t\tthis.stats.passiveThunderResist += (this.stats.thunderResist + this.stats.passiveThunderResist) * this.stats.passiveElementResistPercent / 100;\n\t\t\tthis.stats.passiveIceResist += (this.stats.iceResist + this.stats.passiveIceResist) * this.stats.passiveElementResistPercent / 100;\n\t\t\tthis.stats.passiveDragonResist += (this.stats.dragonResist + this.stats.passiveDragonResist) * this.stats.passiveElementResistPercent / 100;\n\t\t}\n\n\t\tconst elementConversionSkill = equippedSkills.find(skill => skill.id == 'elementConversion');\n\t\tif (elementConversionSkill && elementConversionSkill.skill.mode == ModeType.AllSkillActive) {\n\t\t\tconst sumElementalRes =\n\t\t\t\tthis.stats.fireResist + this.stats.passiveFireResist\n\t\t\t\t+ this.stats.waterResist + this.stats.passiveWaterResist\n\t\t\t\t+ this.stats.thunderResist + this.stats.passiveThunderResist\n\t\t\t\t+ this.stats.iceResist + this.stats.passiveIceResist\n\t\t\t\t+ this.stats.dragonResist + this.stats.passiveDragonResist;\n\t\t\tlet elementalBonus = 0;\n\t\t\tif (sumElementalRes >= 15) {\n\t\t\t\tif (sumElementalRes < 30) {\n\t\t\t\t\telementalBonus = 10;\n\t\t\t\t} else if (sumElementalRes < 40) {\n\t\t\t\t\telementalBonus = 20;\n\t\t\t\t} else {\n\t\t\t\t\telementalBonus = Math.floor((sumElementalRes - 30) / 20) * 10 + 20;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.stats.baseElementAttack += elementalBonus;\n\t\t}\n\t}\n\n\tprivate updateAugmentations(augmentations: AugmentationModel[]) {\n\t\tconst augGroups = _.groupBy(augmentations, 'id');\n\n\t\tfor (const key in augGroups) {\n\t\t\tif (augGroups.hasOwnProperty(key)) {\n\t\t\t\tconst value = augGroups[key];\n\n\t\t\t\tconst level = value[0].levels[value.length - 1];\n\t\t\t\tif (level) {\n\t\t\t\t\tif (level.passiveAttack) { this.stats.passiveAttack += level.passiveAttack; }\n\t\t\t\t\tif (level.passiveAffinity) { this.stats.passiveAffinity += level.passiveAffinity; }\n\t\t\t\t\tif (level.passiveDefense) { this.stats.passiveDefense += level.passiveDefense; }\n\t\t\t\t\tif (level.healOnHitPercent) { this.stats.healOnHitPercent += level.healOnHitPercent; }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate updateUpgrades(upgradeContainer: UpgradeContainerModel) {\n\t\tconst attackModifier = this.weaponModifier.attackModifier;\n\n\t\tfor (const detail of upgradeContainer.upgradeDetails) {\n\t\t\tif (detail.passiveAttack) {\n\t\t\t\tthis.stats.upgradeAttack += detail.passiveAttack;\n\t\t\t}\n\t\t\tif (detail.passiveAffinity) {\n\t\t\t\tthis.stats.affinity += detail.passiveAffinity;\n\t\t\t\tthis.stats.upgradeAffinity += detail.passiveAffinity;\n\t\t\t}\n\t\t\tif (detail.passiveDefense) { this.stats.passiveDefense += detail.passiveDefense; }\n\t\t\tif (detail.healOnHitPercent) { this.stats.healOnHitPercent += detail.healOnHitPercent; }\n\t\t\tif (detail.passiveElement) {\n\t\t\t\tthis.stats.baseElementAttack += detail.passiveElement;\n\t\t\t\tthis.stats.upgradeElementAttack += detail.passiveElement;\n\t\t\t}\n\t\t\tif (detail.passiveAilment) {\n\t\t\t\tthis.stats.baseAilmentAttack += detail.passiveAilment;\n\t\t\t\tthis.stats.upgradeAilmentAttack += detail.passiveAilment;\n\t\t\t}\n\t\t}\n\n\t\tlet upgradePassiveAttack = 0;\n\t\tlet upgradePassiveAffinity = 0;\n\t\tlet upgradePassiveAilmentElement = 0;\n\t\tlet upgradePassiveDefense = 0;\n\n\t\tlet weaponIndex = 0;\n\t\tfor (const item in WeaponType) {\n\t\t\tif (isNaN(Number(item))) {\n\t\t\t\tif (item == upgradeContainer.weaponType) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tweaponIndex += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst upgrades = this.dataService.getUpgrades();\n\t\tfor (const [i, customId] of upgradeContainer.customUpgradeIds.entries()) {\n\t\t\tif (customId > 0) {\n\t\t\t\tconst value = upgrades.find(x => x.id == customId).WeaponCustomUpgrades[weaponIndex][i];\n\t\t\t\tupgradeContainer.customUpgradeValues[i] = value;\n\t\t\t\tswitch (customId) {\n\t\t\t\t\tcase 1: // Attack\n\t\t\t\t\t\tupgradePassiveAttack += value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2: // Affinity\n\t\t\t\t\t\tupgradePassiveAffinity += value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3: // Defense\n\t\t\t\t\t\tupgradePassiveDefense += value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 6: // Element / Ailment\n\t\t\t\t\t\tupgradePassiveAilmentElement += value * 10;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 7: // Sharpness\n\t\t\t\t\t\tthis.stats.extraSharpness += value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.stats.upgradeAttack += upgradePassiveAttack;\n\t\tthis.stats.affinity += upgradePassiveAffinity;\n\t\tthis.stats.upgradeAffinity += upgradePassiveAffinity;\n\t\tthis.stats.passiveDefense += upgradePassiveDefense;\n\n\t\tthis.stats.baseElementAttack += upgradePassiveAilmentElement;\n\t\tthis.stats.upgradeElementAttack += upgradePassiveAilmentElement;\n\t\tthis.stats.baseAilmentAttack += upgradePassiveAilmentElement;\n\t\tthis.stats.upgradeAilmentAttack += upgradePassiveAilmentElement;\n\t}\n\n\tprivate updateAwakenings(weapon: ItemModel, awakenings: AwakeningLevelModel[]) {\n\t\tlet weaponIndex = 0;\n\t\tfor (const type in WeaponType) {\n\t\t\tif (isNaN(Number(type))) {\n\t\t\t\tif (type == weapon.weaponType) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tweaponIndex += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst attackModifier = this.weaponModifier.attackModifier;\n\n\t\tconst awakeningAttack: number[] = this.awakeningsData.find(x => x.type == AwakeningType.Attack).awakenings[weaponIndex];\n\t\tconst awakeningAffinity: number[] = this.awakeningsData.find(x => x.type == AwakeningType.Affinity).awakenings[0];\n\t\tconst awakeningDefense: number[] = this.awakeningsData.find(x => x.type == AwakeningType.Defense).awakenings[0];\n\t\tconst awakeningSlot: number[] = this.awakeningsData.find(x => x.type == AwakeningType.Slot).awakenings[0];\n\t\tconst awakeningAilment: number[] = this.awakeningsData.find(x => x.type == AwakeningType.Ailment).awakenings[weaponIndex];\n\t\tconst awakeningElement: number[] = this.awakeningsData.find(x => x.type == AwakeningType.Element).awakenings[weaponIndex];\n\t\tconst awakeningSharpness: number[] = this.awakeningsData.find(x => x.type == AwakeningType.Sharpness).awakenings[0];\n\n\t\tfor (const awakening of awakenings) {\n\t\t\tif (awakening.level > 0) {\n\t\t\t\tswitch (awakening.type) {\n\t\t\t\t\tcase AwakeningType.Attack:\n\t\t\t\t\t\tthis.stats.awakeningAttack += awakeningAttack[awakening.level - 1];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase AwakeningType.Affinity:\n\t\t\t\t\t\tthis.stats.affinity += awakeningAffinity[awakening.level - 1];\n\t\t\t\t\t\tthis.stats.awakeningAffinity += awakeningAffinity[awakening.level - 1];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase AwakeningType.Defense:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase AwakeningType.Slot:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase AwakeningType.Ailment:\n\t\t\t\t\t\tthis.stats.baseAilmentAttack += awakeningAilment[awakening.level - 1];\n\t\t\t\t\t\tthis.stats.awakeningAilmentAttack += awakeningAilment[awakening.level - 1];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase AwakeningType.Element:\n\t\t\t\t\t\tthis.stats.baseElementAttack += awakeningElement[awakening.level - 1];\n\t\t\t\t\t\tthis.stats.awakeningElementAttack += awakeningElement[awakening.level - 1];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase AwakeningType.Sharpness:\n\t\t\t\t\t\tthis.stats.extraSharpness += awakeningSharpness[awakening.level - 1];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst defense = awakenings.find(x => x.type == AwakeningType.Defense);\n\t\tif (defense) {\n\t\t\tthis.stats.passiveDefense += awakeningDefense[defense.level - 1];\n\t\t}\n\t\tconst slot = awakenings.find(x => x.type == AwakeningType.Slot);\n\t\tif (slot) {\n\t\t\tthis.stats.extraSlot += awakeningSlot[slot.level - 1];\n\t\t}\n\n\t\tif (weapon.weaponType == WeaponType.HuntingHorn) {\n\t\t\tlet melodyId = weapon.id;\n\n\t\t\tconst attackMelody = awakenings.find(x => x.type == AwakeningType.AttackMelody);\n\t\t\tif (attackMelody && attackMelody.level > 0) {\n\t\t\t\tmelodyId = this.awakeningsData.find(x => x.type == AwakeningType.AttackMelody).awakenings[0][attackMelody.level - 1];\n\t\t\t}\n\t\t\tconst staminaMelody = awakenings.find(x => x.type == AwakeningType.StaminaMelody);\n\t\t\tif (staminaMelody && staminaMelody.level > 0) {\n\t\t\t\tmelodyId = this.awakeningsData.find(x => x.type == AwakeningType.StaminaMelody).awakenings[0][staminaMelody.level - 1];\n\t\t\t}\n\t\t\tconst elementalMelody = awakenings.find(x => x.type == AwakeningType.ElementalMelody);\n\t\t\tif (elementalMelody && elementalMelody.level > 0) {\n\t\t\t\tmelodyId = this.awakeningsData.find(x => x.type == AwakeningType.ElementalMelody).awakenings[0][elementalMelody.level - 1];\n\t\t\t}\n\t\t\tconst statusMelody = awakenings.find(x => x.type == AwakeningType.StatusMelody);\n\t\t\tif (statusMelody && statusMelody.level > 0) {\n\t\t\t\tmelodyId = this.awakeningsData.find(x => x.type == AwakeningType.StatusMelody).awakenings[0][statusMelody.level - 1];\n\t\t\t}\n\t\t\tconst earplugsMelody = awakenings.find(x => x.type == AwakeningType.EarplugsMelody);\n\t\t\tif (earplugsMelody && earplugsMelody.level > 0) {\n\t\t\t\tmelodyId = this.awakeningsData.find(x => x.type == AwakeningType.EarplugsMelody).awakenings[0][earplugsMelody.level - 1];\n\t\t\t}\n\n\t\t\tweapon.melodies = this.dataService.getMelodiesById(melodyId);\n\t\t}\n\n\t\tif (weapon.ammoCapacities) {\n\t\t\tweapon.ammoCapacities = JSON.parse(JSON.stringify(this.dataService.getAmmoCapacities(weapon.id)));\n\n\t\t\tconst awakeningNormalCapacity: number[] = this.awakeningsData.find(x => x.type == AwakeningType.NormalCapacity).awakenings[0];\n\t\t\tconst awakeningPierceCapacity: number[] = this.awakeningsData.find(x => x.type == AwakeningType.PierceCapacity).awakenings[0];\n\t\t\tconst awakeningSpreadCapacity: number[] = this.awakeningsData.find(x => x.type == AwakeningType.SpreadCapacity).awakenings[0];\n\t\t\tconst awakeningElementalCapacity: number[] = this.awakeningsData.find(x => x.type == AwakeningType.ElementalCapacity).awakenings[0];\n\n\t\t\tconst normalCapacity = awakenings.find(x => x.type == AwakeningType.NormalCapacity);\n\t\t\tif (normalCapacity && normalCapacity.level >= 4) {\n\t\t\t\tconst normalAmmo = awakeningNormalCapacity[normalCapacity.level - 1];\n\t\t\t\tconst ammo = weapon.ammoCapacities.ammo.find(x => x.name == AmmoType.normal);\n\t\t\t\tif (ammo) {\n\t\t\t\t\tfor (const level of ammo.levels) {\n\t\t\t\t\t\tif (level.capacity > 0) {\n\t\t\t\t\t\t\tlevel.capacity += normalAmmo;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst pierceCapacity = awakenings.find(x => x.type == AwakeningType.PierceCapacity);\n\t\t\tif (pierceCapacity && pierceCapacity.level >= 4) {\n\t\t\t\tconst pierceAmmo = awakeningPierceCapacity[pierceCapacity.level - 1];\n\t\t\t\tconst ammo = weapon.ammoCapacities.ammo.find(x => x.name == AmmoType.pierce);\n\t\t\t\tif (ammo) {\n\t\t\t\t\tfor (const level of ammo.levels) {\n\t\t\t\t\t\tif (level.capacity > 0) {\n\t\t\t\t\t\t\tlevel.capacity += pierceAmmo;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst spreadCapacity = awakenings.find(x => x.type == AwakeningType.SpreadCapacity);\n\t\t\tif (spreadCapacity && spreadCapacity.level >= 4) {\n\t\t\t\tconst spreadAmmo = awakeningSpreadCapacity[spreadCapacity.level - 1];\n\t\t\t\tconst ammo = weapon.ammoCapacities.ammo.find(x => x.name == AmmoType.spread);\n\t\t\t\tif (ammo) {\n\t\t\t\t\tfor (const level of ammo.levels) {\n\t\t\t\t\t\tif (level.capacity > 0) {\n\t\t\t\t\t\t\tlevel.capacity += spreadAmmo;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst elementalCapacity = awakenings.find(x => x.type == AwakeningType.ElementalCapacity);\n\t\t\tif (elementalCapacity && elementalCapacity.level >= 4) {\n\t\t\t\tconst elementalAmmo = awakeningElementalCapacity[elementalCapacity.level - 1];\n\n\t\t\t\tconst fire = weapon.ammoCapacities.ammo.find(x => x.name == AmmoType.flaming);\n\t\t\t\tconst water = weapon.ammoCapacities.ammo.find(x => x.name == AmmoType.water);\n\t\t\t\tconst thunder = weapon.ammoCapacities.ammo.find(x => x.name == AmmoType.thunder);\n\t\t\t\tconst ice = weapon.ammoCapacities.ammo.find(x => x.name == AmmoType.freeze);\n\t\t\t\tconst dragon = weapon.ammoCapacities.ammo.find(x => x.name == AmmoType.dragon);\n\n\t\t\t\tif (fire && fire.levels[0].capacity > 0) {\n\t\t\t\t\tfire.levels[0].capacity += elementalAmmo;\n\t\t\t\t}\n\t\t\t\tif (water && water.levels[0].capacity > 0) {\n\t\t\t\t\twater.levels[0].capacity += elementalAmmo;\n\t\t\t\t}\n\t\t\t\tif (thunder && thunder.levels[0].capacity > 0) {\n\t\t\t\t\tthunder.levels[0].capacity += elementalAmmo;\n\t\t\t\t}\n\t\t\t\tif (ice && ice.levels[0].capacity > 0) {\n\t\t\t\t\tice.levels[0].capacity += elementalAmmo;\n\t\t\t\t}\n\t\t\t\tif (dragon && dragon.levels[0].capacity > 0) {\n\t\t\t\t\tdragon.levels[0].capacity = Math.min(dragon.levels[0].capacity + elementalAmmo, 3); // Dragon Max = 3\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate updateModifications(modifications: ModificationModel[]) {\n\t\tconst modGroups = _.groupBy(modifications, 'id');\n\n\t\tfor (const key in modGroups) {\n\t\t\tif (modGroups.hasOwnProperty(key)) {\n\t\t\t\tconst value = modGroups[key];\n\n\t\t\t\tconst level = value[0].levels[value.length - 1];\n\t\t\t\tif (level) {\n\t\t\t\t\tif (level.recoil) { this.stats.recoil += level.recoil; }\n\t\t\t\t\tif (level.reload) { this.stats.reload += level.reload; }\n\t\t\t\t\tif (level.deviation) { this.stats.deviation += level.deviation; }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate calculateAttack(weapon: ItemModel) {\n\t\tswitch (this.stats.element) {\n\t\t\tcase ElementType.Fire:\n\t\t\t\tthis.stats.effectivePassiveElementAttack = this.stats.passiveFireAttack;\n\t\t\t\tthis.stats.effectivePassiveElementAttack += this.nearestTen(this.stats.baseElementAttack * (this.stats.passiveFireAttackPercent / 100));\n\t\t\t\tbreak;\n\t\t\tcase ElementType.Water:\n\t\t\t\tthis.stats.effectivePassiveElementAttack = this.stats.passiveWaterAttack;\n\t\t\t\tthis.stats.effectivePassiveElementAttack += this.nearestTen(this.stats.baseElementAttack * (this.stats.passiveWaterAttackPercent / 100));\n\t\t\t\tbreak;\n\t\t\tcase ElementType.Thunder:\n\t\t\t\tthis.stats.effectivePassiveElementAttack = this.stats.passiveThunderAttack;\n\t\t\t\tthis.stats.effectivePassiveElementAttack += this.nearestTen(this.stats.baseElementAttack * (this.stats.passiveThunderAttackPercent / 100));\n\t\t\t\tbreak;\n\t\t\tcase ElementType.Ice:\n\t\t\t\tthis.stats.effectivePassiveElementAttack = this.stats.passiveIceAttack;\n\t\t\t\tthis.stats.effectivePassiveElementAttack += this.nearestTen(this.stats.baseElementAttack * (this.stats.passiveIceAttackPercent / 100));\n\t\t\t\tbreak;\n\t\t\tcase ElementType.Dragon:\n\t\t\t\tthis.stats.effectivePassiveElementAttack = this.stats.passiveDragonAttack;\n\t\t\t\tthis.stats.effectivePassiveElementAttack += this.nearestTen(this.stats.baseElementAttack * (this.stats.passiveDragonAttackPercent / 100));\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tswitch (this.stats.ailment) {\n\t\t\tcase AilmentType.Poison:\n\t\t\t\tthis.stats.effectivePassiveAilmentAttack = this.stats.passivePoisonAttack;\n\t\t\t\t// this.stats.effectivePassiveAilmentAttack += this.nearestTen(this.stats.baseAilmentAttack * (this.stats.passivePoisonBuildupPercent / 100));\n\t\t\t\tthis.stats.effectivePassiveAilmentBuildupPercent = this.stats.passivePoisonBuildupPercent;\n\t\t\t\tbreak;\n\t\t\tcase AilmentType.Sleep:\n\t\t\t\tthis.stats.effectivePassiveAilmentAttack = this.stats.passiveSleepAttack;\n\t\t\t\t// this.stats.effectivePassiveAilmentAttack += this.nearestTen(this.stats.baseAilmentAttack * (this.stats.passiveSleepBuildupPercent / 100));\n\t\t\t\tthis.stats.effectivePassiveAilmentBuildupPercent = this.stats.passiveSleepBuildupPercent;\n\t\t\t\tbreak;\n\t\t\tcase AilmentType.Paralysis:\n\t\t\t\tthis.stats.effectivePassiveAilmentAttack = this.stats.passiveParalysisAttack;\n\t\t\t\t// this.stats.effectivePassiveAilmentAttack += this.nearestTen(this.stats.baseAilmentAttack * (this.stats.passiveParalysisBuildupPercent / 100));\n\t\t\t\tthis.stats.effectivePassiveAilmentBuildupPercent = this.stats.passiveParalysisBuildupPercent;\n\t\t\t\tbreak;\n\t\t\tcase AilmentType.Blast:\n\t\t\t\tthis.stats.effectivePassiveAilmentAttack = this.stats.passiveBlastAttack;\n\t\t\t\t// this.stats.effectivePassiveAilmentAttack += this.nearestTen(this.stats.baseAilmentAttack * (this.stats.passiveBlastBuildupPercent / 100));\n\t\t\t\tthis.stats.effectivePassiveAilmentBuildupPercent = this.stats.passiveBlastBuildupPercent;\n\t\t\t\tbreak;\n\t\t\tcase AilmentType.Stun:\n\t\t\t\tthis.stats.effectivePassiveAilmentAttack = this.stats.passiveStunAttack;\n\t\t\t\t// this.stats.effectivePassiveAilmentAttack += this.nearestTen(this.stats.baseAilmentAttack * (this.stats.passiveStunBuildupPercent / 100));\n\t\t\t\tthis.stats.effectivePassiveAilmentBuildupPercent = this.stats.passiveStunBuildupPercent;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (weapon) {\n\t\t\tthis.stats.sharpnessDataNeeded = weapon.sharpnessDataNeeded;\n\t\t\tthis.stats.elementHidden = weapon.elementHidden;\n\t\t\tthis.stats.ailmentHidden = weapon.ailmentHidden;\n\t\t\tthis.stats.extraData = {\n\t\t\t\tweaponType: weapon.weaponType,\n\t\t\t\totherData: weapon.otherData\n\t\t\t};\n\n\t\t\tif (this.weaponModifier) {\n\t\t\t\tthis.stats.weaponAttackModifier = this.weaponModifier.attackModifier;\n\t\t\t\tthis.stats.critElementModifier = this.weaponModifier.critElementModifier;\n\t\t\t\tthis.stats.trueCritElementModifier = this.weaponModifier.trueCritElementModifier;\n\t\t\t\tthis.stats.critStatusModifier = this.weaponModifier.critStatusModifier;\n\t\t\t\tthis.stats.trueCritStatusModifier = this.weaponModifier.trueCritStatusModifier;\n\n\t\t\t\tif (this.stats.hastenRecovery != null) {\n\t\t\t\t\tthis.stats.hastenRecovery = this.weaponModifier.hastenRecovery;\n\t\t\t\t}\n\t\t\t\tif (this.stats.frostcraft != null) {\n\t\t\t\t\tthis.stats.frostcraft = this.weaponModifier.frostcraft;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (weapon && weapon.sharpnessLevelsBar.length && !isNaN(weapon.sharpnessLevelsBar[0])) {\n\t\t\tthis.stats.sharpnessLevelsBar = JSON.parse(JSON.stringify(weapon.sharpnessLevelsBar));\n\t\t\tif (weapon.sharpnessLevelsBar && !isNaN(weapon.sharpnessLevelsBar[0])) {\n\t\t\t\t// Extra Sharpness\n\t\t\t\tif (this.stats.extraSharpness > 0) {\n\t\t\t\t\tconst extraSharpness = this.stats.extraSharpness / 10;\n\n\t\t\t\t\tconst total = this.stats.sharpnessLevelsBar.reduce((a, b) => a + b, 0);\n\t\t\t\t\tlet maxHandicraft = 40 + 5 - total;\n\t\t\t\t\tlet currentSharpnessIndex = 0;\n\t\t\t\t\tfor (let i = this.stats.sharpnessLevelsBar.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tif (maxHandicraft > 0) {\n\t\t\t\t\t\t\tconst toSubstract = Math.min(this.stats.sharpnessLevelsBar[i], maxHandicraft);\n\t\t\t\t\t\t\tif (toSubstract < this.stats.sharpnessLevelsBar[i]) {\n\t\t\t\t\t\t\t\tcurrentSharpnessIndex = i;\n\t\t\t\t\t\t\t} else if (toSubstract == this.stats.sharpnessLevelsBar[i]) {\n\t\t\t\t\t\t\t\tcurrentSharpnessIndex = i - 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmaxHandicraft -= toSubstract;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.stats.sharpnessLevelsBar[i] == 0) {\n\t\t\t\t\t\t\tcurrentSharpnessIndex = i - 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet extraSharpnessAdd = extraSharpness;\n\t\t\t\t\tfor (let i = currentSharpnessIndex; i < this.stats.sharpnessLevelsBar.length; i++) {\n\t\t\t\t\t\tlet toAdd = 0;\n\t\t\t\t\t\tif (i < 6) {\n\t\t\t\t\t\t\ttoAdd = Math.min(12 - this.stats.sharpnessLevelsBar[i], extraSharpnessAdd);\n\t\t\t\t\t\t\tthis.stats.sharpnessLevelsBar[i] += toAdd;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttoAdd = extraSharpnessAdd;\n\t\t\t\t\t\t\tthis.stats.sharpnessLevelsBar[i] += toAdd;\n\t\t\t\t\t\t}\n\t\t\t\t\t\textraSharpnessAdd -= toAdd;\n\t\t\t\t\t\tif (extraSharpnessAdd == 0) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet extraSharpnessRemove = extraSharpness;\n\t\t\t\t\tfor (let i = 0; i < this.stats.sharpnessLevelsBar.length; i++) {\n\t\t\t\t\t\tconst toRemove = Math.min(this.stats.sharpnessLevelsBar[i] - 1, extraSharpnessRemove);\n\t\t\t\t\t\tthis.stats.sharpnessLevelsBar[i] -= toRemove;\n\t\t\t\t\t\textraSharpnessRemove -= toRemove;\n\t\t\t\t\t\tif (extraSharpnessRemove == 0) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\t// Handicraft\n\t\t\t\tlet levelsToSubstract = 5 - (this.stats.passiveSharpness / 10);\n\t\t\t\tlet colorIndex = this.stats.sharpnessLevelsBar.length - 1;\n\t\t\t\tfor (let i = this.stats.sharpnessLevelsBar.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (levelsToSubstract > 0) {\n\t\t\t\t\t\tconst toSubstract = Math.min(this.stats.sharpnessLevelsBar[i], levelsToSubstract);\n\t\t\t\t\t\tif (toSubstract < this.stats.sharpnessLevelsBar[i]) {\n\t\t\t\t\t\t\tcolorIndex = i;\n\t\t\t\t\t\t} else if (toSubstract == this.stats.sharpnessLevelsBar[i]) {\n\t\t\t\t\t\t\tcolorIndex = i - 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlevelsToSubstract -= toSubstract;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.stats.sharpnessLevelsBar[i] == 0) {\n\t\t\t\t\t\tcolorIndex = i - 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst sharpnessModifier = this.dataService.getSharpnessModifier(DamageType.Physical, colorIndex);\n\t\t\t\tif (sharpnessModifier) {\n\t\t\t\t\tthis.stats.effectivePhysicalSharpnessModifier = sharpnessModifier.value;\n\t\t\t\t}\n\t\t\t\tconst ElementalSharpnessModifier = this.dataService.getSharpnessModifier(DamageType.Elemental, colorIndex);\n\t\t\t\tif (ElementalSharpnessModifier) {\n\t\t\t\t\tthis.stats.effectiveElementalSharpnessModifier = ElementalSharpnessModifier.value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst elementAttackIncreaseCap = weapon ? weapon.elementAttackIncreaseCapOverride || this.defaultElementAttackIncreaseCap : this.defaultElementAttackIncreaseCap;\n\t\tconst ailmentAttackIncreaseCap = weapon ? weapon.elementAttackIncreaseCapOverride || this.defaultElementAttackIncreaseCap : this.defaultElementAttackIncreaseCap;\n\n\t\tif (this.stats.elementHidden) {\n\t\t\tthis.stats.effectiveElementAttack = this.nearestTen(Math.round(this.stats.baseElementAttack * this.stats.elementAttackMultiplier));\n\t\t} else {\n\t\t\tthis.stats.effectiveElementAttack = this.stats.baseElementAttack;\n\t\t}\n\n\t\tif (this.stats.ailmentHidden) {\n\t\t\tthis.stats.effectiveAilmentAttack = this.nearestTen(Math.round(this.stats.baseAilmentAttack * this.stats.elementAttackMultiplier));\n\n\t\t} else {\n\t\t\tthis.stats.effectiveAilmentAttack = this.stats.baseAilmentAttack;\n\t\t}\n\n\t\tthis.stats.elementCap = this.nearestTen(Math.round(this.stats.effectiveElementAttack + (this.stats.effectiveElementAttack * elementAttackIncreaseCap)));\n\t\tthis.stats.ailmentCap = this.nearestTen(Math.round(this.stats.effectiveAilmentAttack + (this.stats.effectiveAilmentAttack * ailmentAttackIncreaseCap)));\n\n\t\t// this.stats.totalElementAttack = Math.min(this.stats.effectiveElementAttack + this.stats.effectivePassiveElementAttack, this.stats.elementCap);\n\t\t// this.stats.totalAilmentAttack = Math.min(this.stats.effectiveAilmentAttack + this.stats.effectivePassiveAilmentAttack, this.stats.ailmentCap);\n\t\t// this.stats.elementCapped = this.stats.totalElementAttack > 0 && (this.stats.effectiveElementAttack + this.stats.effectivePassiveElementAttack) > this.stats.elementCap;\n\t\t// this.stats.ailmentCapped = this.stats.totalAilmentAttack > 0 && (this.stats.effectiveAilmentAttack + this.stats.effectivePassiveAilmentAttack) > this.stats.ailmentCap;\n\n\t\tthis.stats.totalElementAttack =\n\t\t\tthis.stats.effectiveElementAttack\n\t\t\t+ this.stats.effectivePassiveElementAttack;\n\t\tthis.stats.totalElementAttackPotential =\n\t\t\tthis.stats.effectiveElementAttack\n\t\t\t+ this.stats.effectivePassiveElementAttack\n\t\t\t+ this.stats.activeElementAttack;\n\t\tthis.stats.totalElementAttackPotential = this.nearestTen(this.stats.totalElementAttackPotential * 10) / 10;\n\n\t\tthis.stats.totalAilmentAttack =\n\t\t\tthis.stats.effectiveAilmentAttack * (1 + this.stats.effectivePassiveAilmentBuildupPercent / 100)\n\t\t\t+ this.stats.effectivePassiveAilmentAttack;\n\t\tthis.stats.totalAilmentAttackPotential =\n\t\t\tthis.stats.effectiveAilmentAttack * (1 + this.stats.effectivePassiveAilmentBuildupPercent / 100 + this.stats.activeAilmentAttackBuildUpPercent / 100)\n\t\t\t+ this.stats.effectivePassiveAilmentAttack\n\t\t\t+ this.stats.activeAilmentAttack;\n\t\tthis.stats.totalAilmentAttack = this.nearestTen(this.stats.totalAilmentAttack * 10) / 10;\n\t\tthis.stats.totalAilmentAttackPotential = this.nearestTen(this.stats.totalAilmentAttackPotential * 10) / 10;\n\n\t\tconst rawAttack = this.stats.attack / this.stats.weaponAttackModifier;\n\t\tconst elementless = 1 + this.stats.elementlessBoostPercent / 100;\n\t\tconst attackPercent = 1 + this.stats.activeAttackPercent / 100;\n\t\tif (this.checkElementless()) {\n\t\t\tthis.stats.totalAttack =\n\t\t\t\tMath.round(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\tMath.round(rawAttack * elementless)\n\t\t\t\t\t\t+ this.stats.upgradeAttack\n\t\t\t\t\t\t+ this.stats.awakeningAttack\n\t\t\t\t\t\t+ this.stats.passiveAttack\n\t\t\t\t\t) * this.stats.weaponAttackModifier\n\t\t\t\t);\n\t\t\tthis.stats.totalAttackPotential =\n\t\t\t\tMath.round(\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tMath.round(rawAttack * elementless)\n\t\t\t\t\t\t\t+ this.stats.upgradeAttack\n\t\t\t\t\t\t\t+ this.stats.awakeningAttack\n\t\t\t\t\t\t) * attackPercent\n\t\t\t\t\t\t+ this.stats.passiveAttack\n\t\t\t\t\t\t+ this.stats.activeAttack\n\t\t\t\t\t)\n\t\t\t\t\t* this.stats.weaponAttackModifier\n\t\t\t\t);\n\t\t\tthis.stats.elementless = true;\n\t\t} else {\n\t\t\tthis.stats.totalAttack =\n\t\t\t\tMath.round(\n\t\t\t\t\tMath.floor(\n\t\t\t\t\t\trawAttack\n\t\t\t\t\t\t+ this.stats.upgradeAttack\n\t\t\t\t\t\t+ this.stats.awakeningAttack\n\t\t\t\t\t\t+ this.stats.passiveAttack\n\t\t\t\t\t) * this.stats.weaponAttackModifier\n\t\t\t\t);\n\t\t\tthis.stats.totalAttackPotential =\n\t\t\t\tMath.round(\n\t\t\t\t\tMath.floor(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\trawAttack\n\t\t\t\t\t\t\t+ this.stats.upgradeAttack\n\t\t\t\t\t\t\t+ this.stats.awakeningAttack\n\t\t\t\t\t\t) * attackPercent\n\t\t\t\t\t\t+ this.stats.passiveAttack\n\t\t\t\t\t\t+ this.stats.activeAttack\n\t\t\t\t\t)\n\t\t\t\t\t* this.stats.weaponAttackModifier\n\t\t\t\t);\n\t\t\tthis.stats.elementless = false;\n\t\t}\n\n\t\tif (this.stats.elderseal && this.stats.eldersealLevelBoost) {\n\t\t\tconst eldersealTypes = Object.keys(EldersealType);\n\t\t\tconst currentIndex = eldersealTypes.indexOf(this.stats.elderseal);\n\t\t\tconst newIndex = Math.min(currentIndex + this.stats.eldersealLevelBoost, eldersealTypes.length - 1);\n\t\t\tthis.stats.elderseal = eldersealTypes[newIndex];\n\t\t}\n\t}\n\n\tprivate checkElementless() {\n\t\tif (this.stats.elementlessBoostPercent > 0 && this.stats.totalElementAttack == 0 && this.stats.totalAilmentAttack == 0) {\n\t\t\tif (this.stats.ammoCapacities) {\n\t\t\t\tconst flaming = this.stats.ammoCapacities.ammo.filter(ammo => ammo.name === 'flaming');\n\t\t\t\tconst water = this.stats.ammoCapacities.ammo.filter(ammo => ammo.name === 'water');\n\t\t\t\tconst freeze = this.stats.ammoCapacities.ammo.filter(ammo => ammo.name === 'freeze');\n\t\t\t\tconst thunder = this.stats.ammoCapacities.ammo.filter(ammo => ammo.name === 'thunder');\n\t\t\t\tconst dragon = this.stats.ammoCapacities.ammo.filter(ammo => ammo.name === 'dragon');\n\t\t\t\tif (\n\t\t\t\t\t(flaming.length == 0 || flaming[0].levels[0].capacity == 0)\n\t\t\t\t\t&& (water.length == 0 || water[0].levels[0].capacity == 0)\n\t\t\t\t\t&& (freeze.length == 0 || freeze[0].levels[0].capacity == 0)\n\t\t\t\t\t&& (thunder.length == 0 || thunder[0].levels[0].capacity == 0)\n\t\t\t\t\t&& (dragon.length == 0 || dragon[0].levels[0].capacity == 0)\n\t\t\t\t) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tprivate nearestTen(value: number): number {\n\t\treturn Math.round(value / 10) * 10;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { AugmentationModel } from '../models/augmentation.model';\nimport { DecorationModel } from '../models/decoration.model';\nimport { EquippedSetBonusModel } from '../models/equipped-set-bonus.model';\nimport { EquippedSkillModel } from '../models/equipped-skill.model';\nimport { ItemModel } from '../models/item.model';\nimport { KinsectModel } from '../models/kinsect.model';\nimport { ModificationModel } from '../models/modification.model';\nimport { SkillModel } from '../models/skill.model';\nimport { StatDetailModel } from '../models/stat-detail.model';\nimport { UpgradeContainerModel } from '../models/upgrade-container.model';\n\n@Injectable()\nexport class TooltipService {\n\tpublic itemChanged$ = new Subject<ItemModel>();\n\tpublic decorationChanged$ = new Subject<DecorationModel>();\n\tpublic augmentationChanged$ = new Subject<AugmentationModel>();\n\tpublic upgradeContainerChanged$ = new Subject<UpgradeContainerModel>();\n\tpublic modificationChanged$ = new Subject<ModificationModel>();\n\tpublic kinsectChanged$ = new Subject<KinsectModel>();\n\tpublic equippedSkillChanged$ = new Subject<EquippedSkillModel>();\n\tpublic equippedSetBonusChanged$ = new Subject<EquippedSetBonusModel>();\n\tpublic skillChanged$ = new Subject<SkillModel>();\n\tpublic calcChanged$ = new Subject<StatDetailModel>();\n\n\tpublic item: ItemModel;\n\tpublic decoration: DecorationModel;\n\tpublic augmentation: AugmentationModel;\n\tpublic upgradeContainer: UpgradeContainerModel;\n\tpublic modification: ModificationModel;\n\tpublic kinsect: KinsectModel;\n\tpublic equippedSkill: EquippedSkillModel;\n\tpublic equippedSetBonus: EquippedSetBonusModel;\n\tpublic skill: SkillModel;\n\tpublic calc: StatDetailModel;\n\n\tsetItem(item: ItemModel) {\n\t\tif (item != this.item) {\n\t\t\tthis.reset();\n\t\t\tthis.item = item;\n\t\t\tthis.itemChanged$.next(item);\n\t\t}\n\t}\n\n\tsetDecoration(decoration: DecorationModel) {\n\t\tif (decoration != this.decoration) {\n\t\t\tthis.reset();\n\t\t\tthis.decoration = decoration;\n\t\t\tthis.decorationChanged$.next(decoration);\n\t\t}\n\t}\n\n\tsetAugmentation(augmentation: AugmentationModel) {\n\t\tif (augmentation != this.augmentation) {\n\t\t\tthis.reset();\n\t\t\tthis.augmentation = augmentation;\n\t\t\tthis.augmentationChanged$.next(augmentation);\n\t\t}\n\t}\n\n\tsetUpgradeContainer(upgradeContainer: UpgradeContainerModel) {\n\t\tif (upgradeContainer != this.upgradeContainer) {\n\t\t\tthis.reset();\n\t\t\tthis.upgradeContainer = upgradeContainer;\n\t\t\tthis.upgradeContainerChanged$.next(upgradeContainer);\n\t\t}\n\t}\n\n\tsetModification(modification: ModificationModel) {\n\t\tif (modification != this.modification) {\n\t\t\tthis.reset();\n\t\t\tthis.modification = modification;\n\t\t\tthis.modificationChanged$.next(modification);\n\t\t}\n\t}\n\n\tsetKinsect(kinsect: KinsectModel) {\n\t\tif (kinsect != this.kinsect) {\n\t\t\tthis.reset();\n\t\t\tthis.kinsect = kinsect;\n\t\t\tthis.kinsectChanged$.next(kinsect);\n\t\t}\n\t}\n\n\tsetEquippedSkill(equippedSkill: EquippedSkillModel) {\n\t\tif (equippedSkill != this.equippedSkill) {\n\t\t\tthis.reset();\n\t\t\tthis.equippedSkill = equippedSkill;\n\t\t\tthis.equippedSkillChanged$.next(equippedSkill);\n\t\t}\n\t}\n\n\tsetEquippedSetBonus(equippedSetBonus: EquippedSetBonusModel) {\n\t\tif (equippedSetBonus != this.equippedSetBonus) {\n\t\t\tthis.reset();\n\t\t\tthis.equippedSetBonus = equippedSetBonus;\n\t\t\tthis.equippedSetBonusChanged$.next(equippedSetBonus);\n\t\t}\n\t}\n\n\tsetSkill(skill: SkillModel) {\n\t\tif (skill != this.skill) {\n\t\t\tthis.reset();\n\t\t\tthis.skill = skill;\n\t\t\tthis.skillChanged$.next(skill);\n\t\t}\n\t}\n\n\tsetCalc(calc: StatDetailModel) {\n\t\tif (calc != this.calc) {\n\t\t\tthis.reset();\n\t\t\tthis.calc = calc;\n\t\t\tthis.calcChanged$.next(calc);\n\t\t}\n\t}\n\n\tprivate reset() {\n\t\tthis.item = null;\n\t\tthis.decoration = null;\n\t\tthis.augmentation = null;\n\t\tthis.upgradeContainer = null;\n\t\tthis.modification = null;\n\t\tthis.kinsect = null;\n\t\tthis.equippedSkill = null;\n\t\tthis.equippedSetBonus = null;\n\t\tthis.skill = null;\n\t\tthis.calc = null;\n\t}\n}\n","export enum AilmentType {\n\tNone = 'None',\n\tParalysis = 'Paralysis',\n\tSleep = 'Sleep',\n\tPoison = 'Poison',\n\tBlast = 'Blast',\n\tStun = 'Stun'\n}\n","export enum AmmoType {\n\tnormal = 'normal',\n\tpierce = 'pierce',\n\tspread = 'spread',\n\tsticky = 'sticky',\n\tcluster = 'cluster',\n\trecover = 'recover',\n\tpoison = 'poison',\n\tparalysis = 'paralysis',\n\tsleep = 'sleep',\n\texhaust = 'exahust',\n\tflaming = 'flaming',\n\twater = 'water',\n\tfreeze = 'freeze',\n\tthunder = 'thunder',\n\tdragon = 'dragon',\n\tslicing = 'slicing',\n\twyvern = 'wyvern',\n\tdemon = 'demon',\n\tarmor = 'armor',\n\ttranq = 'tranq'\n}\n","export enum AttackType {\n\tSever = 'Sever',\n\tBlunt = 'Blunt'\n}\n","export enum AwakeningType {\n\tNone = 'None',\n\tAttack = 'Attack',\n\tAffinity = 'Affinity',\n\tDefense = 'Defense',\n\tSlot = 'Slot',\n\tAilment = 'Ailment',\n\tElement = 'Element',\n\tSharpness = 'Sharpness',\n\tNormalCapacity = 'NormalCapacity',\n\tPierceCapacity = 'PierceCapacity',\n\tSpreadCapacity = 'SpreadCapacity',\n\tElementalCapacity = 'ElementalCapacity',\n\tAttackMelody = 'AttackMelody',\n\tStaminaMelody = 'StaminaMelody',\n\tElementalMelody = 'ElementalMelody',\n\tStatusMelody = 'StatusMelody',\n\tEarplugsMelody = 'EarplugsMelody'\n}\n","export enum DamageType {\n\tPhysical = 'Physical',\n\tElemental = 'Elemental'\n}\n","export enum DeviationType {\n\tNA = 'NA',\n\tNone = 'None',\n\tLow = 'Low',\n\tAverage = 'Average',\n\tHigh = 'High'\n}\n\nexport enum RecoilType {\n\tAutoReload = 0,\n\tVeryLow = 1,\n\tLow = 2,\n\tAverage = 3,\n\tHigh = 4,\n\tVeryHigh = 5,\n\tWyvern = 6\n}\nexport enum ReloadType {\n\tVerySlow = 1,\n\tSlow = 2,\n\tNormal = 3,\n\tFast = 4,\n\tVeryFast = 5\n}\n\n","export enum EldersealType {\n\tLow = 'Low',\n\tAverage = 'Average',\n\tHigh = 'High'\n}\n","export enum ElementType {\n\tNone = 'None',\n\tFire = 'Fire',\n\tWater = 'Water',\n\tThunder = 'Thunder',\n\tIce = 'Ice',\n\tDragon = 'Dragon'\n}\n","export enum EquipmentCategoryType {\n\tWeapon = 'Weapon',\n\tArmor = 'Armor',\n\tCharm = 'Charm',\n\tTool = 'Tool',\n\tKinsect = 'Kinsect'\n}\n","export enum ItemType {\n\tWeapon = 'Weapon',\n\tHead = 'Head',\n\tChest = 'Chest',\n\tArms = 'Arms',\n\tWaist = 'Waist',\n\tLegs = 'Legs',\n\tCharm = 'Charm',\n\tTool1 = 'Tool1',\n\tTool2 = 'Tool2',\n\tDecoration = 'Decoration',\n\tAugmentation = 'Augmentation',\n\tUpgrade = 'Upgrade',\n\tAwakening = 'Awakening',\n\tModification = 'Modification',\n\tKinsect = 'Kinsect'\n}\n","export enum ModeType {\n\tActive = 1,\n\tInactive = 2,\n\tAllSkillActive = 3\n}\n","export enum PointerType {\n\tMouse = 'mouse',\n\tTouch = 'touch',\n\tPen = 'pen'\n}\n","export enum WeaponType {\n\tGreatSword = 'GreatSword',\n\tLongSword = 'LongSword',\n\tSwordAndShield = 'SwordAndShield',\n\tDualBlades = 'DualBlades',\n\tHammer = 'Hammer',\n\tHuntingHorn = 'HuntingHorn',\n\tLance = 'Lance',\n\tGunlance = 'Gunlance',\n\tSwitchAxe = 'SwitchAxe',\n\tChargeBlade = 'ChargeBlade',\n\tInsectGlaive = 'InsectGlaive',\n\tLightBowgun = 'LightBowgun',\n\tHeavyBowgun = 'HeavyBowgun',\n\tBow = 'Bow'\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}